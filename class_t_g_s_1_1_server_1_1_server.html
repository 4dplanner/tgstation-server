<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tgstation-server: TGS.Server.Server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tgs.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tgstation-server
   </div>
   <div id="projectbrief">The /tg/station 13 server suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_t_g_s.html">TGS</a></li><li class="navelem"><a class="el" href="namespace_t_g_s_1_1_server.html">Server</a></li><li class="navelem"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html">Server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_t_g_s_1_1_server_1_1_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TGS.Server.Server Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The windows service the application runs as  
 <a href="class_t_g_s_1_1_server_1_1_server.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for TGS.Server.Server:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_g_s_1_1_server_1_1_server.png" usemap="#TGS.Server.Server_map" alt=""/>
  <map id="TGS.Server.Server_map" name="TGS.Server.Server_map">
<area href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service.html" title="Interface for managing the service " alt="TGS.Interface.Components.ITGSService" shape="rect" coords="0,0,284,24"/>
<area href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html" title="Used for testing connections to the service without authentication " alt="TGS.Interface.Components.ITGConnectivity" shape="rect" coords="294,0,578,24"/>
<area href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_landing.html" title="Used for general authentication and listing ITGInstances " alt="TGS.Interface.Components.ITGLanding" shape="rect" coords="588,0,872,24"/>
<area href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html" title="Used for managing ITGInstances " alt="TGS.Interface.Components.ITGInstanceManager" shape="rect" coords="882,0,1166,24"/>
<area href="class_i_disposable.html" alt="IDisposable" shape="rect" coords="1176,0,1460,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac4176ac33c52820ff6179dba92f1b092"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ac4176ac33c52820ff6179dba92f1b092">Server</a> (string[] args, <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html">ILogger</a> logger)</td></tr>
<tr class="memdesc:ac4176ac33c52820ff6179dba92f1b092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a>  <a href="#ac4176ac33c52820ff6179dba92f1b092">More...</a><br /></td></tr>
<tr class="separator:ac4176ac33c52820ff6179dba92f1b092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a7216e002c09db6b910b1fe7784ba3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#af9a7216e002c09db6b910b1fe7784ba3">VerifyConnection</a> ()</td></tr>
<tr class="memdesc:af9a7216e002c09db6b910b1fe7784ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does nothing on the server end, but if the call completes, you can be sure you are connected. WCF won't throw until you try until you actually use the API   <a href="#af9a7216e002c09db6b910b1fe7784ba3">More...</a><br /></td></tr>
<tr class="separator:af9a7216e002c09db6b910b1fe7784ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e7caeecf4413f1c2b4a02f570d4279"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ad3e7caeecf4413f1c2b4a02f570d4279">PrepareForUpdate</a> ()</td></tr>
<tr class="memdesc:ad3e7caeecf4413f1c2b4a02f570d4279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next stop of the service will not close DD and sets a flag for it to reattach once it restarts   <a href="#ad3e7caeecf4413f1c2b4a02f570d4279">More...</a><br /></td></tr>
<tr class="separator:ad3e7caeecf4413f1c2b4a02f570d4279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afafc63c95ba75b9dbbfaf03be2ae74ea"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#afafc63c95ba75b9dbbfaf03be2ae74ea">RemoteAccessPort</a> ()</td></tr>
<tr class="memdesc:afafc63c95ba75b9dbbfaf03be2ae74ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port used for remote operation   <a href="#afafc63c95ba75b9dbbfaf03be2ae74ea">More...</a><br /></td></tr>
<tr class="separator:afafc63c95ba75b9dbbfaf03be2ae74ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb3c6657df1f2a5f204f2d459dadff8f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#acb3c6657df1f2a5f204f2d459dadff8f">SetRemoteAccessPort</a> (ushort port)</td></tr>
<tr class="memdesc:acb3c6657df1f2a5f204f2d459dadff8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the port used for remote operation Requires a service restart to take effect   <a href="#acb3c6657df1f2a5f204f2d459dadff8f">More...</a><br /></td></tr>
<tr class="separator:acb3c6657df1f2a5f204f2d459dadff8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaeae4807f8701704f383ac852e20550"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#aaaeae4807f8701704f383ac852e20550">Version</a> ()</td></tr>
<tr class="memdesc:aaaeae4807f8701704f383ac852e20550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve's the service's version   <a href="#aaaeae4807f8701704f383ac852e20550">More...</a><br /></td></tr>
<tr class="separator:aaaeae4807f8701704f383ac852e20550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43a6837709895fc742fed2ce060ec904"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a43a6837709895fc742fed2ce060ec904">SetPythonPath</a> (string path)</td></tr>
<tr class="memdesc:a43a6837709895fc742fed2ce060ec904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the path to the python 2.7 installation   <a href="#a43a6837709895fc742fed2ce060ec904">More...</a><br /></td></tr>
<tr class="separator:a43a6837709895fc742fed2ce060ec904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abd1c80b5ff5f2f078f6fe8ee48e27c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a3abd1c80b5ff5f2f078f6fe8ee48e27c">PythonPath</a> ()</td></tr>
<tr class="memdesc:a3abd1c80b5ff5f2f078f6fe8ee48e27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the path to the python 2.7 installation   <a href="#a3abd1c80b5ff5f2f078f6fe8ee48e27c">More...</a><br /></td></tr>
<tr class="separator:a3abd1c80b5ff5f2f078f6fe8ee48e27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0937ad473d06d1a1f817a1acc718225"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="class_t_g_s_1_1_interface_1_1_instance_metadata.html">InstanceMetadata</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ae0937ad473d06d1a1f817a1acc718225">ListInstances</a> ()</td></tr>
<tr class="memdesc:ae0937ad473d06d1a1f817a1acc718225"><td class="mdescLeft">&#160;</td><td class="mdescRight">List instances that the caller can access   <a href="#ae0937ad473d06d1a1f817a1acc718225">More...</a><br /></td></tr>
<tr class="separator:ae0937ad473d06d1a1f817a1acc718225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd633ced6347516d4d115a65addf78a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a1fd633ced6347516d4d115a65addf78a">CreateInstance</a> (string Name, string path)</td></tr>
<tr class="memdesc:a1fd633ced6347516d4d115a65addf78a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance.html" title="Metadata for a server instance ">ITGInstance</a>   <a href="#a1fd633ced6347516d4d115a65addf78a">More...</a><br /></td></tr>
<tr class="separator:a1fd633ced6347516d4d115a65addf78a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9003533ba8205130476d8e54c1d4a3"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a2d9003533ba8205130476d8e54c1d4a3">ImportInstance</a> (string path)</td></tr>
<tr class="memdesc:a2d9003533ba8205130476d8e54c1d4a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an existing server instance   <a href="#a2d9003533ba8205130476d8e54c1d4a3">More...</a><br /></td></tr>
<tr class="separator:a2d9003533ba8205130476d8e54c1d4a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979b90ae37e4a7e2db71af80305e98b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a979b90ae37e4a7e2db71af80305e98b9">InstanceEnabled</a> (string Name)</td></tr>
<tr class="memdesc:a979b90ae37e4a7e2db71af80305e98b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if an instance is online   <a href="#a979b90ae37e4a7e2db71af80305e98b9">More...</a><br /></td></tr>
<tr class="separator:a979b90ae37e4a7e2db71af80305e98b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557f30d15c0440da70d24b8c7478203e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a557f30d15c0440da70d24b8c7478203e">SetInstanceEnabled</a> (string Name, bool enabled)</td></tr>
<tr class="memdesc:a557f30d15c0440da70d24b8c7478203e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an instance's enabled status   <a href="#a557f30d15c0440da70d24b8c7478203e">More...</a><br /></td></tr>
<tr class="separator:a557f30d15c0440da70d24b8c7478203e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d37254909998b99a6b5611360a96fb"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ae6d37254909998b99a6b5611360a96fb">RenameInstance</a> (string name, string new_name)</td></tr>
<tr class="memdesc:ae6d37254909998b99a6b5611360a96fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renames an instance, this will restart the instance if it is enabled   <a href="#ae6d37254909998b99a6b5611360a96fb">More...</a><br /></td></tr>
<tr class="separator:ae6d37254909998b99a6b5611360a96fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928e17719ea63a3cbe289d67c5c0d6c0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a928e17719ea63a3cbe289d67c5c0d6c0">DetachInstance</a> (string name)</td></tr>
<tr class="memdesc:a928e17719ea63a3cbe289d67c5c0d6c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables and unregisters an instance, allowing the folder and data to be manipulated manually   <a href="#a928e17719ea63a3cbe289d67c5c0d6c0">More...</a><br /></td></tr>
<tr class="separator:a928e17719ea63a3cbe289d67c5c0d6c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade99414a470f1128e8ef57a0dd6789a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ade99414a470f1128e8ef57a0dd6789a7">Dispose</a> ()</td></tr>
<tr class="memdesc:ade99414a470f1128e8ef57a0dd6789a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern  <a href="#ade99414a470f1128e8ef57a0dd6789a7">More...</a><br /></td></tr>
<tr class="separator:ade99414a470f1128e8ef57a0dd6789a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abc583e331c2692b47d83a4af67ddb5b4"><td class="memItemLeft" align="right" valign="top">static WindowsImpersonationContext&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#abc583e331c2692b47d83a4af67ddb5b4">BeginImpersonation</a> ()</td></tr>
<tr class="memdesc:abc583e331c2692b47d83a4af67ddb5b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins user impersonation to allow proper restricted file access  <a href="#abc583e331c2692b47d83a4af67ddb5b4">More...</a><br /></td></tr>
<tr class="separator:abc583e331c2692b47d83a4af67ddb5b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a702eca8419343fd22ea34a63fc24772e"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">LoggingID</a> = 0</td></tr>
<tr class="memdesc:a702eca8419343fd22ea34a63fc24772e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logging ID used for <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a> events  <a href="#a702eca8419343fd22ea34a63fc24772e">More...</a><br /></td></tr>
<tr class="separator:a702eca8419343fd22ea34a63fc24772e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2024354f2377a559194c252eec1611c"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ad2024354f2377a559194c252eec1611c">MigrationConfigDirectory</a> = &quot;C:\\TGSSettingUpgradeTempDir&quot;</td></tr>
<tr class="memdesc:ad2024354f2377a559194c252eec1611c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The directory to use when importing a .NET settings based config  <a href="#ad2024354f2377a559194c252eec1611c">More...</a><br /></td></tr>
<tr class="separator:ad2024354f2377a559194c252eec1611c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a822f4126695b19deb476485057021851"><td class="memItemLeft" align="right" valign="top">static readonly string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a822f4126695b19deb476485057021851">VersionString</a> = String.Format(&quot;/tg/station 13 <a class="el" href="class_t_g_s_1_1_server_1_1_server.html">Server</a> v{0}&quot;, Assembly.GetExecutingAssembly().GetName().<a class="el" href="class_t_g_s_1_1_server_1_1_server.html#aaaeae4807f8701704f383ac852e20550">Version</a>)</td></tr>
<tr class="memdesc:a822f4126695b19deb476485057021851"><td class="mdescLeft">&#160;</td><td class="mdescRight">The service version string based on the AssemblyName's System.Version  <a href="#a822f4126695b19deb476485057021851">More...</a><br /></td></tr>
<tr class="separator:a822f4126695b19deb476485057021851"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a1d74616cab26fd2b954f87e6a9b911a6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html">ILogger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">Logger</a><code> [get, private set]</code></td></tr>
<tr class="memdesc:a1d74616cab26fd2b954f87e6a9b911a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html" title="Used for writing logs to a provider ">ILogger</a>  <a href="#a1d74616cab26fd2b954f87e6a9b911a6">More...</a><br /></td></tr>
<tr class="separator:a1d74616cab26fd2b954f87e6a9b911a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc8b0e2ed7eaa12ae89d661912a01e50"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html">ServerConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a><code> [get, private set]</code></td></tr>
<tr class="memdesc:adc8b0e2ed7eaa12ae89d661912a01e50"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html" title="Class for storing server wide settings ">ServerConfig</a> for the <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a>  <a href="#adc8b0e2ed7eaa12ae89d661912a01e50">More...</a><br /></td></tr>
<tr class="separator:adc8b0e2ed7eaa12ae89d661912a01e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aca3e4b51f2911f5adab680ee1788075e"><td class="memItemLeft" align="right" valign="top">IEnumerable&lt; <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">GetInstanceConfigs</a> ()</td></tr>
<tr class="memdesc:aca3e4b51f2911f5adab680ee1788075e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates configured <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html" title="Configuration settings for a Instance ">IInstanceConfig</a>s. Detaches those that fail to load  <a href="#aca3e4b51f2911f5adab680ee1788075e">More...</a><br /></td></tr>
<tr class="separator:aca3e4b51f2911f5adab680ee1788075e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85f8ad559e7ad19aa4a35b173b75478"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ac85f8ad559e7ad19aa4a35b173b75478">ChangePortFromCommandLine</a> (string[] args)</td></tr>
<tr class="memdesc:ac85f8ad559e7ad19aa4a35b173b75478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrides and saves the configured <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad" title="Port used to access the Server remotely ">ServerConfig.RemoteAccessPort</a> if requested by command line parameters  <a href="#ac85f8ad559e7ad19aa4a35b173b75478">More...</a><br /></td></tr>
<tr class="separator:ac85f8ad559e7ad19aa4a35b173b75478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1a4188b85e8aea3a1ce2f0394007a38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ab1a4188b85e8aea3a1ce2f0394007a38">SetupConfig</a> ()</td></tr>
<tr class="memdesc:ab1a4188b85e8aea3a1ce2f0394007a38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upgrades up the service configuration  <a href="#ab1a4188b85e8aea3a1ce2f0394007a38">More...</a><br /></td></tr>
<tr class="separator:ab1a4188b85e8aea3a1ce2f0394007a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eab4892a65d9abaaca430f036f3b742"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a7eab4892a65d9abaaca430f036f3b742">SetupService</a> ()</td></tr>
<tr class="memdesc:a7eab4892a65d9abaaca430f036f3b742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the ServiceHost for ITGSService  <a href="#a7eab4892a65d9abaaca430f036f3b742">More...</a><br /></td></tr>
<tr class="separator:a7eab4892a65d9abaaca430f036f3b742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41adf96032cfab1b226192fe3c3b0924"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a41adf96032cfab1b226192fe3c3b0924">OnlineAllHosts</a> ()</td></tr>
<tr class="memdesc:a41adf96032cfab1b226192fe3c3b0924"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens all created ServiceHosts  <a href="#a41adf96032cfab1b226192fe3c3b0924">More...</a><br /></td></tr>
<tr class="separator:a41adf96032cfab1b226192fe3c3b0924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a300e8fa5845202d3aa47baa49d0e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ac3a300e8fa5845202d3aa47baa49d0e4">SetupInstances</a> ()</td></tr>
<tr class="memdesc:ac3a300e8fa5845202d3aa47baa49d0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates ServiceHosts for all <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>s as listed in <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad" title="List of paths that contain Instances ">ServerConfig.InstancePaths</a>, detaches bad ones  <a href="#ac3a300e8fa5845202d3aa47baa49d0e4">More...</a><br /></td></tr>
<tr class="separator:ac3a300e8fa5845202d3aa47baa49d0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c766dcb7ff9a155f16833e35cd2d10d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a3c766dcb7ff9a155f16833e35cd2d10d">UnlockLoggingID</a> (byte ID)</td></tr>
<tr class="memdesc:a3c766dcb7ff9a155f16833e35cd2d10d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8" title="Used to assign the instance to event IDs ">Instance.LoggingID</a> acquired with <a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a7939236efbbddb15e9c3684eff4d69a2" title="Gets and locks a Instance.LoggingID ">LockLoggingID</a>  <a href="#a3c766dcb7ff9a155f16833e35cd2d10d">More...</a><br /></td></tr>
<tr class="separator:a3c766dcb7ff9a155f16833e35cd2d10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7939236efbbddb15e9c3684eff4d69a2"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a7939236efbbddb15e9c3684eff4d69a2">LockLoggingID</a> ()</td></tr>
<tr class="memdesc:a7939236efbbddb15e9c3684eff4d69a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets and locks a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8" title="Used to assign the instance to event IDs ">Instance.LoggingID</a>  <a href="#a7939236efbbddb15e9c3684eff4d69a2">More...</a><br /></td></tr>
<tr class="separator:a7939236efbbddb15e9c3684eff4d69a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd0676a7a18d7aaeb0561d166406cbe"><td class="memItemLeft" align="right" valign="top">ServiceHost&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#affd0676a7a18d7aaeb0561d166406cbe">SetupInstance</a> (<a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a> config)</td></tr>
<tr class="memdesc:affd0676a7a18d7aaeb0561d166406cbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and starts a ServiceHost for a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> at <em>config</em>   <a href="#affd0676a7a18d7aaeb0561d166406cbe">More...</a><br /></td></tr>
<tr class="separator:affd0676a7a18d7aaeb0561d166406cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6005800bd27448325d4b80cd0b1ee72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a> (ServiceHost host, Type typetype)</td></tr>
<tr class="memdesc:ae6005800bd27448325d4b80cd0b1ee72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a WCF endpoint for a component <em>typetype</em>   <a href="#ae6005800bd27448325d4b80cd0b1ee72">More...</a><br /></td></tr>
<tr class="separator:ae6005800bd27448325d4b80cd0b1ee72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad953f35dc952e06223e9504941b7c6ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ad953f35dc952e06223e9504941b7c6ee">OnStop</a> ()</td></tr>
<tr class="memdesc:ad953f35dc952e06223e9504941b7c6ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down all active ServiceHosts and calls IDisposable.Dispose on it's <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#ad953f35dc952e06223e9504941b7c6ee">More...</a><br /></td></tr>
<tr class="separator:ad953f35dc952e06223e9504941b7c6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9793fcde0c006c23936f679eaebe4b42"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a9793fcde0c006c23936f679eaebe4b42">SetupOneInstance</a> (<a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a> config)</td></tr>
<tr class="memdesc:a9793fcde0c006c23936f679eaebe4b42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts and onlines an instance located at <em>config</em>   <a href="#a9793fcde0c006c23936f679eaebe4b42">More...</a><br /></td></tr>
<tr class="separator:a9793fcde0c006c23936f679eaebe4b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430c4dafe3ad8cde20462b14c0df1aec"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a430c4dafe3ad8cde20462b14c0df1aec">SetInstanceEnabledImpl</a> (string Name, bool enabled, out string path)</td></tr>
<tr class="memdesc:a430c4dafe3ad8cde20462b14c0df1aec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>'s enabled status  <a href="#a430c4dafe3ad8cde20462b14c0df1aec">More...</a><br /></td></tr>
<tr class="separator:a430c4dafe3ad8cde20462b14c0df1aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d3d4bbc5df7a10114a49d78ff0bcb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#aa1d3d4bbc5df7a10114a49d78ff0bcb4">Dispose</a> (bool disposing)</td></tr>
<tr class="memdesc:aa1d3d4bbc5df7a10114a49d78ff0bcb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern. Calls <a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ad953f35dc952e06223e9504941b7c6ee" title="Shuts down all active ServiceHosts and calls IDisposable.Dispose on it&#39;s Instance ...">OnStop</a>  <a href="#aa1d3d4bbc5df7a10114a49d78ff0bcb4">More...</a><br /></td></tr>
<tr class="separator:aa1d3d4bbc5df7a10114a49d78ff0bcb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a8af19f53ce6ebfba60a09817af26a667"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a8af19f53ce6ebfba60a09817af26a667">CheckInstanceName</a> (string instanceName)</td></tr>
<tr class="memdesc:a8af19f53ce6ebfba60a09817af26a667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks an <em>instanceName</em>  for illegal characters  <a href="#a8af19f53ce6ebfba60a09817af26a667">More...</a><br /></td></tr>
<tr class="separator:a8af19f53ce6ebfba60a09817af26a667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a761439cde270c74bcf338b83806859ca"><td class="memItemLeft" align="right" valign="top">static ServiceHost&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a761439cde270c74bcf338b83806859ca">CreateHost</a> (object singleton, string endpointPostfix)</td></tr>
<tr class="memdesc:a761439cde270c74bcf338b83806859ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a ServiceHost for <em>singleton</em>  using the default pipe, CloseTimeout for the ServiceHost, and the configured <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad" title="Port used to access the Server remotely ">ServerConfig.RemoteAccessPort</a>  <a href="#a761439cde270c74bcf338b83806859ca">More...</a><br /></td></tr>
<tr class="separator:a761439cde270c74bcf338b83806859ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:adc59504b21e321ca8b9ca792a04099c4"><td class="memItemLeft" align="right" valign="top">ServiceHost&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a></td></tr>
<tr class="memdesc:adc59504b21e321ca8b9ca792a04099c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The WCF host that contains ITGSService connects to  <a href="#adc59504b21e321ca8b9ca792a04099c4">More...</a><br /></td></tr>
<tr class="separator:adc59504b21e321ca8b9ca792a04099c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9fd7531267a1affc98b5b3d53b38262"><td class="memItemLeft" align="right" valign="top">IDictionary&lt; string, ServiceHost &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a></td></tr>
<tr class="memdesc:ac9fd7531267a1affc98b5b3d53b38262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#a157cc0930e5e2e0c686081a563baa4d1">InstanceConfig.Name</a> to the respective ServiceHost hosting the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#ac9fd7531267a1affc98b5b3d53b38262">More...</a><br /></td></tr>
<tr class="separator:ac9fd7531267a1affc98b5b3d53b38262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6213ea2ae98c0bd5123ad7602e7fb4c0"><td class="memItemLeft" align="right" valign="top">IList&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a6213ea2ae98c0bd5123ad7602e7fb4c0">UsedLoggingIDs</a> = new List&lt;int&gt;()</td></tr>
<tr class="memdesc:a6213ea2ae98c0bd5123ad7602e7fb4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8" title="Used to assign the instance to event IDs ">Instance.LoggingID</a>s in use  <a href="#a6213ea2ae98c0bd5123ad7602e7fb4c0">More...</a><br /></td></tr>
<tr class="separator:a6213ea2ae98c0bd5123ad7602e7fb4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243d9d6f8494daa551bd5d692204e745"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a243d9d6f8494daa551bd5d692204e745">disposedValue</a> = false</td></tr>
<tr class="memdesc:a243d9d6f8494daa551bd5d692204e745"><td class="mdescLeft">&#160;</td><td class="mdescRight">To detect redundant <a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ade99414a470f1128e8ef57a0dd6789a7" title="Implements the IDisposable pattern ">Dispose()</a> calls  <a href="#a243d9d6f8494daa551bd5d692204e745">More...</a><br /></td></tr>
<tr class="separator:a243d9d6f8494daa551bd5d692204e745"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a584355066ff6bc0e6d0f45918d1d49ec"><td class="memItemLeft" align="right" valign="top">static readonly string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">DefaultConfigDirectory</a> = Directory.CreateDirectory(Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData), &quot;TGS.Server&quot;)).FullName</td></tr>
<tr class="memdesc:a584355066ff6bc0e6d0f45918d1d49ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">The directory to load and save <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html" title="Class for storing server wide settings ">ServerConfig</a>s to  <a href="#a584355066ff6bc0e6d0f45918d1d49ec">More...</a><br /></td></tr>
<tr class="separator:a584355066ff6bc0e6d0f45918d1d49ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The windows service the application runs as </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00017">17</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac4176ac33c52820ff6179dba92f1b092"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TGS.Server.Server.Server </td>
          <td>(</td>
          <td class="paramtype">string[]&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html">ILogger</a>&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>Command line arguments for the <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a></td></tr>
    <tr><td class="paramname">logger</td><td>The <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html" title="Used for writing logs to a provider ">ILogger</a> to use</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00090">90</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">Logger</a> = logger;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            Environment.CurrentDirectory = Directory.CreateDirectory(Path.Combine(Path.GetTempPath(), Assembly.GetExecutingAssembly().GetName().Name)).FullName;  <span class="comment">//MOVE THIS POINTER BECAUSE ONE TIME I ALMOST ACCIDENTALLY NUKED MYSELF BY REFACTORING! http://imgur.com/zvGEpJD.png</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ab1a4188b85e8aea3a1ce2f0394007a38">SetupConfig</a>();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac85f8ad559e7ad19aa4a35b173b75478">ChangePortFromCommandLine</a>(args);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a7eab4892a65d9abaaca430f036f3b742">SetupService</a>();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac3a300e8fa5845202d3aa47baa49d0e4">SetupInstances</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a41adf96032cfab1b226192fe3c3b0924">OnlineAllHosts</a>();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac85f8ad559e7ad19aa4a35b173b75478"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac85f8ad559e7ad19aa4a35b173b75478">TGS.Server.Server.ChangePortFromCommandLine</a></div><div class="ttdeci">void ChangePortFromCommandLine(string[] args)</div><div class="ttdoc">Overrides and saves the configured ServerConfig.RemoteAccessPort if requested by command line paramet...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00141">Server.cs:141</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac3a300e8fa5845202d3aa47baa49d0e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac3a300e8fa5845202d3aa47baa49d0e4">TGS.Server.Server.SetupInstances</a></div><div class="ttdeci">void SetupInstances()</div><div class="ttdoc">Creates ServiceHosts for all Instances as listed in ServerConfig.InstancePaths, detaches bad ones ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00230">Server.cs:230</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a7eab4892a65d9abaaca430f036f3b742"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a7eab4892a65d9abaaca430f036f3b742">TGS.Server.Server.SetupService</a></div><div class="ttdeci">void SetupService()</div><div class="ttdoc">Creates the ServiceHost for ITGSService </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00192">Server.cs:192</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a1d74616cab26fd2b954f87e6a9b911a6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">TGS.Server.Server.Logger</a></div><div class="ttdeci">static ILogger Logger</div><div class="ttdoc">Singleton ILogger </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00037">Server.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a41adf96032cfab1b226192fe3c3b0924"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a41adf96032cfab1b226192fe3c3b0924">TGS.Server.Server.OnlineAllHosts</a></div><div class="ttdeci">void OnlineAllHosts()</div><div class="ttdoc">Opens all created ServiceHosts </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00206">Server.cs:206</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ab1a4188b85e8aea3a1ce2f0394007a38"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ab1a4188b85e8aea3a1ce2f0394007a38">TGS.Server.Server.SetupConfig</a></div><div class="ttdeci">void SetupConfig()</div><div class="ttdoc">Upgrades up the service configuration </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00165">Server.cs:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae6005800bd27448325d4b80cd0b1ee72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.AddEndpoint </td>
          <td>(</td>
          <td class="paramtype">ServiceHost&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Type&#160;</td>
          <td class="paramname"><em>typetype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a WCF endpoint for a component <em>typetype</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>The service host to add the component to</td></tr>
    <tr><td class="paramname">typetype</td><td>The type of the component</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00335">335</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_definitions_8cs_source.html#l00016">TGS.Interface.Definitions.TransferLimitLocal</a>, and <a class="el" href="_definitions_8cs_source.html#l00021">TGS.Interface.Definitions.TransferLimitRemote</a>.</p>
<div class="fragment"><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            var bindingName = typetype.Name;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            host.AddServiceEndpoint(typetype, <span class="keyword">new</span> NetNamedPipeBinding() { SendTimeout = <span class="keyword">new</span> TimeSpan(0, 0, 30), MaxReceivedMessageSize = <a class="code" href="class_t_g_s_1_1_interface_1_1_definitions.html">Definitions</a>.<a class="code" href="class_t_g_s_1_1_interface_1_1_definitions.html#a9cbf8326b94fc958f8a24e42bedfac13">TransferLimitLocal</a> }, bindingName);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            var httpsBinding = <span class="keyword">new</span> BasicHttpsBinding()</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                SendTimeout = <span class="keyword">new</span> TimeSpan(0, 0, 40),</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                MaxReceivedMessageSize = <a class="code" href="class_t_g_s_1_1_interface_1_1_definitions.html">Definitions</a>.<a class="code" href="class_t_g_s_1_1_interface_1_1_definitions.html#ae6060d0444a8adfddeb0ca1a9bc7c5de">TransferLimitRemote</a></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            };</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            var requireAuth = typetype.Name != typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html">ITGConnectivity</a>).Name;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            host.AddServiceEndpoint(typetype, httpsBinding, bindingName);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html">TGS.Interface.Components.ITGConnectivity</a></div><div class="ttdoc">Used for testing connections to the service without authentication </div><div class="ttdef"><b>Definition:</b> <a href="_connectivity_8cs_source.html#l00009">Connectivity.cs:9</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_definitions_html_a9cbf8326b94fc958f8a24e42bedfac13"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_definitions.html#a9cbf8326b94fc958f8a24e42bedfac13">TGS.Interface.Definitions.TransferLimitLocal</a></div><div class="ttdeci">const long TransferLimitLocal</div><div class="ttdoc">The maximum message size to and from a local server </div><div class="ttdef"><b>Definition:</b> <a href="_definitions_8cs_source.html#l00016">Definitions.cs:16</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_definitions_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_definitions.html">TGS.Interface.Definitions</a></div><div class="ttdoc">Contains constants for the interface </div><div class="ttdef"><b>Definition:</b> <a href="_definitions_8cs_source.html#l00011">Definitions.cs:11</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_definitions_html_ae6060d0444a8adfddeb0ca1a9bc7c5de"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_definitions.html#ae6060d0444a8adfddeb0ca1a9bc7c5de">TGS.Interface.Definitions.TransferLimitRemote</a></div><div class="ttdeci">const long TransferLimitRemote</div><div class="ttdoc">The maximum message size to and from a remote server </div><div class="ttdef"><b>Definition:</b> <a href="_definitions_8cs_source.html#l00021">Definitions.cs:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc583e331c2692b47d83a4af67ddb5b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static WindowsImpersonationContext TGS.Server.Server.BeginImpersonation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Begins user impersonation to allow proper restricted file access </p>
<dl class="section return"><dt>Returns</dt><dd>A WindowsImpersonationContext representing the impersonation</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00053">53</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00159">TGS.Server.Instance.DeleteFile()</a>, <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00212">TGS.Server.Instance.ListStaticDirectory()</a>, <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00018">TGS.Server.Instance.ReadText()</a>, and <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00102">TGS.Server.Instance.WriteText()</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">return</span> WindowsIdentity.Impersonate(OperationContext.Current.ServiceSecurityContext.WindowsIdentity.Token);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac85f8ad559e7ad19aa4a35b173b75478"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.ChangePortFromCommandLine </td>
          <td>(</td>
          <td class="paramtype">string[]&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overrides and saves the configured <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad" title="Port used to access the Server remotely ">ServerConfig.RemoteAccessPort</a> if requested by command line parameters </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>The command line parameters for the <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00141">141</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">for</span> (var I = 0; I &lt; args.Length - 1; ++I)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="keywordflow">if</span> (args[I].ToLower() == <span class="stringliteral">&quot;-port&quot;</span>)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                        var res = Convert.ToUInt16(args[I + 1]);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                        <span class="keywordflow">if</span> (res == 0)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                            <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Cannot bind to port 0&quot;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad">RemoteAccessPort</a> = res;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Invalid argument for \&quot;-port\&quot;&quot;</span>, e);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a25367473db0e5b6c8e9e1ba620fa2e85">Save</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">DefaultConfigDirectory</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a584355066ff6bc0e6d0f45918d1d49ec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">TGS.Server.Server.DefaultConfigDirectory</a></div><div class="ttdeci">static readonly string DefaultConfigDirectory</div><div class="ttdoc">The directory to load and save ServerConfigs to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00047">Server.cs:47</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a3aafdb30332ff15d05f6250fe15f94ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad">TGS.Server.ServerConfig.RemoteAccessPort</a></div><div class="ttdeci">ushort RemoteAccessPort</div><div class="ttdoc">Port used to access the Server remotely </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00036">ServerConfig.cs:36</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a25367473db0e5b6c8e9e1ba620fa2e85"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a25367473db0e5b6c8e9e1ba620fa2e85">TGS.Server.ServerConfig.Save</a></div><div class="ttdeci">void Save(string directory)</div><div class="ttdoc">Saves the ServerConfig to a target directory  </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00047">ServerConfig.cs:47</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8af19f53ce6ebfba60a09817af26a667"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string TGS.Server.Server.CheckInstanceName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>instanceName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks an <em>instanceName</em>  for illegal characters </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instanceName</td><td>The <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> name to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if <em>instanceName</em>  contains no illegal characters, error message otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00063">63</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="keywordtype">char</span>[] bannedCharacters = { <span class="charliteral">&#39;;&#39;</span>, <span class="charliteral">&#39;&amp;&#39;</span>, <span class="charliteral">&#39;=&#39;</span>, <span class="charliteral">&#39;%&#39;</span> };</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> bannedCharacters)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <span class="keywordflow">if</span> (instanceName.Contains(I.ToString()))</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Instance names may not contain the following characters: &#39;;&#39;, &#39;&amp;&#39;, &#39;=&#39;, or &#39;%&#39;&quot;</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a761439cde270c74bcf338b83806859ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ServiceHost TGS.Server.Server.CreateHost </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>singleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>endpointPostfix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a ServiceHost for <em>singleton</em>  using the default pipe, CloseTimeout for the ServiceHost, and the configured <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad" title="Port used to access the Server remotely ">ServerConfig.RemoteAccessPort</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">singleton</td><td>The ServiceHost.SingletonInstance</td></tr>
    <tr><td class="paramname">endpointPostfix</td><td>The URL to access components on the ServiceHost</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created ServiceHost</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00219">219</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> ServiceHost(singleton, <span class="keyword">new</span> Uri[] { <span class="keyword">new</span> Uri(String.Format(<span class="stringliteral">&quot;net.pipe://localhost/{0}&quot;</span>, endpointPostfix)), <span class="keyword">new</span> Uri(String.Format(<span class="stringliteral">&quot;https://localhost:{0}/{1}&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad">RemoteAccessPort</a>, endpointPostfix)) })</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                CloseTimeout = <span class="keyword">new</span> TimeSpan(0, 0, 5)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            };</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a3aafdb30332ff15d05f6250fe15f94ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad">TGS.Server.ServerConfig.RemoteAccessPort</a></div><div class="ttdeci">ushort RemoteAccessPort</div><div class="ttdoc">Port used to access the Server remotely </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00036">ServerConfig.cs:36</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1fd633ced6347516d4d115a65addf78a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.CreateInstance </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance.html" title="Metadata for a server instance ">ITGInstance</a>  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html#aa92519588145ac9d786deea0143d8f67">TGS.Interface.Components.ITGInstanceManager</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00438">438</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00206">TGS.Server.Helpers.NormalizePath()</a>, and <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">TGS.Server.IInstanceConfig.Save()</a>.</p>
<div class="fragment"><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            path = <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.NormalizePath(path);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            var res = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a8af19f53ce6ebfba60a09817af26a667">CheckInstanceName</a>(Name);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">if</span> (File.Exists(path) || Directory.Exists(path))</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot create instance at pre-existing path!&quot;</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">InstancePaths</a>.Contains(path))</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance at {0} already exists!&quot;</span>, path);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <span class="keywordflow">foreach</span> (var oic <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">GetInstanceConfigs</a>())</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    <span class="keywordflow">if</span> (Name == oic.Name)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance named {0} already exists!&quot;</span>, oic.Name);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                IInstanceConfig ic;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    ic = <span class="keyword">new</span> InstanceConfig(path)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                        Name = Name</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    };</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    Directory.CreateDirectory(path);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    ic.Save();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">InstancePaths</a>.Add(path);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a9793fcde0c006c23936f679eaebe4b42">SetupOneInstance</a>(ic);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a8af19f53ce6ebfba60a09817af26a667"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a8af19f53ce6ebfba60a09817af26a667">TGS.Server.Server.CheckInstanceName</a></div><div class="ttdeci">static string CheckInstanceName(string instanceName)</div><div class="ttdoc">Checks an instanceName  for illegal characters </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00063">Server.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a9793fcde0c006c23936f679eaebe4b42"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a9793fcde0c006c23936f679eaebe4b42">TGS.Server.Server.SetupOneInstance</a></div><div class="ttdeci">string SetupOneInstance(IInstanceConfig config)</div><div class="ttdoc">Starts and onlines an instance located at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00477">Server.cs:477</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a0ebe190e73de7a3af98be00f2c8f45ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">TGS.Server.ServerConfig.InstancePaths</a></div><div class="ttdeci">List&lt; string &gt; InstancePaths</div><div class="ttdoc">List of paths that contain Instances </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00031">ServerConfig.cs:31</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_aca3e4b51f2911f5adab680ee1788075e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">TGS.Server.Server.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; IInstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured IInstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00111">Server.cs:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a928e17719ea63a3cbe289d67c5c0d6c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.DetachInstance </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables and unregisters an instance, allowing the folder and data to be manipulated manually  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html#a2bc8a68fc21e116ad271f42d5f7e04f0">TGS.Interface.Components.ITGInstanceManager</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00635">635</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                var res = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a430c4dafe3ad8cde20462b14c0df1aec">SetInstanceEnabledImpl</a>(name, <span class="keyword">false</span>, out <span class="keywordtype">string</span> path);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="keywordflow">if</span> (path == null)    <span class="comment">//gotta find it ourselves</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    <span class="keywordflow">foreach</span> (var ic <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">GetInstanceConfigs</a>())</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                        <span class="keywordflow">if</span> (ic.Name == name)</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                        {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                            path = ic.Directory;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                        }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">if</span> (path == null)</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;No instance named {0} exists!&quot;</span>, name);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">InstancePaths</a>.Remove(path);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a430c4dafe3ad8cde20462b14c0df1aec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a430c4dafe3ad8cde20462b14c0df1aec">TGS.Server.Server.SetInstanceEnabledImpl</a></div><div class="ttdeci">string SetInstanceEnabledImpl(string Name, bool enabled, out string path)</div><div class="ttdoc">Sets a Instance&amp;#39;s enabled status </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00548">Server.cs:548</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a0ebe190e73de7a3af98be00f2c8f45ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">TGS.Server.ServerConfig.InstancePaths</a></div><div class="ttdeci">List&lt; string &gt; InstancePaths</div><div class="ttdoc">List of paths that contain Instances </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00031">ServerConfig.cs:31</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_aca3e4b51f2911f5adab680ee1788075e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">TGS.Server.Server.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; IInstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured IInstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00111">Server.cs:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1d3d4bbc5df7a10114a49d78ff0bcb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.Dispose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disposing</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern. Calls <a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ad953f35dc952e06223e9504941b7c6ee" title="Shuts down all active ServiceHosts and calls IDisposable.Dispose on it&#39;s Instance ...">OnStop</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disposing</td><td>if <a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ade99414a470f1128e8ef57a0dd6789a7" title="Implements the IDisposable pattern ">Dispose()</a> was called manually,  if it was from the finalizer</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00666">666</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_s_8_server_8_service_2_service_8cs_source.html#l00066">TGS.Server.Service.Service.OnStop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a243d9d6f8494daa551bd5d692204e745">disposedValue</a>)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <span class="keywordflow">if</span> (disposing)</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ad953f35dc952e06223e9504941b7c6ee">OnStop</a>();</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="comment">// TODO: free unmanaged resources (unmanaged objects) and override a finalizer below.</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                <span class="comment">// TODO: set large fields to null.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a243d9d6f8494daa551bd5d692204e745">disposedValue</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ad953f35dc952e06223e9504941b7c6ee"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ad953f35dc952e06223e9504941b7c6ee">TGS.Server.Server.OnStop</a></div><div class="ttdeci">void OnStop()</div><div class="ttdoc">Shuts down all active ServiceHosts and calls IDisposable.Dispose on it&amp;#39;s Instance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00351">Server.cs:351</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a243d9d6f8494daa551bd5d692204e745"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a243d9d6f8494daa551bd5d692204e745">TGS.Server.Server.disposedValue</a></div><div class="ttdeci">bool disposedValue</div><div class="ttdoc">To detect redundant Dispose() calls </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00660">Server.cs:660</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade99414a470f1128e8ef57a0dd6789a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.Dispose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00691">691</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="comment">// Do not change this code. Put cleanup code in Dispose(bool disposing) above.</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ade99414a470f1128e8ef57a0dd6789a7">Dispose</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="comment">// TODO: uncomment the following line if the finalizer is overridden above.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="comment">// GC.SuppressFinalize(this);</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ade99414a470f1128e8ef57a0dd6789a7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ade99414a470f1128e8ef57a0dd6789a7">TGS.Server.Server.Dispose</a></div><div class="ttdeci">void Dispose()</div><div class="ttdoc">Implements the IDisposable pattern </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00691">Server.cs:691</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca3e4b51f2911f5adab680ee1788075e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IEnumerable&lt;<a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a>&gt; TGS.Server.Server.GetInstanceConfigs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enumerates configured <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html" title="Configuration settings for a Instance ">IInstanceConfig</a>s. Detaches those that fail to load </p>
<dl class="section return"><dt>Returns</dt><dd>Each configured <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html" title="Configuration settings for a Instance ">IInstanceConfig</a></dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00111">111</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_instance_config_8cs_source.html#l00231">TGS.Server.InstanceConfig.Load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            var pathsToRemove = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                var IPS = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">InstancePaths</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> IPS)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    IInstanceConfig ic;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                        ic = InstanceConfig.Load(I);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">Logger</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">WriteError</a>(String.Format(<span class="stringliteral">&quot;Unable load instance config at path {0}. Error: {1} Detaching...&quot;</span>, I, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.InstanceInitializationFailure, <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">LoggingID</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                        pathsToRemove.Add(I);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    yield <span class="keywordflow">return</span> ic;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> pathsToRemove)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    IPS.Remove(I);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a702eca8419343fd22ea34a63fc24772e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">TGS.Server.Server.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Server events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00022">Server.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a1d74616cab26fd2b954f87e6a9b911a6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">TGS.Server.Server.Logger</a></div><div class="ttdeci">static ILogger Logger</div><div class="ttdoc">Singleton ILogger </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00037">Server.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a0ebe190e73de7a3af98be00f2c8f45ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">TGS.Server.ServerConfig.InstancePaths</a></div><div class="ttdeci">List&lt; string &gt; InstancePaths</div><div class="ttdoc">List of paths that contain Instances </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00031">ServerConfig.cs:31</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_logger_html_a320c5301783a61ec8c6178e3bc15d97d"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">TGS.Server.ILogger.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id, byte loggingID)</div><div class="ttdoc">Writes an error to the log </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d9003533ba8205130476d8e54c1d4a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.ImportInstance </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers an existing server instance  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html#ad463444be8f26b9edc75ddde5ddac1e9">TGS.Interface.Components.ITGInstanceManager</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00498">498</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_instance_config_8cs_source.html#l00231">TGS.Server.InstanceConfig.Load()</a>, <a class="el" href="_instance_config_8cs_source.html#l00025">TGS.Server.IInstanceConfig.Name</a>, <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00206">TGS.Server.Helpers.NormalizePath()</a>, and <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">TGS.Server.IInstanceConfig.Save()</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            path = <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.NormalizePath(path);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">InstancePaths</a>.Contains(path))</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance at {0} already exists!&quot;</span>, path);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="keywordflow">if</span>(!Directory.Exists(path))</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;There is no instance located at {0}!&quot;</span>, path);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                IInstanceConfig ic;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    ic = InstanceConfig.Load(path);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    <span class="keywordflow">foreach</span>(var oic <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">GetInstanceConfigs</a>())</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                        <span class="keywordflow">if</span>(ic.Name == oic.Name)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                            <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance named {0} already exists!&quot;</span>, oic.Name);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    ic.Save();</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">InstancePaths</a>.Add(path);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a9793fcde0c006c23936f679eaebe4b42">SetupOneInstance</a>(ic);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a9793fcde0c006c23936f679eaebe4b42"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a9793fcde0c006c23936f679eaebe4b42">TGS.Server.Server.SetupOneInstance</a></div><div class="ttdeci">string SetupOneInstance(IInstanceConfig config)</div><div class="ttdoc">Starts and onlines an instance located at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00477">Server.cs:477</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a0ebe190e73de7a3af98be00f2c8f45ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">TGS.Server.ServerConfig.InstancePaths</a></div><div class="ttdeci">List&lt; string &gt; InstancePaths</div><div class="ttdoc">List of paths that contain Instances </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00031">ServerConfig.cs:31</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_aca3e4b51f2911f5adab680ee1788075e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">TGS.Server.Server.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; IInstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured IInstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00111">Server.cs:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a979b90ae37e4a7e2db71af80305e98b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Server.InstanceEnabled </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if an instance is online  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html#ac778625118927a9d8e23775b812ec2d5">TGS.Interface.Components.ITGInstanceManager</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00526">526</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            lock(<span class="keyword">this</span>)</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>.ContainsKey(Name);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac9fd7531267a1affc98b5b3d53b38262"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">TGS.Server.Server.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00079">Server.cs:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae0937ad473d06d1a1f817a1acc718225"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="class_t_g_s_1_1_interface_1_1_instance_metadata.html">InstanceMetadata</a>&gt; TGS.Server.Server.ListInstances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List instances that the caller can access  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_landing.html#a680f28d669b71238d4c98f1494144d36">TGS.Interface.Components.ITGLanding</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00422">422</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_instance_metadata_8cs_source.html#l00016">TGS.Interface.InstanceMetadata.Name</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            var result = <span class="keyword">new</span> List&lt;InstanceMetadata&gt;();</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                foreach (var ic in <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">GetInstanceConfigs</a>()) </div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    result.Add(new <a class="code" href="class_t_g_s_1_1_interface_1_1_instance_metadata.html">InstanceMetadata</a></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                        Name = ic.<a class="code" href="class_t_g_s_1_1_interface_1_1_instance_metadata.html#a16436484e29caf5ef4581cb04615be06">Name</a>,</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        Path = ic.Directory,</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        Enabled = ic.Enabled,</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">LoggingID</a> = (byte)(ic.Enabled ? ((<a class="code" href="class_t_g_s_1_1_interface_1_1_instance.html">Instance</a>)<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>[ic.Name].SingletonInstance).LoggingID : 0)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    });</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a702eca8419343fd22ea34a63fc24772e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">TGS.Server.Server.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Server events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00022">Server.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_instance_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_instance.html">TGS.Interface.Instance</a></div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_instance_8cs_source.html#l00008">Instance.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_instance_metadata_html_a16436484e29caf5ef4581cb04615be06"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_instance_metadata.html#a16436484e29caf5ef4581cb04615be06">TGS.Interface.InstanceMetadata.Name</a></div><div class="ttdeci">string Name</div><div class="ttdoc">The name of the Components.ITGInstance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_metadata_8cs_source.html#l00016">InstanceMetadata.cs:16</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac9fd7531267a1affc98b5b3d53b38262"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">TGS.Server.Server.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00079">Server.cs:79</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_instance_metadata_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_instance_metadata.html">TGS.Interface.InstanceMetadata</a></div><div class="ttdoc">Metadata about an Components.ITGInstance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_metadata_8cs_source.html#l00010">InstanceMetadata.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_aca3e4b51f2911f5adab680ee1788075e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">TGS.Server.Server.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; IInstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured IInstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00111">Server.cs:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7939236efbbddb15e9c3684eff4d69a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte TGS.Server.Server.LockLoggingID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets and locks a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8" title="Used to assign the instance to event IDs ">Instance.LoggingID</a> </p>
<dl class="section return"><dt>Returns</dt><dd>A logging ID for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> must be released using <a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a3c766dcb7ff9a155f16833e35cd2d10d" title="Unlocks a Instance.LoggingID acquired with LockLoggingID ">UnlockLoggingID(byte)</a></dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00267">267</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a6213ea2ae98c0bd5123ad7602e7fb4c0">UsedLoggingIDs</a>)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="keywordflow">for</span> (byte I = 1; I &lt; 100; ++I)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a6213ea2ae98c0bd5123ad7602e7fb4c0">UsedLoggingIDs</a>.Contains(I))</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a6213ea2ae98c0bd5123ad7602e7fb4c0">UsedLoggingIDs</a>.Add(I);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                        <span class="keywordflow">return</span> I;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;All logging IDs in use!&quot;</span>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a6213ea2ae98c0bd5123ad7602e7fb4c0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a6213ea2ae98c0bd5123ad7602e7fb4c0">TGS.Server.Server.UsedLoggingIDs</a></div><div class="ttdeci">IList&lt; int &gt; UsedLoggingIDs</div><div class="ttdoc">List of Instance.LoggingIDs in use </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00083">Server.cs:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a41adf96032cfab1b226192fe3c3b0924"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.OnlineAllHosts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens all created ServiceHosts </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00206">206</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a>.Open();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                I.Value.Open();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc59504b21e321ca8b9ca792a04099c4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">TGS.Server.Server.serviceHost</a></div><div class="ttdeci">ServiceHost serviceHost</div><div class="ttdoc">The WCF host that contains ITGSService connects to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00075">Server.cs:75</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac9fd7531267a1affc98b5b3d53b38262"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">TGS.Server.Server.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00079">Server.cs:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad953f35dc952e06223e9504941b7c6ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.OnStop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shuts down all active ServiceHosts and calls IDisposable.Dispose on it's <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00351">351</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        var host = I.Value;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        var instance = (<a class="code" href="class_t_g_s_1_1_interface_1_1_instance.html">Instance</a>)host.SingletonInstance;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        host.Close();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                        instance.Dispose();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a3c766dcb7ff9a155f16833e35cd2d10d">UnlockLoggingID</a>(instance.LoggingID);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">Logger</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">WriteError</a>(e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.ServiceShutdownFail, <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">LoggingID</a>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a>.Close();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a25367473db0e5b6c8e9e1ba620fa2e85">Save</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">DefaultConfigDirectory</a>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a702eca8419343fd22ea34a63fc24772e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">TGS.Server.Server.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Server events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00022">Server.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a584355066ff6bc0e6d0f45918d1d49ec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">TGS.Server.Server.DefaultConfigDirectory</a></div><div class="ttdeci">static readonly string DefaultConfigDirectory</div><div class="ttdoc">The directory to load and save ServerConfigs to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00047">Server.cs:47</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_instance_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_instance.html">TGS.Interface.Instance</a></div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_instance_8cs_source.html#l00008">Instance.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a3c766dcb7ff9a155f16833e35cd2d10d"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a3c766dcb7ff9a155f16833e35cd2d10d">TGS.Server.Server.UnlockLoggingID</a></div><div class="ttdeci">void UnlockLoggingID(byte ID)</div><div class="ttdoc">Unlocks a Instance.LoggingID acquired with LockLoggingID </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00255">Server.cs:255</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a1d74616cab26fd2b954f87e6a9b911a6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">TGS.Server.Server.Logger</a></div><div class="ttdeci">static ILogger Logger</div><div class="ttdoc">Singleton ILogger </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00037">Server.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc59504b21e321ca8b9ca792a04099c4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">TGS.Server.Server.serviceHost</a></div><div class="ttdeci">ServiceHost serviceHost</div><div class="ttdoc">The WCF host that contains ITGSService connects to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00075">Server.cs:75</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a25367473db0e5b6c8e9e1ba620fa2e85"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a25367473db0e5b6c8e9e1ba620fa2e85">TGS.Server.ServerConfig.Save</a></div><div class="ttdeci">void Save(string directory)</div><div class="ttdoc">Saves the ServerConfig to a target directory  </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00047">ServerConfig.cs:47</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac9fd7531267a1affc98b5b3d53b38262"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">TGS.Server.Server.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00079">Server.cs:79</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_logger_html_a320c5301783a61ec8c6178e3bc15d97d"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">TGS.Server.ILogger.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id, byte loggingID)</div><div class="ttdoc">Writes an error to the log </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad3e7caeecf4413f1c2b4a02f570d4279"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.PrepareForUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Next stop of the service will not close DD and sets a flag for it to reattach once it restarts  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service.html#a6a5acc88735ed311b26bb700ee779e6a">TGS.Interface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00379">379</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                ((<a class="code" href="class_t_g_s_1_1_interface_1_1_instance.html">Instance</a>)I.Value.SingletonInstance).Reattach(<span class="keyword">false</span>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_interface_1_1_instance_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_instance.html">TGS.Interface.Instance</a></div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_instance_8cs_source.html#l00008">Instance.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac9fd7531267a1affc98b5b3d53b38262"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">TGS.Server.Server.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00079">Server.cs:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3abd1c80b5ff5f2f078f6fe8ee48e27c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.PythonPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the path to the python 2.7 installation  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service.html#a98466241fbb7e562060ac29f053375ee">TGS.Interface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00416">416</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a4e036d3f118d402cd705d9ec7386d3c8">PythonPath</a>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a4e036d3f118d402cd705d9ec7386d3c8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a4e036d3f118d402cd705d9ec7386d3c8">TGS.Server.ServerConfig.PythonPath</a></div><div class="ttdeci">string PythonPath</div><div class="ttdoc">Path to the directory containing the Python2.7 installation </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00041">ServerConfig.cs:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afafc63c95ba75b9dbbfaf03be2ae74ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ushort TGS.Server.Server.RemoteAccessPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the port used for remote operation  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service.html#a4996970c3ab95eaf285582643fa1c14e">TGS.Interface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00386">386</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad">RemoteAccessPort</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a3aafdb30332ff15d05f6250fe15f94ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad">TGS.Server.ServerConfig.RemoteAccessPort</a></div><div class="ttdeci">ushort RemoteAccessPort</div><div class="ttdoc">Port used to access the Server remotely </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00036">ServerConfig.cs:36</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae6d37254909998b99a6b5611360a96fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.RenameInstance </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>new_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renames an instance, this will restart the instance if it is enabled  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html#a7b5de127d27931ae95404faa3aa55a72">TGS.Interface.Components.ITGInstanceManager</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00586">586</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">if</span> (name == new_name)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            var res = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a8af19f53ce6ebfba60a09817af26a667">CheckInstanceName</a>(new_name);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                <span class="comment">//we have to check em all anyway</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                IInstanceConfig the_droid_were_looking_for = null;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="keywordflow">foreach</span> (var ic <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">GetInstanceConfigs</a>())</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    <span class="keywordflow">if</span> (ic.Name == name)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                        the_droid_were_looking_for = ic;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ic.Name == new_name)</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;There is already another instance named {0}!&quot;</span>, new_name);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="keywordflow">if</span> (the_droid_were_looking_for == null)</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;There is no instance named {0}!&quot;</span>, name);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                var ie = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a979b90ae37e4a7e2db71af80305e98b9">InstanceEnabled</a>(name);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <span class="keywordflow">if</span>(ie)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a557f30d15c0440da70d24b8c7478203e">SetInstanceEnabled</a>(name, <span class="keyword">false</span>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                the_droid_were_looking_for.Name = new_name;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                <span class="keywordtype">string</span> result = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    the_droid_were_looking_for.Save();</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                    result = null;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="keywordflow">catch</span>(Exception e)</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    result = <span class="stringliteral">&quot;Could not save instance config! Error: &quot;</span> + e.ToString();</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    <span class="keywordflow">if</span> (ie)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                    {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                        var resRestore = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a557f30d15c0440da70d24b8c7478203e">SetInstanceEnabled</a>(new_name, <span class="keyword">true</span>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                        <span class="keywordflow">if</span> (resRestore != null)</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                            result = (result + <span class="stringliteral">&quot; &quot;</span> + resRestore).Trim();</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a8af19f53ce6ebfba60a09817af26a667"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a8af19f53ce6ebfba60a09817af26a667">TGS.Server.Server.CheckInstanceName</a></div><div class="ttdeci">static string CheckInstanceName(string instanceName)</div><div class="ttdoc">Checks an instanceName  for illegal characters </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00063">Server.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a979b90ae37e4a7e2db71af80305e98b9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a979b90ae37e4a7e2db71af80305e98b9">TGS.Server.Server.InstanceEnabled</a></div><div class="ttdeci">bool InstanceEnabled(string Name)</div><div class="ttdoc">Checks if an instance is online  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00526">Server.cs:526</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a557f30d15c0440da70d24b8c7478203e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a557f30d15c0440da70d24b8c7478203e">TGS.Server.Server.SetInstanceEnabled</a></div><div class="ttdeci">string SetInstanceEnabled(string Name, bool enabled)</div><div class="ttdoc">Sets an instance&amp;#39;s enabled status  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00535">Server.cs:535</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_aca3e4b51f2911f5adab680ee1788075e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">TGS.Server.Server.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; IInstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured IInstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00111">Server.cs:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a557f30d15c0440da70d24b8c7478203e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.SetInstanceEnabled </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an instance's enabled status  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html#a3c2b875582f6f15e79d2596d8f7fc204">TGS.Interface.Components.ITGInstanceManager</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00535">535</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a430c4dafe3ad8cde20462b14c0df1aec">SetInstanceEnabledImpl</a>(Name, enabled, out <span class="keywordtype">string</span> path);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a430c4dafe3ad8cde20462b14c0df1aec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a430c4dafe3ad8cde20462b14c0df1aec">TGS.Server.Server.SetInstanceEnabledImpl</a></div><div class="ttdeci">string SetInstanceEnabledImpl(string Name, bool enabled, out string path)</div><div class="ttdoc">Sets a Instance&amp;#39;s enabled status </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00548">Server.cs:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a430c4dafe3ad8cde20462b14c0df1aec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.SetInstanceEnabledImpl </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>'s enabled status </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Name</td><td>The <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> whom's status should be changed</td></tr>
    <tr><td class="paramname">enabled</td><td>to enable the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>,  to disable it</td></tr>
    <tr><td class="paramname">path</td><td>The path to the modified <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00548">548</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            path = null;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                var hostIsOnline = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>.ContainsKey(Name);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                <span class="keywordflow">if</span> (enabled)</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    <span class="keywordflow">if</span> (hostIsOnline)</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                    <span class="keywordflow">foreach</span> (var ic <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">GetInstanceConfigs</a>())</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                        <span class="keywordflow">if</span> (ic.Name == Name)</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                        {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                            path = ic.Directory;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                            ic.Enabled = <span class="keyword">true</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                            ic.Save();</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a9793fcde0c006c23936f679eaebe4b42">SetupOneInstance</a>(ic);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                        }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance {0} does not exist!&quot;</span>, Name);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    <span class="keywordflow">if</span> (!hostIsOnline)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                    var host = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>[Name];</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>.Remove(Name);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    var inst = (<a class="code" href="class_t_g_s_1_1_interface_1_1_instance.html">Instance</a>)host.SingletonInstance;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    host.Close();</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    path = inst.ServerDirectory();</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    inst.Offline();</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    inst.Dispose();</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a3c766dcb7ff9a155f16833e35cd2d10d">UnlockLoggingID</a>(inst.LoggingID);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_interface_1_1_instance_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_instance.html">TGS.Interface.Instance</a></div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_instance_8cs_source.html#l00008">Instance.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a3c766dcb7ff9a155f16833e35cd2d10d"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a3c766dcb7ff9a155f16833e35cd2d10d">TGS.Server.Server.UnlockLoggingID</a></div><div class="ttdeci">void UnlockLoggingID(byte ID)</div><div class="ttdoc">Unlocks a Instance.LoggingID acquired with LockLoggingID </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00255">Server.cs:255</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a9793fcde0c006c23936f679eaebe4b42"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a9793fcde0c006c23936f679eaebe4b42">TGS.Server.Server.SetupOneInstance</a></div><div class="ttdeci">string SetupOneInstance(IInstanceConfig config)</div><div class="ttdoc">Starts and onlines an instance located at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00477">Server.cs:477</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac9fd7531267a1affc98b5b3d53b38262"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">TGS.Server.Server.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00079">Server.cs:79</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_aca3e4b51f2911f5adab680ee1788075e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">TGS.Server.Server.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; IInstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured IInstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00111">Server.cs:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a43a6837709895fc742fed2ce060ec904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Server.SetPythonPath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the path to the python 2.7 installation  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service.html#a3f325f8538eccc450384067e4b1fd49f">TGS.Interface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00407">407</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">if</span> (!Directory.Exists(path))</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a4e036d3f118d402cd705d9ec7386d3c8">PythonPath</a> = Path.GetFullPath(path);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a4e036d3f118d402cd705d9ec7386d3c8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a4e036d3f118d402cd705d9ec7386d3c8">TGS.Server.ServerConfig.PythonPath</a></div><div class="ttdeci">string PythonPath</div><div class="ttdoc">Path to the directory containing the Python2.7 installation </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00041">ServerConfig.cs:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb3c6657df1f2a5f204f2d459dadff8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.SetRemoteAccessPort </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the port used for remote operation Requires a service restart to take effect  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service.html#a0aa97ed12452a7ec88a1d1f47f31114e">TGS.Interface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00392">392</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">if</span> (port == 0)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot bind to port 0&quot;</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad">RemoteAccessPort</a> = port;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a3aafdb30332ff15d05f6250fe15f94ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a3aafdb30332ff15d05f6250fe15f94ad">TGS.Server.ServerConfig.RemoteAccessPort</a></div><div class="ttdeci">ushort RemoteAccessPort</div><div class="ttdoc">Port used to access the Server remotely </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00036">ServerConfig.cs:36</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab1a4188b85e8aea3a1ce2f0394007a38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.SetupConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Upgrades up the service configuration </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00165">165</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00038">TGS.Server.Helpers.DeleteDirectory()</a>, <a class="el" href="_server_config_8cs_source.html#l00059">TGS.Server.ServerConfig.Load()</a>, and <a class="el" href="_server_config_8cs_source.html#l00047">TGS.Server.ServerConfig.Save()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">DefaultConfigDirectory</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a> = ServerConfig.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a90c7ef7a8c364210e53a88f6ad26ed4d">Load</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">DefaultConfigDirectory</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">catch</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <span class="comment">//assume we&#39;re upgrading</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a> = ServerConfig.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a90c7ef7a8c364210e53a88f6ad26ed4d">Load</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ad2024354f2377a559194c252eec1611c">MigrationConfigDirectory</a>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a25367473db0e5b6c8e9e1ba620fa2e85">Save</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">DefaultConfigDirectory</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ad2024354f2377a559194c252eec1611c">MigrationConfigDirectory</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    <span class="comment">//new baby</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a> = <span class="keyword">new</span> ServerConfig();</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a584355066ff6bc0e6d0f45918d1d49ec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a584355066ff6bc0e6d0f45918d1d49ec">TGS.Server.Server.DefaultConfigDirectory</a></div><div class="ttdeci">static readonly string DefaultConfigDirectory</div><div class="ttdoc">The directory to load and save ServerConfigs to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00047">Server.cs:47</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a90c7ef7a8c364210e53a88f6ad26ed4d"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a90c7ef7a8c364210e53a88f6ad26ed4d">TGS.Server.ServerConfig.Load</a></div><div class="ttdeci">static ServerConfig Load(string directory)</div><div class="ttdoc">Load a ServerConfig from a given directory  </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00059">ServerConfig.cs:59</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ad2024354f2377a559194c252eec1611c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ad2024354f2377a559194c252eec1611c">TGS.Server.Server.MigrationConfigDirectory</a></div><div class="ttdeci">const string MigrationConfigDirectory</div><div class="ttdoc">The directory to use when importing a .NET settings based config </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00027">Server.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a25367473db0e5b6c8e9e1ba620fa2e85"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a25367473db0e5b6c8e9e1ba620fa2e85">TGS.Server.ServerConfig.Save</a></div><div class="ttdeci">void Save(string directory)</div><div class="ttdoc">Saves the ServerConfig to a target directory  </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00047">ServerConfig.cs:47</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="affd0676a7a18d7aaeb0561d166406cbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ServiceHost TGS.Server.Server.SetupInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates and starts a ServiceHost for a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> at <em>config</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html" title="Configuration settings for a Instance ">IInstanceConfig</a> for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The inactive ServiceHost on success,  on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00286">286</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_instance_config_8cs_source.html#l00015">TGS.Server.IInstanceConfig.Directory</a>, <a class="el" href="_instance_config_8cs_source.html#l00030">TGS.Server.IInstanceConfig.Enabled</a>, <a class="el" href="_definitions_8cs_source.html#l00030">TGS.Interface.Definitions.InstanceInterfaceName</a>, <a class="el" href="_instance_config_8cs_source.html#l00025">TGS.Server.IInstanceConfig.Name</a>, and <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">TGS.Server.Instance.WriteError()</a>.</p>
<div class="fragment"><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <a class="code" href="class_t_g_s_1_1_interface_1_1_instance.html">Instance</a> instance;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordtype">string</span> instanceName;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>.ContainsKey(config.Directory))</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    var datInstance = ((<a class="code" href="class_t_g_s_1_1_interface_1_1_instance.html">Instance</a>)<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>[config.Directory].SingletonInstance);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">Logger</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">WriteError</a>(String.Format(<span class="stringliteral">&quot;Unable to start instance at path {0}. Has the same name as instance at path {1}. Detaching...&quot;</span>, config.Directory, datInstance.ServerDirectory()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.InstanceInitializationFailure, <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">LoggingID</a>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">if</span> (!config.Enabled)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                var ID = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a7939236efbbddb15e9c3684eff4d69a2">LockLoggingID</a>();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">Logger</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a82dc045489599aad6fc83358c77c5d59">WriteInfo</a>(String.Format(<span class="stringliteral">&quot;Instance {0} ({1}) assigned logging ID {2}&quot;</span>, config.Name, config.Directory, ID), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.InstanceIDAssigned, ID);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                instanceName = config.Name;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                instance = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_interface_1_1_instance.html">Instance</a>(config, ID);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">Logger</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">WriteError</a>(String.Format(<span class="stringliteral">&quot;Unable to start instance at path {0}. Detaching... Error: {1}&quot;</span>, config.Directory, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.InstanceInitializationFailure, <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">LoggingID</a>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            var host = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a761439cde270c74bcf338b83806859ca">CreateHost</a>(instance, String.Format(<span class="stringliteral">&quot;{0}/{1}&quot;</span>, <a class="code" href="class_t_g_s_1_1_interface_1_1_definitions.html">Definitions</a>.<a class="code" href="class_t_g_s_1_1_interface_1_1_definitions.html#a6a845123fb932417f59a604266391fb3">InstanceInterfaceName</a>, instanceName));</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a>.Add(instanceName, host);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html">ITGConnectivity</a>));</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html">ITGAdministration</a>));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html">ITGByond</a>));</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat.html">ITGChat</a>));</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html">ITGCompiler</a>));</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config.html">ITGConfig</a>));</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html">ITGDreamDaemon</a>));</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance.html">ITGInstance</a>));</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop.html">ITGInterop</a>));</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(host, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html">ITGRepository</a>));</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            host.Authorization.ServiceAuthorizationManager = instance;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            host.Authentication.ServiceAuthenticationManager = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_authentication_header_decoder.html">AuthenticationHeaderDecoder</a>();</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">return</span> host;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html">TGS.Interface.Components.ITGConnectivity</a></div><div class="ttdoc">Used for testing connections to the service without authentication </div><div class="ttdef"><b>Definition:</b> <a href="_connectivity_8cs_source.html#l00009">Connectivity.cs:9</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance.html">TGS.Interface.Components.ITGInstance</a></div><div class="ttdoc">Metadata for a server instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_instance_8cs_source.html#l00009">Instance.cs:9</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a702eca8419343fd22ea34a63fc24772e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">TGS.Server.Server.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Server events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00022">Server.cs:22</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat.html">TGS.Interface.Components.ITGChat</a></div><div class="ttdoc">Interface for handling chat bot </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_chat_8cs_source.html#l00010">Chat.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a761439cde270c74bcf338b83806859ca"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a761439cde270c74bcf338b83806859ca">TGS.Server.Server.CreateHost</a></div><div class="ttdeci">static ServiceHost CreateHost(object singleton, string endpointPostfix)</div><div class="ttdoc">Creates a ServiceHost for singleton  using the default pipe, CloseTimeout for the ServiceHost...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00219">Server.cs:219</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_definitions_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_definitions.html">TGS.Interface.Definitions</a></div><div class="ttdoc">Contains constants for the interface </div><div class="ttdef"><b>Definition:</b> <a href="_definitions_8cs_source.html#l00011">Definitions.cs:11</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ae6005800bd27448325d4b80cd0b1ee72"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">TGS.Server.Server.AddEndpoint</a></div><div class="ttdeci">void AddEndpoint(ServiceHost host, Type typetype)</div><div class="ttdoc">Adds a WCF endpoint for a component typetype  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00335">Server.cs:335</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html">TGS.Interface.Components.ITGDreamDaemon</a></div><div class="ttdoc">Interface for managing the actual BYOND game server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_dream_daemon_8cs_source.html#l00010">DreamDaemon.cs:10</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html">TGS.Interface.Components.ITGByond</a></div><div class="ttdoc">For managing the BYOND installation the server runs </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_byond_8cs_source.html#l00010">Byond.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_instance_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_instance.html">TGS.Interface.Instance</a></div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_instance_8cs_source.html#l00008">Instance.cs:8</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html">TGS.Interface.Components.ITGCompiler</a></div><div class="ttdoc">For managing the Game A/B/Live folders, compiling, and hotswapping them </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_compiler_8cs_source.html#l00009">Compiler.cs:9</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html">TGS.Interface.Components.ITGRepository</a></div><div class="ttdoc">Interface for managing the code repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_repository_8cs_source.html#l00010">Repository.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a1d74616cab26fd2b954f87e6a9b911a6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">TGS.Server.Server.Logger</a></div><div class="ttdeci">static ILogger Logger</div><div class="ttdoc">Singleton ILogger </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00037">Server.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_definitions_html_a6a845123fb932417f59a604266391fb3"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_definitions.html#a6a845123fb932417f59a604266391fb3">TGS.Interface.Definitions.InstanceInterfaceName</a></div><div class="ttdeci">const string InstanceInterfaceName</div><div class="ttdoc">Base name of instance URLs </div><div class="ttdef"><b>Definition:</b> <a href="_definitions_8cs_source.html#l00030">Definitions.cs:30</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config.html">TGS.Interface.Components.ITGConfig</a></div><div class="ttdoc">For modifying the in game config Most if not all of these will not apply until the next server reboot...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_config_8cs_source.html#l00011">Config.cs:11</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html">TGS.Interface.Components.ITGAdministration</a></div><div class="ttdoc">Manage the group that is used to access the service, can only be used by an administrator ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_administration_8cs_source.html#l00009">Administration.cs:9</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_logger_html_a82dc045489599aad6fc83358c77c5d59"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_logger.html#a82dc045489599aad6fc83358c77c5d59">TGS.Server.ILogger.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id, byte loggingID)</div><div class="ttdoc">Writes information to the log </div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_security_1_1_authentication_header_decoder_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_security_1_1_authentication_header_decoder.html">TGS.Server.Security.AuthenticationHeaderDecoder</a></div><div class="ttdef"><b>Definition:</b> <a href="_authentication_header_decoder_8cs_source.html#l00012">AuthenticationHeaderDecoder.cs:12</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop.html">TGS.Interface.Components.ITGInterop</a></div><div class="ttdoc">Used by DreamDaemon to access the interop API with call()(). Restrictions are in place so that only a...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_interop_8cs_source.html#l00009">Interop.cs:9</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac9fd7531267a1affc98b5b3d53b38262"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">TGS.Server.Server.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00079">Server.cs:79</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_logger_html_a320c5301783a61ec8c6178e3bc15d97d"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">TGS.Server.ILogger.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id, byte loggingID)</div><div class="ttdoc">Writes an error to the log </div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a7939236efbbddb15e9c3684eff4d69a2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a7939236efbbddb15e9c3684eff4d69a2">TGS.Server.Server.LockLoggingID</a></div><div class="ttdeci">byte LockLoggingID()</div><div class="ttdoc">Gets and locks a Instance.LoggingID </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00267">Server.cs:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3a300e8fa5845202d3aa47baa49d0e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.SetupInstances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates ServiceHosts for all <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>s as listed in <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad" title="List of paths that contain Instances ">ServerConfig.InstancePaths</a>, detaches bad ones </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00230">230</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">hosts</a> = <span class="keyword">new</span> Dictionary&lt;string, ServiceHost&gt;();</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            var pathsToRemove = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            var seenNames = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">GetInstanceConfigs</a>())</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">if</span> (seenNames.Contains(I.Name))</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">Logger</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">WriteError</a>(String.Format(<span class="stringliteral">&quot;Instance at {0} has a duplicate name! Detaching...&quot;</span>, I.Directory), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.InstanceInitializationFailure, <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">LoggingID</a>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    pathsToRemove.Add(I.Directory);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordflow">if</span> (I.Enabled &amp;&amp; <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#affd0676a7a18d7aaeb0561d166406cbe">SetupInstance</a>(I) == null)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    pathsToRemove.Add(I.Directory);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    seenNames.Add(I.Name);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> pathsToRemove)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">InstancePaths</a>.Remove(I);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a702eca8419343fd22ea34a63fc24772e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a702eca8419343fd22ea34a63fc24772e">TGS.Server.Server.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Server events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00022">Server.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a1d74616cab26fd2b954f87e6a9b911a6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a1d74616cab26fd2b954f87e6a9b911a6">TGS.Server.Server.Logger</a></div><div class="ttdeci">static ILogger Logger</div><div class="ttdoc">Singleton ILogger </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00037">Server.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ac9fd7531267a1affc98b5b3d53b38262"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ac9fd7531267a1affc98b5b3d53b38262">TGS.Server.Server.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00079">Server.cs:79</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_config_html_a0ebe190e73de7a3af98be00f2c8f45ad"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server_config.html#a0ebe190e73de7a3af98be00f2c8f45ad">TGS.Server.ServerConfig.InstancePaths</a></div><div class="ttdeci">List&lt; string &gt; InstancePaths</div><div class="ttdoc">List of paths that contain Instances </div><div class="ttdef"><b>Definition:</b> <a href="_server_config_8cs_source.html#l00031">ServerConfig.cs:31</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_affd0676a7a18d7aaeb0561d166406cbe"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#affd0676a7a18d7aaeb0561d166406cbe">TGS.Server.Server.SetupInstance</a></div><div class="ttdeci">ServiceHost SetupInstance(IInstanceConfig config)</div><div class="ttdoc">Creates and starts a ServiceHost for a Instance at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00286">Server.cs:286</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_logger_html_a320c5301783a61ec8c6178e3bc15d97d"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">TGS.Server.ILogger.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id, byte loggingID)</div><div class="ttdoc">Writes an error to the log </div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_aca3e4b51f2911f5adab680ee1788075e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#aca3e4b51f2911f5adab680ee1788075e">TGS.Server.Server.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; IInstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured IInstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00111">Server.cs:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9793fcde0c006c23936f679eaebe4b42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.SetupOneInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts and onlines an instance located at <em>config</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html" title="Configuration settings for a Instance ">IInstanceConfig</a> for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00477">477</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_instance_config_8cs_source.html#l00015">TGS.Server.IInstanceConfig.Directory</a>, and <a class="el" href="_instance_config_8cs_source.html#l00030">TGS.Server.IInstanceConfig.Enabled</a>.</p>
<div class="fragment"><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">if</span> (!config.Enabled)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                var host = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#affd0676a7a18d7aaeb0561d166406cbe">SetupInstance</a>(config);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="keywordflow">if</span> (host != null)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    host.Open();</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                    lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">Config</a>.InstancePaths.Remove(config.Directory);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                return null;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            catch (Exception e)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Instance set up but an error occurred while starting it: &quot;</span> + e.ToString();</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc8b0e2ed7eaa12ae89d661912a01e50"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc8b0e2ed7eaa12ae89d661912a01e50">TGS.Server.Server.Config</a></div><div class="ttdeci">static ServerConfig Config</div><div class="ttdoc">The ServerConfig for the Server </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00042">Server.cs:42</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_affd0676a7a18d7aaeb0561d166406cbe"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#affd0676a7a18d7aaeb0561d166406cbe">TGS.Server.Server.SetupInstance</a></div><div class="ttdeci">ServiceHost SetupInstance(IInstanceConfig config)</div><div class="ttdoc">Creates and starts a ServiceHost for a Instance at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00286">Server.cs:286</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7eab4892a65d9abaaca430f036f3b742"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.SetupService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the ServiceHost for ITGSService </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00192">192</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>References <a class="el" href="_definitions_8cs_source.html#l00026">TGS.Interface.Definitions.MasterInterfaceName</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a761439cde270c74bcf338b83806859ca">CreateHost</a>(<span class="keyword">this</span>, <a class="code" href="class_t_g_s_1_1_interface_1_1_definitions.html">Definitions</a>.<a class="code" href="class_t_g_s_1_1_interface_1_1_definitions.html#ab65eb36f9a4b34fb9a1baba47454c3b7">MasterInterfaceName</a>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a>, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html">ITGConnectivity</a>));</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a>, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html">ITGInstanceManager</a>));</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a>, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_landing.html">ITGLanding</a>));</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">AddEndpoint</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a>, typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service.html">ITGSService</a>));</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a>.Authorization.ServiceAuthorizationManager = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html">RootAuthorizationManager</a>(); <span class="comment">//only admins can diddle us</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">serviceHost</a>.Authentication.ServiceAuthenticationManager = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_authentication_header_decoder.html">AuthenticationHeaderDecoder</a>();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html">TGS.Interface.Components.ITGConnectivity</a></div><div class="ttdoc">Used for testing connections to the service without authentication </div><div class="ttdef"><b>Definition:</b> <a href="_connectivity_8cs_source.html#l00009">Connectivity.cs:9</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_landing_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_landing.html">TGS.Interface.Components.ITGLanding</a></div><div class="ttdoc">Used for general authentication and listing ITGInstances </div><div class="ttdef"><b>Definition:</b> <a href="_landing_8cs_source.html#l00010">Landing.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a761439cde270c74bcf338b83806859ca"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a761439cde270c74bcf338b83806859ca">TGS.Server.Server.CreateHost</a></div><div class="ttdeci">static ServiceHost CreateHost(object singleton, string endpointPostfix)</div><div class="ttdoc">Creates a ServiceHost for singleton  using the default pipe, CloseTimeout for the ServiceHost...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00219">Server.cs:219</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_definitions_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_definitions.html">TGS.Interface.Definitions</a></div><div class="ttdoc">Contains constants for the interface </div><div class="ttdef"><b>Definition:</b> <a href="_definitions_8cs_source.html#l00011">Definitions.cs:11</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_ae6005800bd27448325d4b80cd0b1ee72"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#ae6005800bd27448325d4b80cd0b1ee72">TGS.Server.Server.AddEndpoint</a></div><div class="ttdeci">void AddEndpoint(ServiceHost host, Type typetype)</div><div class="ttdoc">Adds a WCF endpoint for a component typetype  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00335">Server.cs:335</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html">TGS.Server.Security.RootAuthorizationManager</a></div><div class="ttdoc">A ServiceAuthorizationManager used to determine only if the caller is an admin </div><div class="ttdef"><b>Definition:</b> <a href="_root_authorization_manager_8cs_source.html#l00013">RootAuthorizationManager.cs:13</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance_manager.html">TGS.Interface.Components.ITGInstanceManager</a></div><div class="ttdoc">Used for managing ITGInstances </div><div class="ttdef"><b>Definition:</b> <a href="_instance_manager_8cs_source.html#l00009">InstanceManager.cs:9</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_adc59504b21e321ca8b9ca792a04099c4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#adc59504b21e321ca8b9ca792a04099c4">TGS.Server.Server.serviceHost</a></div><div class="ttdeci">ServiceHost serviceHost</div><div class="ttdoc">The WCF host that contains ITGSService connects to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00075">Server.cs:75</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_s_service.html">TGS.Interface.Components.ITGSService</a></div><div class="ttdoc">Interface for managing the service </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_service_8cs_source.html#l00010">Service.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_security_1_1_authentication_header_decoder_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_security_1_1_authentication_header_decoder.html">TGS.Server.Security.AuthenticationHeaderDecoder</a></div><div class="ttdef"><b>Definition:</b> <a href="_authentication_header_decoder_8cs_source.html#l00012">AuthenticationHeaderDecoder.cs:12</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_definitions_html_ab65eb36f9a4b34fb9a1baba47454c3b7"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_definitions.html#ab65eb36f9a4b34fb9a1baba47454c3b7">TGS.Interface.Definitions.MasterInterfaceName</a></div><div class="ttdeci">const string MasterInterfaceName</div><div class="ttdoc">Base name of communication URLs </div><div class="ttdef"><b>Definition:</b> <a href="_definitions_8cs_source.html#l00026">Definitions.cs:26</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c766dcb7ff9a155f16833e35cd2d10d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.UnlockLoggingID </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>ID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlocks a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8" title="Used to assign the instance to event IDs ">Instance.LoggingID</a> acquired with <a class="el" href="class_t_g_s_1_1_server_1_1_server.html#a7939236efbbddb15e9c3684eff4d69a2" title="Gets and locks a Instance.LoggingID ">LockLoggingID</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ID</td><td>The <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8" title="Used to assign the instance to event IDs ">Instance.LoggingID</a> to unlock</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00255">255</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a6213ea2ae98c0bd5123ad7602e7fb4c0">UsedLoggingIDs</a>)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a6213ea2ae98c0bd5123ad7602e7fb4c0">UsedLoggingIDs</a>.Remove(ID);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a6213ea2ae98c0bd5123ad7602e7fb4c0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a6213ea2ae98c0bd5123ad7602e7fb4c0">TGS.Server.Server.UsedLoggingIDs</a></div><div class="ttdeci">IList&lt; int &gt; UsedLoggingIDs</div><div class="ttdoc">List of Instance.LoggingIDs in use </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00083">Server.cs:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9a7216e002c09db6b910b1fe7784ba3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Server.VerifyConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does nothing on the server end, but if the call completes, you can be sure you are connected. WCF won't throw until you try until you actually use the API  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html#aede51b0002a7ddf1d2576c87691079e0">TGS.Interface.Components.ITGConnectivity</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00376">376</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaaeae4807f8701704f383ac852e20550"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Server.Version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve's the service's version  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_landing.html#a130ad7e3c681dbf4286a799c1c64cf43">TGS.Interface.Components.ITGLanding</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00401">401</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_server.html#a822f4126695b19deb476485057021851">VersionString</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_server_html_a822f4126695b19deb476485057021851"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_server.html#a822f4126695b19deb476485057021851">TGS.Server.Server.VersionString</a></div><div class="ttdeci">static readonly string VersionString</div><div class="ttdoc">The service version string based on the AssemblyName&amp;#39;s System.Version </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_server_8cs_source.html#l00032">Server.cs:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a584355066ff6bc0e6d0f45918d1d49ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly string TGS.Server.Server.DefaultConfigDirectory = Directory.CreateDirectory(Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData), &quot;TGS.Server&quot;)).FullName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The directory to load and save <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html" title="Class for storing server wide settings ">ServerConfig</a>s to </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00047">47</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a243d9d6f8494daa551bd5d692204e745"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Server.disposedValue = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To detect redundant <a class="el" href="class_t_g_s_1_1_server_1_1_server.html#ade99414a470f1128e8ef57a0dd6789a7" title="Implements the IDisposable pattern ">Dispose()</a> calls </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00660">660</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ac9fd7531267a1affc98b5b3d53b38262"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IDictionary&lt;string, ServiceHost&gt; TGS.Server.Server.hosts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#a157cc0930e5e2e0c686081a563baa4d1">InstanceConfig.Name</a> to the respective ServiceHost hosting the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00079">79</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a702eca8419343fd22ea34a63fc24772e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte TGS.Server.Server.LoggingID = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The logging ID used for <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a> events </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00022">22</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>Referenced by <a class="el" href="_root_authorization_manager_8cs_source.html#l00017">TGS.Server.Security.RootAuthorizationManager.CheckAccessCore()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2024354f2377a559194c252eec1611c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Server.MigrationConfigDirectory = &quot;C:\\TGSSettingUpgradeTempDir&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The directory to use when importing a .NET settings based config </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00027">27</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

</div>
</div>
<a class="anchor" id="adc59504b21e321ca8b9ca792a04099c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ServiceHost TGS.Server.Server.serviceHost</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The WCF host that contains ITGSService connects to </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00075">75</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a6213ea2ae98c0bd5123ad7602e7fb4c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;int&gt; TGS.Server.Server.UsedLoggingIDs = new List&lt;int&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8" title="Used to assign the instance to event IDs ">Instance.LoggingID</a>s in use </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00083">83</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a822f4126695b19deb476485057021851"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly string TGS.Server.Server.VersionString = String.Format(&quot;/tg/station 13 <a class="el" href="class_t_g_s_1_1_server_1_1_server.html">Server</a> v{0}&quot;, Assembly.GetExecutingAssembly().GetName().<a class="el" href="class_t_g_s_1_1_server_1_1_server.html#aaaeae4807f8701704f383ac852e20550">Version</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The service version string based on the AssemblyName's System.Version </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00032">32</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>Referenced by <a class="el" href="_i_r_c_chat_provider_8cs_source.html#l00045">TGS.Server.ChatProviders.IRCChatProvider.IRCChatProvider()</a>, and <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00108">TGS.Server.Instance.Version()</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="adc8b0e2ed7eaa12ae89d661912a01e50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html">ServerConfig</a> TGS.Server.Server.Config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">get</span><span class="mlabel">private set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="class_t_g_s_1_1_server_1_1_server_config.html" title="Class for storing server wide settings ">ServerConfig</a> for the <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00042">42</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01289">TGS.Server.Instance.GenerateChangelogImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d74616cab26fd2b954f87e6a9b911a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html">ILogger</a> TGS.Server.Server.Logger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">get</span><span class="mlabel">private set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Singleton <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html" title="Used for writing logs to a provider ">ILogger</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html#l00037">37</a> of file <a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a>.</p>

<p>Referenced by <a class="el" href="_root_authorization_manager_8cs_source.html#l00017">TGS.Server.Security.RootAuthorizationManager.CheckAccessCore()</a>, <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00093">TGS.Server.Instance.WriteAccess()</a>, <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">TGS.Server.Instance.WriteError()</a>, <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">TGS.Server.Instance.WriteInfo()</a>, and <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">TGS.Server.Instance.WriteWarning()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>TGS.Server/<a class="el" href="_t_g_s_8_server_2_server_8cs_source.html">Server.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
