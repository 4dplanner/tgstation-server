<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tgstation-server: TGS.Server.Instance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tgs.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tgstation-server
   </div>
   <div id="projectbrief">The /tg/station 13 server suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_t_g_s.html">TGS</a></li><li class="navelem"><a class="el" href="namespace_t_g_s_1_1_server.html">Server</a></li><li class="navelem"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html">Instance</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_t_g_s_1_1_server_1_1_instance-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TGS.Server.Instance Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The class which holds all interface components. There are no safeguards for call race conditions so these must be guarded against internally  
 <a href="class_t_g_s_1_1_server_1_1_instance.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for TGS.Server.Instance:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance__inherit__graph.png" border="0" usemap="#_t_g_s_8_server_8_instance_inherit__map" alt="Inheritance graph"/></div>
<map name="_t_g_s_8_server_8_instance_inherit__map" id="_t_g_s_8_server_8_instance_inherit__map">
<area shape="rect" id="node2" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html" title="Interface for managing the code repository " alt="" coords="49,5,153,32"/>
<area shape="rect" id="node3" href="class_i_disposable.html" title="IDisposable" alt="" coords="56,56,145,83"/>
<area shape="rect" id="node4" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop.html" title="Used by DreamDaemon to access the interop API with call()(). Restrictions are in place so that only a..." alt="" coords="60,107,141,133"/>
<area shape="rect" id="node5" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html" title="Used for testing connections to the service without authentication " alt="" coords="45,157,157,184"/>
<area shape="rect" id="node6" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance.html" title="Metadata for a server instance " alt="" coords="55,208,146,235"/>
<area shape="rect" id="node7" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html" title="Interface for managing the actual BYOND game server " alt="" coords="37,259,165,285"/>
<area shape="rect" id="node8" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config.html" title="For modifying the in game config Most if not all of these will not apply until the next server reboot..." alt="" coords="61,309,140,336"/>
<area shape="rect" id="node9" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html" title="For managing the Game A/B/Live folders, compiling, and hotswapping them " alt="" coords="54,360,147,387"/>
<area shape="rect" id="node10" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat.html" title="Interface for handling chat bot " alt="" coords="66,411,135,437"/>
<area shape="rect" id="node11" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html" title="For managing the BYOND installation the server runs " alt="" coords="61,461,140,488"/>
<area shape="rect" id="node12" href="class_service_authorization_manager.html" title="ServiceAuthorizationManager" alt="" coords="5,512,196,539"/>
<area shape="rect" id="node13" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html" title="Manage the group that is used to access the service, can only be used by an administrator ..." alt="" coords="38,563,163,589"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TGS.Server.Instance:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance__coll__graph.png" border="0" usemap="#_t_g_s_8_server_8_instance_coll__map" alt="Collaboration graph"/></div>
<map name="_t_g_s_8_server_8_instance_coll__map" id="_t_g_s_8_server_8_instance_coll__map">
<area shape="rect" id="node2" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html" title="Interface for managing the code repository " alt="" coords="49,9,153,36"/>
<area shape="rect" id="node3" href="class_i_disposable.html" title="IDisposable" alt="" coords="56,60,145,87"/>
<area shape="rect" id="node4" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop.html" title="Used by DreamDaemon to access the interop API with call()(). Restrictions are in place so that only a..." alt="" coords="60,111,141,137"/>
<area shape="rect" id="node5" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html" title="Used for testing connections to the service without authentication " alt="" coords="45,161,157,188"/>
<area shape="rect" id="node6" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance.html" title="Metadata for a server instance " alt="" coords="55,212,146,239"/>
<area shape="rect" id="node7" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html" title="Interface for managing the actual BYOND game server " alt="" coords="37,263,165,289"/>
<area shape="rect" id="node8" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config.html" title="For modifying the in game config Most if not all of these will not apply until the next server reboot..." alt="" coords="61,313,140,340"/>
<area shape="rect" id="node9" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html" title="For managing the Game A/B/Live folders, compiling, and hotswapping them " alt="" coords="54,364,147,391"/>
<area shape="rect" id="node10" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat.html" title="Interface for handling chat bot " alt="" coords="66,415,135,441"/>
<area shape="rect" id="node11" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html" title="For managing the BYOND installation the server runs " alt="" coords="61,465,140,492"/>
<area shape="rect" id="node12" href="class_service_authorization_manager.html" title="ServiceAuthorizationManager" alt="" coords="5,516,196,543"/>
<area shape="rect" id="node13" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html" title="Manage the group that is used to access the service, can only be used by an administrator ..." alt="" coords="38,567,163,593"/>
<area shape="rect" id="node31" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html" title="Configuration settings for a Instance " alt="" coords="11,1725,191,1752"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6c55ee806eaed4ba948e0f045c63450d"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6c55ee806eaed4ba948e0f045c63450d">GetCurrentAuthorizedGroup</a> ()</td></tr>
<tr class="memdesc:a6c55ee806eaed4ba948e0f045c63450d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the windows group allowed to use the service other than administrator   <a href="#a6c55ee806eaed4ba948e0f045c63450d">More...</a><br /></td></tr>
<tr class="separator:a6c55ee806eaed4ba948e0f045c63450d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633f3bd996a517f8430f850d70001c90"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a633f3bd996a517f8430f850d70001c90">SetAuthorizedGroup</a> (string groupName)</td></tr>
<tr class="memdesc:a633f3bd996a517f8430f850d70001c90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the windows machine for the group named <em>groupName</em> , sets it as the authorized group if it's found   <a href="#a633f3bd996a517f8430f850d70001c90">More...</a><br /></td></tr>
<tr class="separator:a633f3bd996a517f8430f850d70001c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e25f2ef380402092afc0928909be60a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5e25f2ef380402092afc0928909be60a">RecreateStaticFolder</a> ()</td></tr>
<tr class="memdesc:a5e25f2ef380402092afc0928909be60a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renames the current static folder to a backup name and recreates is from the current repo using TGS3.json  <a href="#a5e25f2ef380402092afc0928909be60a">More...</a><br /></td></tr>
<tr class="separator:a5e25f2ef380402092afc0928909be60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab412ffc953f7e52aa48bf26a0fa5eaa4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab412ffc953f7e52aa48bf26a0fa5eaa4">CurrentStatus</a> ()</td></tr>
<tr class="memdesc:ab412ffc953f7e52aa48bf26a0fa5eaa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current status of any BYOND updates   <a href="#ab412ffc953f7e52aa48bf26a0fa5eaa4">More...</a><br /></td></tr>
<tr class="separator:ab412ffc953f7e52aa48bf26a0fa5eaa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6030958a6bb34345a20d70e190f75315"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6030958a6bb34345a20d70e190f75315">GetError</a> ()</td></tr>
<tr class="memdesc:a6030958a6bb34345a20d70e190f75315"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the last update error. Checking this will clear the value   <a href="#a6030958a6bb34345a20d70e190f75315">More...</a><br /></td></tr>
<tr class="separator:a6030958a6bb34345a20d70e190f75315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a277581d2109b82b7e94558007fb37595"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a277581d2109b82b7e94558007fb37595">GetVersion</a> (<a class="el" href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">ByondVersion</a> type)</td></tr>
<tr class="memdesc:a277581d2109b82b7e94558007fb37595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently installed version as a string formatted as Major.Minor   <a href="#a277581d2109b82b7e94558007fb37595">More...</a><br /></td></tr>
<tr class="separator:a277581d2109b82b7e94558007fb37595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833b631d726a8040002d3c83db7fdb8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a833b631d726a8040002d3c83db7fdb8e">UpdateToVersionImpl</a> (object param)</td></tr>
<tr class="memdesc:a833b631d726a8040002d3c83db7fdb8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downloads and unzips a BYOND revision. Calls <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac318b9e316c87b79912f3e6551f1ec3e" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure...">ApplyStagedUpdate</a> afterwards if the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> isn't running, otherwise, calls <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>. Sets <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7" title="The last error the BYOND updater encountered ">lastError</a> on failure  <a href="#a833b631d726a8040002d3c83db7fdb8e">More...</a><br /></td></tr>
<tr class="separator:a833b631d726a8040002d3c83db7fdb8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985e225708d6d6fbcc4f59ef443d63cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a985e225708d6d6fbcc4f59ef443d63cf">UpdateToVersion</a> (int major, int minor)</td></tr>
<tr class="memdesc:a985e225708d6d6fbcc4f59ef443d63cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">updates the used byond version to that of version <em>major</em> .<em>minor</em> . The change won't take place until DD reboots. Calls <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">ITGDreamDaemon.RequestRestart</a> if blocked by a running DD instance. Runs asyncronously, use <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html#aff24d2169e2f4ba5767fe1499c405a53" title="Gets the current status of any BYOND updates ">CurrentStatus</a> to check progress   <a href="#a985e225708d6d6fbcc4f59ef443d63cf">More...</a><br /></td></tr>
<tr class="separator:a985e225708d6d6fbcc4f59ef443d63cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6791c9be7a1f6784b1b84d3365ba5151"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6791c9be7a1f6784b1b84d3365ba5151">InitChat</a> ()</td></tr>
<tr class="memdesc:a6791c9be7a1f6784b1b84d3365ba5151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the <a class="el" href="namespace_t_g_s_1_1_server_1_1_chat_providers.html">ChatProviders</a> for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#a6791c9be7a1f6784b1b84d3365ba5151">More...</a><br /></td></tr>
<tr class="separator:a6791c9be7a1f6784b1b84d3365ba5151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa2e889e6de36dee6c8becad099272b4"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html">ChatSetupInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afa2e889e6de36dee6c8becad099272b4">ProviderInfos</a> ()</td></tr>
<tr class="memdesc:afa2e889e6de36dee6c8becad099272b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <a class="el" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html" title="For setting up authentication no matter the chat provider ">ChatSetupInfo</a> for all <a class="el" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2" title="The type of chat provider ">ChatProvider</a>s   <a href="#afa2e889e6de36dee6c8becad099272b4">More...</a><br /></td></tr>
<tr class="separator:afa2e889e6de36dee6c8becad099272b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b657fb564360ff614d9801b9c77af6a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8b657fb564360ff614d9801b9c77af6a">SetProviderInfo</a> (<a class="el" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html">ChatSetupInfo</a> info)</td></tr>
<tr class="memdesc:a8b657fb564360ff614d9801b9c77af6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a chat provider <em>info</em>    <a href="#a8b657fb564360ff614d9801b9c77af6a">More...</a><br /></td></tr>
<tr class="separator:a8b657fb564360ff614d9801b9c77af6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53a558e8ef6a5b06b9260bd0f26f9fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab53a558e8ef6a5b06b9260bd0f26f9fc">Connected</a> (<a class="el" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a> providerType)</td></tr>
<tr class="memdesc:ab53a558e8ef6a5b06b9260bd0f26f9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks connection status   <a href="#ab53a558e8ef6a5b06b9260bd0f26f9fc">More...</a><br /></td></tr>
<tr class="separator:ab53a558e8ef6a5b06b9260bd0f26f9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae20c369c53d4bdc6d6c7c8528ce10e6"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aae20c369c53d4bdc6d6c7c8528ce10e6">Reconnect</a> (<a class="el" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a> providerType)</td></tr>
<tr class="memdesc:aae20c369c53d4bdc6d6c7c8528ce10e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconnect a specific <em>providerType</em>  to it's chat service   <a href="#aae20c369c53d4bdc6d6c7c8528ce10e6">More...</a><br /></td></tr>
<tr class="separator:aae20c369c53d4bdc6d6c7c8528ce10e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a6845e432d1c660cd56eb2e26b176b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a> (string msg, <a class="el" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a> mt)</td></tr>
<tr class="memdesc:a4a6845e432d1c660cd56eb2e26b176b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast a message to appropriate channels based on the message type  <a href="#a4a6845e432d1c660cd56eb2e26b176b2">More...</a><br /></td></tr>
<tr class="separator:a4a6845e432d1c660cd56eb2e26b176b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a098d8cd0518167cec165f6ba744147eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a098d8cd0518167cec165f6ba744147eb">GetStatus</a> ()</td></tr>
<tr class="memdesc:a098d8cd0518167cec165f6ba744147eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current compiler status   <a href="#a098d8cd0518167cec165f6ba744147eb">More...</a><br /></td></tr>
<tr class="separator:a098d8cd0518167cec165f6ba744147eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe8e8cd6bfd1acff032e797ccff30b2"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aafe8e8cd6bfd1acff032e797ccff30b2">CompileError</a> ()</td></tr>
<tr class="memdesc:aafe8e8cd6bfd1acff032e797ccff30b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the error message of the last operation. Reading this will clear the stored value   <a href="#aafe8e8cd6bfd1acff032e797ccff30b2">More...</a><br /></td></tr>
<tr class="separator:aafe8e8cd6bfd1acff032e797ccff30b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61c4384180d7f6ed5143060c6051e53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac61c4384180d7f6ed5143060c6051e53">Initialize</a> ()</td></tr>
<tr class="memdesc:ac61c4384180d7f6ed5143060c6051e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder. Requires the repository to be set up and locks it once the compilation stage starts. Runs asyncronously from this call   <a href="#ac61c4384180d7f6ed5143060c6051e53">More...</a><br /></td></tr>
<tr class="separator:ac61c4384180d7f6ed5143060c6051e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0722550ec5420578e4201ad41eebab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a0b0722550ec5420578e4201ad41eebab">InitializeImpl</a> ()</td></tr>
<tr class="separator:a0b0722550ec5420578e4201ad41eebab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf343168b3fcc0efef459a12b9fabdf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6bf343168b3fcc0efef459a12b9fabdf">Compile</a> (bool silent=false)</td></tr>
<tr class="memdesc:a6bf343168b3fcc0efef459a12b9fabdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does all the necessary actions to take the revision currently in the repository and compile it to be run on the next server reboot. Requires BYOND to be set up and the <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#ad09bc56c6dddb2c812a1a47488dddeef" title="Returns the current compiler status ">GetStatus</a> to return <a class="el" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1ca59d87a4758a9d35fbaf6b204341bb399" title="Game folder is setup, does not imply the dmb is compiled ">CompilerStatus.Initialized</a>. Runs asyncronously   <a href="#a6bf343168b3fcc0efef459a12b9fabdf">More...</a><br /></td></tr>
<tr class="separator:a6bf343168b3fcc0efef459a12b9fabdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d1b345d8a406dbf94e00db1454ba9c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a84d1b345d8a406dbf94e00db1454ba9c">ProjectName</a> ()</td></tr>
<tr class="memdesc:a84d1b345d8a406dbf94e00db1454ba9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the relative path of the dme the compiler will look for without the .dme part   <a href="#a84d1b345d8a406dbf94e00db1454ba9c">More...</a><br /></td></tr>
<tr class="separator:a84d1b345d8a406dbf94e00db1454ba9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8eb3b4061e0852344e64c755898ac8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac8eb3b4061e0852344e64c755898ac8c">SetProjectName</a> (string projectName)</td></tr>
<tr class="memdesc:ac8eb3b4061e0852344e64c755898ac8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the relative path of the dme the compiler will look for without the .dme part   <a href="#ac8eb3b4061e0852344e64c755898ac8c">More...</a><br /></td></tr>
<tr class="separator:ac8eb3b4061e0852344e64c755898ac8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac60dec215167c30c51143cf1d99e65a0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac60dec215167c30c51143cf1d99e65a0">Cancel</a> ()</td></tr>
<tr class="memdesc:ac60dec215167c30c51143cf1d99e65a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the current compilation  <a href="#ac60dec215167c30c51143cf1d99e65a0">More...</a><br /></td></tr>
<tr class="separator:ac60dec215167c30c51143cf1d99e65a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07f764eec98c909d04b62caf2b748238"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a07f764eec98c909d04b62caf2b748238">ReadText</a> (string staticRelativePath, bool repo, out string error, out bool unauthorized)</td></tr>
<tr class="memdesc:a07f764eec98c909d04b62caf2b748238"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from a static file   <a href="#a07f764eec98c909d04b62caf2b748238">More...</a><br /></td></tr>
<tr class="separator:a07f764eec98c909d04b62caf2b748238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3654af3cdaf2d738ad590e8ea009782"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab3654af3cdaf2d738ad590e8ea009782">WriteText</a> (string staticRelativePath, string data, out bool unauthorized)</td></tr>
<tr class="memdesc:ab3654af3cdaf2d738ad590e8ea009782"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to a static file   <a href="#ab3654af3cdaf2d738ad590e8ea009782">More...</a><br /></td></tr>
<tr class="separator:ab3654af3cdaf2d738ad590e8ea009782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232046a10167c8b30bedf068284c2857"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a232046a10167c8b30bedf068284c2857">DeleteFile</a> (string staticRelativePath, out bool unauthorized)</td></tr>
<tr class="memdesc:a232046a10167c8b30bedf068284c2857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the target static file   <a href="#a232046a10167c8b30bedf068284c2857">More...</a><br /></td></tr>
<tr class="separator:a232046a10167c8b30bedf068284c2857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9c9d3a1d79a12c8cdfabbb9f1fae4a"><td class="memItemLeft" align="right" valign="top">IList&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6f9c9d3a1d79a12c8cdfabbb9f1fae4a">ListStaticDirectory</a> (string subDir, out string error, out bool unauthorized)</td></tr>
<tr class="memdesc:a6f9c9d3a1d79a12c8cdfabbb9f1fae4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file contents of the specified server directory Subdirectories will be prefixed with '/'   <a href="#a6f9c9d3a1d79a12c8cdfabbb9f1fae4a">More...</a><br /></td></tr>
<tr class="separator:a6f9c9d3a1d79a12c8cdfabbb9f1fae4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d29ee9f52d6da07ac10577bc6db078c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a> ()</td></tr>
<tr class="memdesc:a4d29ee9f52d6da07ac10577bc6db078c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the status of DreamDaemon   <a href="#a4d29ee9f52d6da07ac10577bc6db078c">More...</a><br /></td></tr>
<tr class="separator:a4d29ee9f52d6da07ac10577bc6db078c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f6f35b683539aabb8a0044f6c83406"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">RequestRestart</a> ()</td></tr>
<tr class="memdesc:a28f6f35b683539aabb8a0044f6c83406"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restart the server after the currently running world reboots. Has no effect if the server isn't running   <a href="#a28f6f35b683539aabb8a0044f6c83406">More...</a><br /></td></tr>
<tr class="separator:a28f6f35b683539aabb8a0044f6c83406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af399ffae59f2f1a1595da516e7afca1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af399ffae59f2f1a1595da516e7afca1a">RequestStop</a> ()</td></tr>
<tr class="memdesc:af399ffae59f2f1a1595da516e7afca1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the server after the currently running world reboots. Has no effect if the server isn't running   <a href="#af399ffae59f2f1a1595da516e7afca1a">More...</a><br /></td></tr>
<tr class="separator:af399ffae59f2f1a1595da516e7afca1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab09a0bda6eaa71b87c84c685e1e13093"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab09a0bda6eaa71b87c84c685e1e13093">Stop</a> ()</td></tr>
<tr class="memdesc:ab09a0bda6eaa71b87c84c685e1e13093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Immediately kills the server   <a href="#ab09a0bda6eaa71b87c84c685e1e13093">More...</a><br /></td></tr>
<tr class="separator:ab09a0bda6eaa71b87c84c685e1e13093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cac5447eccf0b05ea790475df167a5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6cac5447eccf0b05ea790475df167a5c">SetPort</a> (ushort new_port)</td></tr>
<tr class="memdesc:a6cac5447eccf0b05ea790475df167a5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the port to host DD on. Requires reboot to apply. Calls <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>.   <a href="#a6cac5447eccf0b05ea790475df167a5c">More...</a><br /></td></tr>
<tr class="separator:a6cac5447eccf0b05ea790475df167a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94bfbe235ce28e4f29001f79f16ad7e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a94bfbe235ce28e4f29001f79f16ad7e9">KillMe</a> ()</td></tr>
<tr class="separator:a94bfbe235ce28e4f29001f79f16ad7e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6e8f2764269059a4f278955b4e6204"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1f6e8f2764269059a4f278955b4e6204">Restart</a> ()</td></tr>
<tr class="memdesc:a1f6e8f2764269059a4f278955b4e6204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Immediately kills and restarts the server   <a href="#a1f6e8f2764269059a4f278955b4e6204">More...</a><br /></td></tr>
<tr class="separator:a1f6e8f2764269059a4f278955b4e6204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604a8e753988470876536ec1b39f94e2"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a604a8e753988470876536ec1b39f94e2">CanStart</a> ()</td></tr>
<tr class="memdesc:a604a8e753988470876536ec1b39f94e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a call to <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#aacfd75d32ce9b0fe693daf2ff0143347" title="Starts the server if it isn&#39;t running ">Start</a> will fail. Of course, be aware of race conditions with other interfaces   <a href="#a604a8e753988470876536ec1b39f94e2">More...</a><br /></td></tr>
<tr class="separator:a604a8e753988470876536ec1b39f94e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09aac30b5663a766ec55ee415b954f2b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a09aac30b5663a766ec55ee415b954f2b">Start</a> ()</td></tr>
<tr class="memdesc:a09aac30b5663a766ec55ee415b954f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the server if it isn't running   <a href="#a09aac30b5663a766ec55ee415b954f2b">More...</a><br /></td></tr>
<tr class="separator:a09aac30b5663a766ec55ee415b954f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f290406bac5177798e6af9c5d2487a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac2f290406bac5177798e6af9c5d2487a">SecurityLevel</a> ()</td></tr>
<tr class="memdesc:ac2f290406bac5177798e6af9c5d2487a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the configured (not necessarily running) security level   <a href="#ac2f290406bac5177798e6af9c5d2487a">More...</a><br /></td></tr>
<tr class="separator:ac2f290406bac5177798e6af9c5d2487a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf9b431d13fee84dba894eff559bd21"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5bf9b431d13fee84dba894eff559bd21">SetSecurityLevel</a> (<a class="el" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a> level)</td></tr>
<tr class="memdesc:a5bf9b431d13fee84dba894eff559bd21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the security level of the server. Requires server reboot to apply. Calls <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>. Note that anything higher than Trusted will disable interop from DD   <a href="#a5bf9b431d13fee84dba894eff559bd21">More...</a><br /></td></tr>
<tr class="separator:a5bf9b431d13fee84dba894eff559bd21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61459d20db5399496e15aa0c1f1e9d5a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a61459d20db5399496e15aa0c1f1e9d5a">Autostart</a> ()</td></tr>
<tr class="memdesc:a61459d20db5399496e15aa0c1f1e9d5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the watchdog will start when the service starts   <a href="#a61459d20db5399496e15aa0c1f1e9d5a">More...</a><br /></td></tr>
<tr class="separator:a61459d20db5399496e15aa0c1f1e9d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103dd502ffe0ff1d52c606d68de6260a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a103dd502ffe0ff1d52c606d68de6260a">SetAutostart</a> (bool on)</td></tr>
<tr class="memdesc:a103dd502ffe0ff1d52c606d68de6260a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the autostart config   <a href="#a103dd502ffe0ff1d52c606d68de6260a">More...</a><br /></td></tr>
<tr class="separator:a103dd502ffe0ff1d52c606d68de6260a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e9546bdbc10562ae3f144ab7247acb"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5e9546bdbc10562ae3f144ab7247acb">StatusString</a> (bool includeMetaInfo)</td></tr>
<tr class="memdesc:ac5e9546bdbc10562ae3f144ab7247acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a human readable string of the current server status   <a href="#ac5e9546bdbc10562ae3f144ab7247acb">More...</a><br /></td></tr>
<tr class="separator:ac5e9546bdbc10562ae3f144ab7247acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce7ab0825aec9c2dfa4d981be2c9977"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acce7ab0825aec9c2dfa4d981be2c9977">Port</a> ()</td></tr>
<tr class="memdesc:acce7ab0825aec9c2dfa4d981be2c9977"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the configured port. Not necessarily the running port if it has since changed   <a href="#acce7ab0825aec9c2dfa4d981be2c9977">More...</a><br /></td></tr>
<tr class="separator:acce7ab0825aec9c2dfa4d981be2c9977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2fb04b7c86d81968d0b2d9e6f28d18"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#add2fb04b7c86d81968d0b2d9e6f28d18">ShutdownInProgress</a> ()</td></tr>
<tr class="memdesc:add2fb04b7c86d81968d0b2d9e6f28d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a server stop has been requested   <a href="#add2fb04b7c86d81968d0b2d9e6f28d18">More...</a><br /></td></tr>
<tr class="separator:add2fb04b7c86d81968d0b2d9e6f28d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60ed802c6a49558a32eaf8c590c84f2"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa60ed802c6a49558a32eaf8c590c84f2">WorldAnnounce</a> (string message)</td></tr>
<tr class="memdesc:aa60ed802c6a49558a32eaf8c590c84f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to everyone on the server   <a href="#aa60ed802c6a49558a32eaf8c590c84f2">More...</a><br /></td></tr>
<tr class="separator:aa60ed802c6a49558a32eaf8c590c84f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46520eda70e7653a8000132617e7451d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a46520eda70e7653a8000132617e7451d">Webclient</a> ()</td></tr>
<tr class="memdesc:a46520eda70e7653a8000132617e7451d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the BYOND webclient is currently enabled for the server   <a href="#a46520eda70e7653a8000132617e7451d">More...</a><br /></td></tr>
<tr class="separator:a46520eda70e7653a8000132617e7451d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ebe4076139e92478d2de6713c1ff424"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1ebe4076139e92478d2de6713c1ff424">SetWebclient</a> (bool on)</td></tr>
<tr class="memdesc:a1ebe4076139e92478d2de6713c1ff424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the webclient config. Calls <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>   <a href="#a1ebe4076139e92478d2de6713c1ff424">More...</a><br /></td></tr>
<tr class="separator:a1ebe4076139e92478d2de6713c1ff424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3324d5c44b33771c86fe738b0593a136"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a3324d5c44b33771c86fe738b0593a136">Instance</a> (<a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a> config, byte logID)</td></tr>
<tr class="memdesc:a3324d5c44b33771c86fe738b0593a136"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs and a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#a3324d5c44b33771c86fe738b0593a136">More...</a><br /></td></tr>
<tr class="separator:a3324d5c44b33771c86fe738b0593a136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06fedfc5265b7b47b9d38b518d1bcdfd"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">Version</a> ()</td></tr>
<tr class="memdesc:a06fedfc5265b7b47b9d38b518d1bcdfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve's the service's version   <a href="#a06fedfc5265b7b47b9d38b518d1bcdfd">More...</a><br /></td></tr>
<tr class="separator:a06fedfc5265b7b47b9d38b518d1bcdfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c80cb3d150ddfeaed1fc172c08d975c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5c80cb3d150ddfeaed1fc172c08d975c">VerifyConnection</a> ()</td></tr>
<tr class="memdesc:a5c80cb3d150ddfeaed1fc172c08d975c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does nothing on the server end, but if the call completes, you can be sure you are connected. WCF won't throw until you try until you actually use the API   <a href="#a5c80cb3d150ddfeaed1fc172c08d975c">More...</a><br /></td></tr>
<tr class="separator:a5c80cb3d150ddfeaed1fc172c08d975c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc21c412fa14d5b973a89ee126bae009"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#adc21c412fa14d5b973a89ee126bae009">Reattach</a> (bool silent)</td></tr>
<tr class="separator:adc21c412fa14d5b973a89ee126bae009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e90c4b818594f97eea58aba15d4ac90"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6e90c4b818594f97eea58aba15d4ac90">ServerDirectory</a> ()</td></tr>
<tr class="memdesc:a6e90c4b818594f97eea58aba15d4ac90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the directory of the server on the host machine   <a href="#a6e90c4b818594f97eea58aba15d4ac90">More...</a><br /></td></tr>
<tr class="separator:a6e90c4b818594f97eea58aba15d4ac90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914861dfc8cc51138398add5530ce315"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a914861dfc8cc51138398add5530ce315">Offline</a> ()</td></tr>
<tr class="memdesc:a914861dfc8cc51138398add5530ce315"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#ad0835b8f249dfbfb2298c2c31839b376">InstanceConfig.Enabled</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a> to   <a href="#a914861dfc8cc51138398add5530ce315">More...</a><br /></td></tr>
<tr class="separator:a914861dfc8cc51138398add5530ce315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7984437076eaf2223f136c6f029428d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7984437076eaf2223f136c6f029428d1">Dispose</a> ()</td></tr>
<tr class="memdesc:a7984437076eaf2223f136c6f029428d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern  <a href="#a7984437076eaf2223f136c6f029428d1">More...</a><br /></td></tr>
<tr class="separator:a7984437076eaf2223f136c6f029428d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ef3869e320d3d7c43859268da2a03a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">SendCommand</a> (string cmd)</td></tr>
<tr class="separator:a50ef3869e320d3d7c43859268da2a03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3a5860e58497bfb14facc8fcdacd79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a9c3a5860e58497bfb14facc8fcdacd79">PlayerCount</a> ()</td></tr>
<tr class="memdesc:a9c3a5860e58497bfb14facc8fcdacd79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of connected players. Requires game to use API version &gt;= 3.1.0.1  <a href="#a9c3a5860e58497bfb14facc8fcdacd79">More...</a><br /></td></tr>
<tr class="separator:a9c3a5860e58497bfb14facc8fcdacd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa17ef8a6d8e1349152c24d18a5abb5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4fa17ef8a6d8e1349152c24d18a5abb5">InteropMessage</a> (string command)</td></tr>
<tr class="memdesc:a4fa17ef8a6d8e1349152c24d18a5abb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from /world/ExportService(command)   <a href="#a4fa17ef8a6d8e1349152c24d18a5abb5">More...</a><br /></td></tr>
<tr class="separator:a4fa17ef8a6d8e1349152c24d18a5abb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4499dffe00a28b4f0f2ccf5a48637a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8b4499dffe00a28b4f0f2ccf5a48637a">PrecompileHook</a> ()</td></tr>
<tr class="memdesc:a8b4499dffe00a28b4f0f2ccf5a48637a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the "precompile" event  <a href="#a8b4499dffe00a28b4f0f2ccf5a48637a">More...</a><br /></td></tr>
<tr class="separator:a8b4499dffe00a28b4f0f2ccf5a48637a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa1c226d23c0f175e5bc3fe66f531a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6fa1c226d23c0f175e5bc3fe66f531a6">PostcompileHook</a> ()</td></tr>
<tr class="memdesc:a6fa1c226d23c0f175e5bc3fe66f531a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the "postcompile" event  <a href="#a6fa1c226d23c0f175e5bc3fe66f531a6">More...</a><br /></td></tr>
<tr class="separator:a6fa1c226d23c0f175e5bc3fe66f531a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c034d54751b0cc2c76a77232e4a15e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac3c034d54751b0cc2c76a77232e4a15e">OperationInProgress</a> ()</td></tr>
<tr class="memdesc:ac3c034d54751b0cc2c76a77232e4a15e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the repo is currently undergoing an operation   <a href="#ac3c034d54751b0cc2c76a77232e4a15e">More...</a><br /></td></tr>
<tr class="separator:ac3c034d54751b0cc2c76a77232e4a15e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6388054e24e414ef49593fa51ce0ae24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6388054e24e414ef49593fa51ce0ae24">CheckoutProgress</a> ()</td></tr>
<tr class="memdesc:a6388054e24e414ef49593fa51ce0ae24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the progress of repository operations, not all operations are supported   <a href="#a6388054e24e414ef49593fa51ce0ae24">More...</a><br /></td></tr>
<tr class="separator:a6388054e24e414ef49593fa51ce0ae24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbd8b294a54c3573371c933467f5575"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acbbd8b294a54c3573371c933467f5575">Exists</a> ()</td></tr>
<tr class="memdesc:acbbd8b294a54c3573371c933467f5575"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the repository is valid, if not <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a324c36d13811df776d3deb8adb37514d" title="Deletes whatever may be left over and clones the repo at remote  and checks out branch ...">Setup(string, string)</a> must be called   <a href="#acbbd8b294a54c3573371c933467f5575">More...</a><br /></td></tr>
<tr class="separator:acbbd8b294a54c3573371c933467f5575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4b564db63526863dacc273a6715801"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1f4b564db63526863dacc273a6715801">UpdateTGS3Json</a> ()</td></tr>
<tr class="memdesc:a1f4b564db63526863dacc273a6715801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> with the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d" title="The path to the Repository&#39;s RepoConfig json ">RepoTGS3SettingsPath</a>  <a href="#a1f4b564db63526863dacc273a6715801">More...</a><br /></td></tr>
<tr class="separator:a1f4b564db63526863dacc273a6715801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b0aee9af3f27ca17b0066daf07287d"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac4b0aee9af3f27ca17b0066daf07287d">Setup</a> (string RepoURL, string BranchName)</td></tr>
<tr class="memdesc:ac4b0aee9af3f27ca17b0066daf07287d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes whatever may be left over and clones the repo at <em>remote</em>  and checks out <em>branch</em> . Will move config and data dirs to a backup location if they exist. Runs asyncronously   <a href="#ac4b0aee9af3f27ca17b0066daf07287d">More...</a><br /></td></tr>
<tr class="separator:ac4b0aee9af3f27ca17b0066daf07287d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b6c24c3b6a500397c482cbe2739790"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af5b6c24c3b6a500397c482cbe2739790">GetHead</a> (bool useTracked, out string error)</td></tr>
<tr class="memdesc:af5b6c24c3b6a500397c482cbe2739790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the sha of the current HEAD   <a href="#af5b6c24c3b6a500397c482cbe2739790">More...</a><br /></td></tr>
<tr class="separator:af5b6c24c3b6a500397c482cbe2739790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab58aae42424613af52009f69695d6f93"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab58aae42424613af52009f69695d6f93">GetBranch</a> (out string error)</td></tr>
<tr class="memdesc:ab58aae42424613af52009f69695d6f93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of the current branch   <a href="#ab58aae42424613af52009f69695d6f93">More...</a><br /></td></tr>
<tr class="separator:ab58aae42424613af52009f69695d6f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeac01eeeff769611c0191173076f0e0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abeac01eeeff769611c0191173076f0e0">GetRemote</a> (out string error)</td></tr>
<tr class="memdesc:abeac01eeeff769611c0191173076f0e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the url of the current origin   <a href="#abeac01eeeff769611c0191173076f0e0">More...</a><br /></td></tr>
<tr class="separator:abeac01eeeff769611c0191173076f0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac49fce1ca9d542dca6992318c1c94855"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac49fce1ca9d542dca6992318c1c94855">Checkout</a> (string sha)</td></tr>
<tr class="memdesc:ac49fce1ca9d542dca6992318c1c94855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hard checks out the passed object name   <a href="#ac49fce1ca9d542dca6992318c1c94855">More...</a><br /></td></tr>
<tr class="separator:ac49fce1ca9d542dca6992318c1c94855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f307cfcce4bfa27ff8d7f16947c7498"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1f307cfcce4bfa27ff8d7f16947c7498">Update</a> (bool reset)</td></tr>
<tr class="memdesc:a1f307cfcce4bfa27ff8d7f16947c7498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the origin and merges it into the current branch   <a href="#a1f307cfcce4bfa27ff8d7f16947c7498">More...</a><br /></td></tr>
<tr class="separator:a1f307cfcce4bfa27ff8d7f16947c7498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7799e81d92bdec8a357d9b3240a202ef"><td class="memItemLeft" align="right" valign="top">IDictionary&lt; string, string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7799e81d92bdec8a357d9b3240a202ef">ListBackups</a> (out string error)</td></tr>
<tr class="memdesc:a7799e81d92bdec8a357d9b3240a202ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists tags in the repository created by the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#a7799e81d92bdec8a357d9b3240a202ef">More...</a><br /></td></tr>
<tr class="separator:a7799e81d92bdec8a357d9b3240a202ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76306067d70759b19a58f8b26af86c8d"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a76306067d70759b19a58f8b26af86c8d">Reset</a> (bool trackedBranch)</td></tr>
<tr class="memdesc:a76306067d70759b19a58f8b26af86c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs git reset &ndash;hard   <a href="#a76306067d70759b19a58f8b26af86c8d">More...</a><br /></td></tr>
<tr class="separator:a76306067d70759b19a58f8b26af86c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aec8f4bc9ffca3c05895f097c21635d"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a3aec8f4bc9ffca3c05895f097c21635d">MergePullRequest</a> (int PRNumber, string atSHA)</td></tr>
<tr class="memdesc:a3aec8f4bc9ffca3c05895f097c21635d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges the target pull request into the current branch if the remote is a github repository   <a href="#a3aec8f4bc9ffca3c05895f097c21635d">More...</a><br /></td></tr>
<tr class="separator:a3aec8f4bc9ffca3c05895f097c21635d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc1986bc65a5297fa100f84bc2bd3c2"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="class_t_g_s_1_1_interface_1_1_pull_request_info.html">PullRequestInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2dc1986bc65a5297fa100f84bc2bd3c2">MergedPullRequests</a> (out string error)</td></tr>
<tr class="memdesc:a2dc1986bc65a5297fa100f84bc2bd3c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently merged pull requests. Note that switching branches will delete this list and switching back won't restore it   <a href="#a2dc1986bc65a5297fa100f84bc2bd3c2">More...</a><br /></td></tr>
<tr class="separator:a2dc1986bc65a5297fa100f84bc2bd3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162aa702f81dabcb2835ba592068355c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a162aa702f81dabcb2835ba592068355c">GetCommitterName</a> ()</td></tr>
<tr class="memdesc:a162aa702f81dabcb2835ba592068355c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of the configured git committer   <a href="#a162aa702f81dabcb2835ba592068355c">More...</a><br /></td></tr>
<tr class="separator:a162aa702f81dabcb2835ba592068355c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afedbb93ad10a91d4c88c2b2d6c1c97c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afedbb93ad10a91d4c88c2b2d6c1c97c6">SetCommitterName</a> (string newName)</td></tr>
<tr class="memdesc:afedbb93ad10a91d4c88c2b2d6c1c97c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the name of the configured git committer   <a href="#afedbb93ad10a91d4c88c2b2d6c1c97c6">More...</a><br /></td></tr>
<tr class="separator:afedbb93ad10a91d4c88c2b2d6c1c97c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0cbef7e2461246199ddb47774b7c4b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acc0cbef7e2461246199ddb47774b7c4b">GetCommitterEmail</a> ()</td></tr>
<tr class="memdesc:acc0cbef7e2461246199ddb47774b7c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the email of the configured git committer   <a href="#acc0cbef7e2461246199ddb47774b7c4b">More...</a><br /></td></tr>
<tr class="separator:acc0cbef7e2461246199ddb47774b7c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfb2ec6315f04af88bb97297b650b39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1bfb2ec6315f04af88bb97297b650b39">SetCommitterEmail</a> (string newEmail)</td></tr>
<tr class="memdesc:a1bfb2ec6315f04af88bb97297b650b39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the email of the configured git committer   <a href="#a1bfb2ec6315f04af88bb97297b650b39">More...</a><br /></td></tr>
<tr class="separator:a1bfb2ec6315f04af88bb97297b650b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be905dbecf8c22a190e20ab990eded3"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8be905dbecf8c22a190e20ab990eded3">SynchronizePush</a> ()</td></tr>
<tr class="memdesc:a8be905dbecf8c22a190e20ab990eded3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exist for this function to succeed   <a href="#a8be905dbecf8c22a190e20ab990eded3">More...</a><br /></td></tr>
<tr class="separator:a8be905dbecf8c22a190e20ab990eded3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3888e58764d94b814d9e5493073ac318"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a3888e58764d94b814d9e5493073ac318">GenerateChangelog</a> (out string error)</td></tr>
<tr class="memdesc:a3888e58764d94b814d9e5493073ac318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the html changelog   <a href="#a3888e58764d94b814d9e5493073ac318">More...</a><br /></td></tr>
<tr class="separator:a3888e58764d94b814d9e5493073ac318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae09f4c1eea6852df2b225af315c2d4b1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae09f4c1eea6852df2b225af315c2d4b1">GenerateChangelogImpl</a> (out string error, bool recurse=false)</td></tr>
<tr class="memdesc:ae09f4c1eea6852df2b225af315c2d4b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the html changelog  <a href="#ae09f4c1eea6852df2b225af315c2d4b1">More...</a><br /></td></tr>
<tr class="separator:ae09f4c1eea6852df2b225af315c2d4b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fa38c2c05e7bd4e3f88fc3dc22254f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa4fa38c2c05e7bd4e3f88fc3dc22254f">SetAutoUpdateInterval</a> (ulong newInterval)</td></tr>
<tr class="memdesc:aa4fa38c2c05e7bd4e3f88fc3dc22254f"><td class="mdescLeft">&#160;</td><td class="mdescRight">(De)Activate and set the interval for the automatic server updater   <a href="#aa4fa38c2c05e7bd4e3f88fc3dc22254f">More...</a><br /></td></tr>
<tr class="separator:aa4fa38c2c05e7bd4e3f88fc3dc22254f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af986654609d219604051007dd6c086df"><td class="memItemLeft" align="right" valign="top">ulong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af986654609d219604051007dd6c086df">AutoUpdateInterval</a> ()</td></tr>
<tr class="memdesc:af986654609d219604051007dd6c086df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current autoupdate interval   <a href="#af986654609d219604051007dd6c086df">More...</a><br /></td></tr>
<tr class="separator:af986654609d219604051007dd6c086df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd0e4e22081841d4169b583d29d92f0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aefd0e4e22081841d4169b583d29d92f0">LiveSha</a> ()</td></tr>
<tr class="memdesc:aefd0e4e22081841d4169b583d29d92f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current staged or live commit SHA  <a href="#aefd0e4e22081841d4169b583d29d92f0">More...</a><br /></td></tr>
<tr class="separator:aefd0e4e22081841d4169b583d29d92f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa744293f90ea34372f3e489d2ca2cf7a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa744293f90ea34372f3e489d2ca2cf7a">PushTestmergeCommits</a> ()</td></tr>
<tr class="memdesc:aa744293f90ea34372f3e489d2ca2cf7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we push a temporary branch to the remote when we make testmerge commits   <a href="#aa744293f90ea34372f3e489d2ca2cf7a">More...</a><br /></td></tr>
<tr class="separator:aa744293f90ea34372f3e489d2ca2cf7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e9f04936092063dacb3d6caa23dfb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af6e9f04936092063dacb3d6caa23dfb2">SetPushTestmergeCommits</a> (bool newValue)</td></tr>
<tr class="memdesc:af6e9f04936092063dacb3d6caa23dfb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if we push a temporary branch to the remote when we make testmerge commits   <a href="#af6e9f04936092063dacb3d6caa23dfb2">More...</a><br /></td></tr>
<tr class="separator:af6e9f04936092063dacb3d6caa23dfb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab4d494c522d7d11a1889003a6f6d6c59"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab4d494c522d7d11a1889003a6f6d6c59">UninitializedString</a> = &quot;NEEDS INITIALIZING&quot;</td></tr>
<tr class="memdesc:ab4d494c522d7d11a1889003a6f6d6c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for indicating unintialized encrypted data  <a href="#ab4d494c522d7d11a1889003a6f6d6c59">More...</a><br /></td></tr>
<tr class="separator:ab4d494c522d7d11a1889003a6f6d6c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed67602a10e95dbf4cd053fb65871ed8"><td class="memItemLeft" align="right" valign="top">readonly byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">LoggingID</a></td></tr>
<tr class="memdesc:aed67602a10e95dbf4cd053fb65871ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to assign the instance to event IDs  <a href="#aed67602a10e95dbf4cd053fb65871ed8">More...</a><br /></td></tr>
<tr class="separator:aed67602a10e95dbf4cd053fb65871ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a31a8f54ee3fd356b9dd0acda9dd00c44"><td class="memItemLeft" align="right" valign="top">override bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a31a8f54ee3fd356b9dd0acda9dd00c44">CheckAccessCore</a> (OperationContext operationContext)</td></tr>
<tr class="memdesc:a31a8f54ee3fd356b9dd0acda9dd00c44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by WCF whenever a component call is made. Checks to see that the supplied user account has access to the requested component  <a href="#a31a8f54ee3fd356b9dd0acda9dd00c44">More...</a><br /></td></tr>
<tr class="separator:a31a8f54ee3fd356b9dd0acda9dd00c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:abac0e3ddd1419ccf23e1a40f4d387c8f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8f">SymbolicLink</a> { <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8fa0b27918290ff5323bea1e3b78a9cf04e">SymbolicLink.File</a> = 0, 
<a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8fae73cda510e8bb947f7e61089e5581494">SymbolicLink.Directory</a> = 1
 }</td></tr>
<tr class="separator:abac0e3ddd1419ccf23e1a40f4d387c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24619e3847ca6f303773c3c667a0c644"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a> { <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644a6adf97f83acf6453d4a6a4b1070f3754">ShutdownRequestPhase.None</a>, 
<a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644afcdf8a82eba24e303b63b2e49a507ecb">ShutdownRequestPhase.Requested</a>, 
<a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644a5391406caa5d363a29e5217eb25426e3">ShutdownRequestPhase.Pinged</a>
 }</td></tr>
<tr class="separator:a24619e3847ca6f303773c3c667a0c644"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a241f46efaa6b53c241f502de9326fb1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a241f46efaa6b53c241f502de9326fb1e">InitAdministration</a> ()</td></tr>
<tr class="separator:a241f46efaa6b53c241f502de9326fb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f7563f9db47ae1cfb2716377bd9a624"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a0f7563f9db47ae1cfb2716377bd9a624">FindTheDroidsWereLookingFor</a> (string search=null, bool useDomain=false)</td></tr>
<tr class="memdesc:a0f7563f9db47ae1cfb2716377bd9a624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627" title="The SecurityIdentifier of the Windows group authorized to access the Instance ">TheDroidsWereLookingFor</a> based off either an <em>search</em> ed name or a string SecurityIdentifier from the config  <a href="#a0f7563f9db47ae1cfb2716377bd9a624">More...</a><br /></td></tr>
<tr class="separator:a0f7563f9db47ae1cfb2716377bd9a624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62bb5558624424ef649cfd1d16a37e24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a62bb5558624424ef649cfd1d16a37e24">DisposeAdministration</a> ()</td></tr>
<tr class="memdesc:a62bb5558624424ef649cfd1d16a37e24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up the ITGAdministration component  <a href="#a62bb5558624424ef649cfd1d16a37e24">More...</a><br /></td></tr>
<tr class="separator:a62bb5558624424ef649cfd1d16a37e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528e107d5b9f90f22ba68a4737e5f850"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a528e107d5b9f90f22ba68a4737e5f850">InitByond</a> ()</td></tr>
<tr class="memdesc:a528e107d5b9f90f22ba68a4737e5f850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> is setup. Prepares the BYOND updater  <a href="#a528e107d5b9f90f22ba68a4737e5f850">More...</a><br /></td></tr>
<tr class="separator:a528e107d5b9f90f22ba68a4737e5f850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159ebf40e20cc296bbb2bc2a0986a8ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a159ebf40e20cc296bbb2bc2a0986a8ac">CleanByondStaging</a> ()</td></tr>
<tr class="memdesc:a159ebf40e20cc296bbb2bc2a0986a8ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans the BYOND staging directory  <a href="#a159ebf40e20cc296bbb2bc2a0986a8ac">More...</a><br /></td></tr>
<tr class="separator:a159ebf40e20cc296bbb2bc2a0986a8ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1139d8833360b4439c97cfba7fe117"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acf1139d8833360b4439c97cfba7fe117">DisposeByond</a> ()</td></tr>
<tr class="memdesc:acf1139d8833360b4439c97cfba7fe117"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> is shutdown  <a href="#acf1139d8833360b4439c97cfba7fe117">More...</a><br /></td></tr>
<tr class="separator:acf1139d8833360b4439c97cfba7fe117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd844ee6162c4270fec7671e706439c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#accd844ee6162c4270fec7671e706439c">BusyCheck</a> ()</td></tr>
<tr class="memdesc:accd844ee6162c4270fec7671e706439c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the updater is considered busy  <a href="#accd844ee6162c4270fec7671e706439c">More...</a><br /></td></tr>
<tr class="separator:accd844ee6162c4270fec7671e706439c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac318b9e316c87b79912f3e6551f1ec3e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac318b9e316c87b79912f3e6551f1ec3e">ApplyStagedUpdate</a> ()</td></tr>
<tr class="memdesc:ac318b9e316c87b79912f3e6551f1ec3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to move the staged update from <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916" title="The instance directory to use when updating the BYOND installation ">StagingDirectory</a> to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66" title="The instance directory to store the BYOND installation ">ByondDirectory</a>. Sets <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7" title="The last error the BYOND updater encountered ">lastError</a> on failure  <a href="#ac318b9e316c87b79912f3e6551f1ec3e">More...</a><br /></td></tr>
<tr class="separator:ac318b9e316c87b79912f3e6551f1ec3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f1914e254474070254a2666226455d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6f1914e254474070254a2666226455d1">ChatProvider_OnChatMessage</a> (<a class="el" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a> <a class="el" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a>, string speaker, string channel, string message, bool isAdmin, bool isAdminChannel)</td></tr>
<tr class="memdesc:a6f1914e254474070254a2666226455d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of OnChatMessage that recieves messages from all channels of all connected <a class="el" href="namespace_t_g_s_1_1_server_1_1_chat_providers.html">ChatProviders</a>  <a href="#a6f1914e254474070254a2666226455d1">More...</a><br /></td></tr>
<tr class="separator:a6f1914e254474070254a2666226455d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2862110636bab21070659ae80a9db6cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2862110636bab21070659ae80a9db6cc">DisposeChat</a> ()</td></tr>
<tr class="memdesc:a2862110636bab21070659ae80a9db6cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properly shuts down all <a class="el" href="namespace_t_g_s_1_1_server_1_1_chat_providers.html">ChatProviders</a>  <a href="#a2862110636bab21070659ae80a9db6cc">More...</a><br /></td></tr>
<tr class="separator:a2862110636bab21070659ae80a9db6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af92fd5a1d84bdc9ca61284557561d5c0"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html">ChatSetupInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af92fd5a1d84bdc9ca61284557561d5c0">InitProviderInfos</a> ()</td></tr>
<tr class="memdesc:af92fd5a1d84bdc9ca61284557561d5c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set  <a href="#af92fd5a1d84bdc9ca61284557561d5c0">More...</a><br /></td></tr>
<tr class="separator:af92fd5a1d84bdc9ca61284557561d5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a41b02fd430dabaea6e6dde3f087c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a40a41b02fd430dabaea6e6dde3f087c7">ChatConnectivityCheck</a> ()</td></tr>
<tr class="memdesc:a40a41b02fd430dabaea6e6dde3f087c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots  <a href="#a40a41b02fd430dabaea6e6dde3f087c7">More...</a><br /></td></tr>
<tr class="separator:a40a41b02fd430dabaea6e6dde3f087c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996e06361e5a0c036de90f9ced74188b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a996e06361e5a0c036de90f9ced74188b">CreateSymbolicLink</a> (string lpSymlinkFileName, string lpTargetFileName, <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8f">SymbolicLink</a> dwFlags)</td></tr>
<tr class="separator:a996e06361e5a0c036de90f9ced74188b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622bf2039a525407f0eec0399a0e4588"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a622bf2039a525407f0eec0399a0e4588">InitCompiler</a> ()</td></tr>
<tr class="separator:a622bf2039a525407f0eec0399a0e4588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16505761daaff2d3953c2d5869a1dcb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a16505761daaff2d3953c2d5869a1dcb8">DisposeCompiler</a> ()</td></tr>
<tr class="separator:a16505761daaff2d3953c2d5869a1dcb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f1964bdd8fbef73bb0051869e6a05f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a23f1964bdd8fbef73bb0051869e6a05f">CompilerIdleNoLock</a> ()</td></tr>
<tr class="separator:a23f1964bdd8fbef73bb0051869e6a05f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9dc063b6715f796fab85843732c004"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">IsInitialized</a> ()</td></tr>
<tr class="separator:a1a9dc063b6715f796fab85843732c004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1365351782327c0a728b7c13844d5640"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1365351782327c0a728b7c13844d5640">CleanGameFolder</a> ()</td></tr>
<tr class="separator:a1365351782327c0a728b7c13844d5640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8542d93b05d65677f7e972b17d16982e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8542d93b05d65677f7e972b17d16982e">GetStagingDir</a> ()</td></tr>
<tr class="separator:a8542d93b05d65677f7e972b17d16982e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d2405cd94bde93f012d76ea20b79e7"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac8d2405cd94bde93f012d76ea20b79e7">InvertDirectory</a> (string gameDirectory)</td></tr>
<tr class="separator:ac8d2405cd94bde93f012d76ea20b79e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa79ac78da881640ab95b4774701d2a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afa79ac78da881640ab95b4774701d2a2">CompileImpl</a> ()</td></tr>
<tr class="separator:afa79ac78da881640ab95b4774701d2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1cfb897b842dde32d5f2299144f2d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2f1cfb897b842dde32d5f2299144f2d1">InitDreamDaemon</a> ()</td></tr>
<tr class="memdesc:a2f1cfb897b842dde32d5f2299144f2d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup or reattach the watchdog, depending on <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#ad3e4a6bab7ee26a179c806db221144be">InstanceConfig.ReattachRequired</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a>, and create the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628" title="Directory for storing DreamDaemon diagnostic files ">DiagnosticsDir</a>  <a href="#a2f1cfb897b842dde32d5f2299144f2d1">More...</a><br /></td></tr>
<tr class="separator:a2f1cfb897b842dde32d5f2299144f2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae646bbf90e6124e3a73029c193044e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1ae646bbf90e6124e3a73029c193044e">DisposeDreamDaemon</a> ()</td></tr>
<tr class="memdesc:a1ae646bbf90e6124e3a73029c193044e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Either let go of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33" title="The DreamDaemon process ">Proc</a> for reattachment or terminate it, depending on <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#ad3e4a6bab7ee26a179c806db221144be">InstanceConfig.ReattachRequired</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a>  <a href="#a1ae646bbf90e6124e3a73029c193044e">More...</a><br /></td></tr>
<tr class="separator:a1ae646bbf90e6124e3a73029c193044e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac4e6797d742a7cb055ce737de36e9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">WriteCurrentDDLog</a> (string message)</td></tr>
<tr class="memdesc:a0ac4e6797d742a7cb055ce737de36e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a <em>message</em>  to the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865" title="Current logfile in use in ResourceDiagnosticsDir ">CurrentDDLog</a>. A timestamp will be prepended to it  <a href="#a0ac4e6797d742a7cb055ce737de36e9c">More...</a><br /></td></tr>
<tr class="separator:a0ac4e6797d742a7cb055ce737de36e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a997fa4bfb2ab7d7034d33c5ae8268894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a997fa4bfb2ab7d7034d33c5ae8268894">Watchdog</a> ()</td></tr>
<tr class="memdesc:a997fa4bfb2ab7d7034d33c5ae8268894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Threaded loop that keeps DreamDaemon from unintentionally stopping  <a href="#a997fa4bfb2ab7d7034d33c5ae8268894">More...</a><br /></td></tr>
<tr class="separator:a997fa4bfb2ab7d7034d33c5ae8268894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02145178d01224be0919b35deedcecba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a02145178d01224be0919b35deedcecba">MemTrackTimer_Elapsed</a> (object sender, ElapsedEventArgs e)</td></tr>
<tr class="memdesc:a02145178d01224be0919b35deedcecba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called every five seconds while DreamDaemon is running to log it's current state to the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628" title="Directory for storing DreamDaemon diagnostic files ">DiagnosticsDir</a>  <a href="#a02145178d01224be0919b35deedcecba">More...</a><br /></td></tr>
<tr class="separator:a02145178d01224be0919b35deedcecba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b1cbc3f1bb026d2f57f7af6e0b6024"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae6b1cbc3f1bb026d2f57f7af6e0b6024">SecurityWord</a> (bool starting=false)</td></tr>
<tr class="memdesc:ae6b1cbc3f1bb026d2f57f7af6e0b6024"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate the configured DreamDaemonSecurity level into a byond command line param  <a href="#ae6b1cbc3f1bb026d2f57f7af6e0b6024">More...</a><br /></td></tr>
<tr class="separator:ae6b1cbc3f1bb026d2f57f7af6e0b6024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124a5b5441422817b08d3eaf3ec155a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9">UpdateBridgeDll</a> (bool overwrite)</td></tr>
<tr class="memdesc:a124a5b5441422817b08d3eaf3ec155a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7" title="The file name of the .dll that contains the ITGInterop bridge class ">BridgeDLLName</a> from the program directory to the the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> directory  <a href="#a124a5b5441422817b08d3eaf3ec155a9">More...</a><br /></td></tr>
<tr class="separator:a124a5b5441422817b08d3eaf3ec155a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bfb8765130a4bdb2058979f5f41a8f4"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4bfb8765130a4bdb2058979f5f41a8f4">StartImpl</a> (bool watchdog)</td></tr>
<tr class="memdesc:a4bfb8765130a4bdb2058979f5f41a8f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a>, calls <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9" title="Copies BridgeDLLName from the program directory to the the Instance directory ">UpdateBridgeDll(bool)</a> with a  parameter, and attempts to start the DreamDaemon <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33" title="The DreamDaemon process ">Proc</a>  <a href="#a4bfb8765130a4bdb2058979f5f41a8f4">More...</a><br /></td></tr>
<tr class="separator:a4bfb8765130a4bdb2058979f5f41a8f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf248d713b745dadacbf24ca7d50c155"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acf248d713b745dadacbf24ca7d50c155">RunDisposals</a> ()</td></tr>
<tr class="memdesc:acf248d713b745dadacbf24ca7d50c155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#acf248d713b745dadacbf24ca7d50c155">More...</a><br /></td></tr>
<tr class="separator:acf248d713b745dadacbf24ca7d50c155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b7ed16c1e2bd19f9ccd4bed36085e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a> (string message, <a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a> id)</td></tr>
<tr class="memdesc:a96b7ed16c1e2bd19f9ccd4bed36085e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes information to the Windows event log  <a href="#a96b7ed16c1e2bd19f9ccd4bed36085e4">More...</a><br /></td></tr>
<tr class="separator:a96b7ed16c1e2bd19f9ccd4bed36085e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d0b54fc049736f16cdf42f24d34058"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a> (string message, <a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a> id)</td></tr>
<tr class="memdesc:a85d0b54fc049736f16cdf42f24d34058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an error to the Windows event log  <a href="#a85d0b54fc049736f16cdf42f24d34058">More...</a><br /></td></tr>
<tr class="separator:a85d0b54fc049736f16cdf42f24d34058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f621172ed237a1dfc35de87b3095bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a> (string message, <a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a> id)</td></tr>
<tr class="memdesc:a09f621172ed237a1dfc35de87b3095bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a warning to the Windows event log  <a href="#a09f621172ed237a1dfc35de87b3095bb">More...</a><br /></td></tr>
<tr class="separator:a09f621172ed237a1dfc35de87b3095bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d2c1cff6528a0588dc873cc0b070ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a09d2c1cff6528a0588dc873cc0b070ae">WriteAccess</a> (string username, bool authSuccess)</td></tr>
<tr class="memdesc:a09d2c1cff6528a0588dc873cc0b070ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an access event to the Windows event log  <a href="#a09d2c1cff6528a0588dc873cc0b070ae">More...</a><br /></td></tr>
<tr class="separator:a09d2c1cff6528a0588dc873cc0b070ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe067e70a0c0799b49fc2cf289d611f9"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a> (string path)</td></tr>
<tr class="memdesc:afe067e70a0c0799b49fc2cf289d611f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts relative paths to full <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> directory paths  <a href="#afe067e70a0c0799b49fc2cf289d611f9">More...</a><br /></td></tr>
<tr class="separator:afe067e70a0c0799b49fc2cf289d611f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9f6aad82c5d499e7c03ef8cf94dad6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4f9f6aad82c5d499e7c03ef8cf94dad6">Dispose</a> (bool disposing)</td></tr>
<tr class="memdesc:a4f9f6aad82c5d499e7c03ef8cf94dad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern. Calls <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acf248d713b745dadacbf24ca7d50c155" title="Cleans up the Instance ">RunDisposals</a>  <a href="#a4f9f6aad82c5d499e7c03ef8cf94dad6">More...</a><br /></td></tr>
<tr class="separator:a4f9f6aad82c5d499e7c03ef8cf94dad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e2637eca30898a76015c9014e91ca5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a88e2637eca30898a76015c9014e91ca5">LoadServerChatCommands</a> ()</td></tr>
<tr class="separator:a88e2637eca30898a76015c9014e91ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b67e720a6d10892adcbc460af2a62f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a76b67e720a6d10892adcbc460af2a62f">HandleCommand</a> (string cmd)</td></tr>
<tr class="separator:a76b67e720a6d10892adcbc460af2a62f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0682d849b31d91c475f93ae3960de0a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a0682d849b31d91c475f93ae3960de0a6">CheckAPIVersionConstraints</a> ()</td></tr>
<tr class="separator:a0682d849b31d91c475f93ae3960de0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6262dc7ff76dd0905edc9ef526f6ef6d"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6262dc7ff76dd0905edc9ef526f6ef6d">SendTopic</a> (string topicdata, ushort port)</td></tr>
<tr class="separator:a6262dc7ff76dd0905edc9ef526f6ef6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fe7f8f358836c364eb1721bac471fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a79fe7f8f358836c364eb1721bac471fe">GenCommsKey</a> ()</td></tr>
<tr class="separator:a79fe7f8f358836c364eb1721bac471fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018bb677436bfb6814750fb1ee71b16f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a018bb677436bfb6814750fb1ee71b16f">InitEventHandlers</a> ()</td></tr>
<tr class="memdesc:a018bb677436bfb6814750fb1ee71b16f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab11cde4315f36ebad3ce66512c57deb1" title="The instance directory for Preaction handlers ">EventFolder</a>  <a href="#a018bb677436bfb6814750fb1ee71b16f">More...</a><br /></td></tr>
<tr class="separator:a018bb677436bfb6814750fb1ee71b16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3802b60e80e99600116dfa0d07c8b7e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac3802b60e80e99600116dfa0d07c8b7e">GetEventPath</a> (string eventName)</td></tr>
<tr class="memdesc:ac3802b60e80e99600116dfa0d07c8b7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the path of an event given an <em>eventName</em>   <a href="#ac3802b60e80e99600116dfa0d07c8b7e">More...</a><br /></td></tr>
<tr class="separator:ac3802b60e80e99600116dfa0d07c8b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a9c48edf68396150d04640aae4ea5c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad6a9c48edf68396150d04640aae4ea5c">EventHandlerExists</a> (string eventName)</td></tr>
<tr class="memdesc:ad6a9c48edf68396150d04640aae4ea5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an event handler for <em>eventName</em>  exists  <a href="#ad6a9c48edf68396150d04640aae4ea5c">More...</a><br /></td></tr>
<tr class="separator:ad6a9c48edf68396150d04640aae4ea5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc860d38c61b9e3cb2a386d3e348981"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadc860d38c61b9e3cb2a386d3e348981">HandleEvent</a> (string eventName)</td></tr>
<tr class="memdesc:aadc860d38c61b9e3cb2a386d3e348981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs an event named <em>eventName</em>  if it exists  <a href="#aadc860d38c61b9e3cb2a386d3e348981">More...</a><br /></td></tr>
<tr class="separator:aadc860d38c61b9e3cb2a386d3e348981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40fc1ed9ca23a8c0d6a51521e91f66ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a40fc1ed9ca23a8c0d6a51521e91f66ef">InitRepo</a> ()</td></tr>
<tr class="memdesc:a40fc1ed9ca23a8c0d6a51521e91f66ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the repository  <a href="#a40fc1ed9ca23a8c0d6a51521e91f66ef">More...</a><br /></td></tr>
<tr class="separator:a40fc1ed9ca23a8c0d6a51521e91f66ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa279ed5a9e086c8ce04c4af07be0fe51"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa279ed5a9e086c8ce04c4af07be0fe51">RepoConfigsMatch</a> ()</td></tr>
<tr class="memdesc:aa279ed5a9e086c8ce04c4af07be0fe51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d" title="The path to the Repository&#39;s RepoConfig json ">RepoTGS3SettingsPath</a> json files match.  <a href="#aa279ed5a9e086c8ce04c4af07be0fe51">More...</a><br /></td></tr>
<tr class="separator:aa279ed5a9e086c8ce04c4af07be0fe51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e57a4aa98fefe7c844ada8d6f2eb9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html">RepoConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">GetCachedRepoConfig</a> ()</td></tr>
<tr class="memdesc:a42e57a4aa98fefe7c844ada8d6f2eb9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html" title="Repository specific information for a Instance ">RepoConfig</a> for <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a>  <a href="#a42e57a4aa98fefe7c844ada8d6f2eb9a">More...</a><br /></td></tr>
<tr class="separator:a42e57a4aa98fefe7c844ada8d6f2eb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8170aa201e010210c23b5f6bb75b19ba"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a> ()</td></tr>
<tr class="memdesc:a8170aa201e010210c23b5f6bb75b19ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a>  <a href="#a8170aa201e010210c23b5f6bb75b19ba">More...</a><br /></td></tr>
<tr class="separator:a8170aa201e010210c23b5f6bb75b19ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca212db696b8c01419fd60902b98378"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7ca212db696b8c01419fd60902b98378">DisposeRepo</a> ()</td></tr>
<tr class="memdesc:a7ca212db696b8c01419fd60902b98378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a>  <a href="#a7ca212db696b8c01419fd60902b98378">More...</a><br /></td></tr>
<tr class="separator:a7ca212db696b8c01419fd60902b98378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec78124dea785dbd28b9dec109eb909"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2ec78124dea785dbd28b9dec109eb909">HandleTransferProgress</a> (TransferProgress progress)</td></tr>
<tr class="memdesc:a2ec78124dea785dbd28b9dec109eb909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da" title="Used for reporting operation progress to the TGS.Interface ">currentProgress</a> with the progess of the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a> transfer operation  <a href="#a2ec78124dea785dbd28b9dec109eb909">More...</a><br /></td></tr>
<tr class="separator:a2ec78124dea785dbd28b9dec109eb909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1b05ba88199291ea366ffec194d3d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abf1b05ba88199291ea366ffec194d3d7">HandleCheckoutProgress</a> (string path, int completedSteps, int totalSteps)</td></tr>
<tr class="memdesc:abf1b05ba88199291ea366ffec194d3d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da" title="Used for reporting operation progress to the TGS.Interface ">currentProgress</a> with the progess of the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a> checkout operation  <a href="#abf1b05ba88199291ea366ffec194d3d7">More...</a><br /></td></tr>
<tr class="separator:abf1b05ba88199291ea366ffec194d3d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3443b6d7f6b2481e21e8c7a63c429221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a3443b6d7f6b2481e21e8c7a63c429221">Clone</a> (object twostrings)</td></tr>
<tr class="memdesc:a3443b6d7f6b2481e21e8c7a63c429221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backups up the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a> and deletes the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd" title="The Instance directory for the repository ">RepoPath</a> if they exist. Clones the given branch of the given remote. Sets up new <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>  <a href="#a3443b6d7f6b2481e21e8c7a63c429221">More...</a><br /></td></tr>
<tr class="separator:a3443b6d7f6b2481e21e8c7a63c429221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37cbe097d7326ff0432bcd39ffce488"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae37cbe097d7326ff0432bcd39ffce488">DisableGarbageCollectionNoLock</a> ()</td></tr>
<tr class="memdesc:ae37cbe097d7326ff0432bcd39ffce488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns off the gc.auto git config setting  <a href="#ae37cbe097d7326ff0432bcd39ffce488">More...</a><br /></td></tr>
<tr class="separator:ae37cbe097d7326ff0432bcd39ffce488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5956aa08c166860be43e49e2378cd383"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5956aa08c166860be43e49e2378cd383">BackupAndDeleteStaticDirectory</a> ()</td></tr>
<tr class="memdesc:a5956aa08c166860be43e49e2378cd383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the Static directory to the first available Static_BACKUP path in the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> then deleted the old directory  <a href="#a5956aa08c166860be43e49e2378cd383">More...</a><br /></td></tr>
<tr class="separator:a5956aa08c166860be43e49e2378cd383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a3c86b836454d030d1ea31a7a6faf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a29a3c86b836454d030d1ea31a7a6faf9">InitialConfigureRepository</a> ()</td></tr>
<tr class="memdesc:a29a3c86b836454d030d1ea31a7a6faf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial setup for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a> and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a>  <a href="#a29a3c86b836454d030d1ea31a7a6faf9">More...</a><br /></td></tr>
<tr class="separator:a29a3c86b836454d030d1ea31a7a6faf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb80352fb834bb68a8eaa19458769dfe"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abb80352fb834bb68a8eaa19458769dfe">GetShaOrBranch</a> (out string error, bool branch, bool tracked)</td></tr>
<tr class="memdesc:abb80352fb834bb68a8eaa19458769dfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the SHA or branch name of the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a>'s HEAD  <a href="#abb80352fb834bb68a8eaa19458769dfe">More...</a><br /></td></tr>
<tr class="separator:abb80352fb834bb68a8eaa19458769dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f55a135fbd9335e91378dc08239d139"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8f55a135fbd9335e91378dc08239d139">GetShaOrBranchNoLock</a> (out string error, bool branch, bool tracked)</td></tr>
<tr class="memdesc:a8f55a135fbd9335e91378dc08239d139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the SHA or branch name of the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a>'s HEAD. Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a>  <a href="#a8f55a135fbd9335e91378dc08239d139">More...</a><br /></td></tr>
<tr class="separator:a8f55a135fbd9335e91378dc08239d139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6107dd2858d2a2c70cb9ac7d5105d373"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">ResetNoLock</a> (Branch targetBranch)</td></tr>
<tr class="memdesc:a6107dd2858d2a2c70cb9ac7d5105d373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent of running <code>git reset --hard</code> on the repository. Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a>  <a href="#a6107dd2858d2a2c70cb9ac7d5105d373">More...</a><br /></td></tr>
<tr class="separator:a6107dd2858d2a2c70cb9ac7d5105d373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32f473cc0c8d3f91c6fe8927fe927996"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a32f473cc0c8d3f91c6fe8927fe927996">MergeBranch</a> (string committish, string mergeMessage)</td></tr>
<tr class="memdesc:a32f473cc0c8d3f91c6fe8927fe927996"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges given <em>committish</em>  into the current branch  <a href="#a32f473cc0c8d3f91c6fe8927fe927996">More...</a><br /></td></tr>
<tr class="separator:a32f473cc0c8d3f91c6fe8927fe927996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17149c71ad3f539181c44db6b9d17370"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a17149c71ad3f539181c44db6b9d17370">PushTestmergeCommit</a> ()</td></tr>
<tr class="separator:a17149c71ad3f539181c44db6b9d17370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a607fe93fc7de00f94ff70963de9b5348"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a607fe93fc7de00f94ff70963de9b5348">UpdateImpl</a> (bool reset, bool successOnUpToDate)</td></tr>
<tr class="memdesc:a607fe93fc7de00f94ff70963de9b5348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the origin and merges it into the current branch  <a href="#a607fe93fc7de00f94ff70963de9b5348">More...</a><br /></td></tr>
<tr class="separator:a607fe93fc7de00f94ff70963de9b5348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3c2cfeebe2079f6d35ae257d13fbe4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afa3c2cfeebe2079f6d35ae257d13fbe4">UpdateSubmodules</a> ()</td></tr>
<tr class="memdesc:afa3c2cfeebe2079f6d35ae257d13fbe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properly updates any git submodules in the repository  <a href="#afa3c2cfeebe2079f6d35ae257d13fbe4">More...</a><br /></td></tr>
<tr class="separator:afa3c2cfeebe2079f6d35ae257d13fbe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b332d573bb560960d2c55e047ca378c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6b332d573bb560960d2c55e047ca378c">CreateBackup</a> ()</td></tr>
<tr class="memdesc:a6b332d573bb560960d2c55e047ca378c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a date and timestamped tag of the current HEAD  <a href="#a6b332d573bb560960d2c55e047ca378c">More...</a><br /></td></tr>
<tr class="separator:a6b332d573bb560960d2c55e047ca378c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3ce13d9776a31855262d70d43076b94"><td class="memItemLeft" align="right" valign="top">Signature&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa3ce13d9776a31855262d70d43076b94">MakeSig</a> ()</td></tr>
<tr class="memdesc:aa3ce13d9776a31855262d70d43076b94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a commit LibGit2Sharp.Signature based off of the configured name and e-mail  <a href="#aa3ce13d9776a31855262d70d43076b94">More...</a><br /></td></tr>
<tr class="separator:aa3ce13d9776a31855262d70d43076b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b377aeb88f2ecc682c545aaacf1b33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">DeletePRList</a> ()</td></tr>
<tr class="memdesc:a46b377aeb88f2ecc682c545aaacf1b33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>'s <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a>  <a href="#a46b377aeb88f2ecc682c545aaacf1b33">More...</a><br /></td></tr>
<tr class="separator:a46b377aeb88f2ecc682c545aaacf1b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20679ec5991fbf42f9fd98e38fc08018"><td class="memItemLeft" align="right" valign="top">IDictionary&lt; string, IDictionary&lt; string, string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a20679ec5991fbf42f9fd98e38fc08018">GetCurrentPRList</a> ()</td></tr>
<tr class="memdesc:a20679ec5991fbf42f9fd98e38fc08018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializes the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a>  <a href="#a20679ec5991fbf42f9fd98e38fc08018">More...</a><br /></td></tr>
<tr class="separator:a20679ec5991fbf42f9fd98e38fc08018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad1d549f9f3bf36a13bcab8f8c0241a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afad1d549f9f3bf36a13bcab8f8c0241a">SetCurrentPRList</a> (IDictionary&lt; string, IDictionary&lt; string, string &gt;&gt; list)</td></tr>
<tr class="memdesc:afad1d549f9f3bf36a13bcab8f8c0241a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes pull request info into <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a>  <a href="#afad1d549f9f3bf36a13bcab8f8c0241a">More...</a><br /></td></tr>
<tr class="separator:afad1d549f9f3bf36a13bcab8f8c0241a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a38e27cc6f790355d27a26af68b92e6"><td class="memItemLeft" align="right" valign="top">FetchOptions&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a3a38e27cc6f790355d27a26af68b92e6">GenerateFetchOptions</a> ()</td></tr>
<tr class="memdesc:a3a38e27cc6f790355d27a26af68b92e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create FetchOptions that Prune and have the appropriate credentials and progress handler  <a href="#a3a38e27cc6f790355d27a26af68b92e6">More...</a><br /></td></tr>
<tr class="separator:a3a38e27cc6f790355d27a26af68b92e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d148a0b4c82814e214f51401ca0626e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2d148a0b4c82814e214f51401ca0626e">Fetch</a> ()</td></tr>
<tr class="memdesc:a2d148a0b4c82814e214f51401ca0626e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches origin  <a href="#a2d148a0b4c82814e214f51401ca0626e">More...</a><br /></td></tr>
<tr class="separator:a2d148a0b4c82814e214f51401ca0626e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cfb93eda91ea124d29375bae70b37b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae3cfb93eda91ea124d29375bae70b37b">LocalIsRemote</a> ()</td></tr>
<tr class="memdesc:ae3cfb93eda91ea124d29375bae70b37b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current HEAD matches the tracked remote branch HEAD  <a href="#ae3cfb93eda91ea124d29375bae70b37b">More...</a><br /></td></tr>
<tr class="separator:ae3cfb93eda91ea124d29375bae70b37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaddf123cd4c3ceec4b4f8734bf4da456"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaddf123cd4c3ceec4b4f8734bf4da456">Commit</a> (<a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html">RepoConfig</a> <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>)</td></tr>
<tr class="memdesc:aaddf123cd4c3ceec4b4f8734bf4da456"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a commit based on a <em>Config</em> . Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a> and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba" title="Initializes Repo ">LoadRepo</a>  <a href="#aaddf123cd4c3ceec4b4f8734bf4da456">More...</a><br /></td></tr>
<tr class="separator:aaddf123cd4c3ceec4b4f8734bf4da456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425b98c157a0fd03f603a1ee19a73ea8"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a425b98c157a0fd03f603a1ee19a73ea8">Push</a> ()</td></tr>
<tr class="memdesc:a425b98c157a0fd03f603a1ee19a73ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push HEAD to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a" title="Git remote for push operations ">SSHPushRemote</a>. Requires repo be locked, <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba" title="Initializes Repo ">LoadRepo</a>, <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae3cfb93eda91ea124d29375bae70b37b" title="Check if the current HEAD matches the tracked remote branch HEAD ">LocalIsRemote</a>, and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455" title="Check if the Instance is configured for SSH pushing ">SSHAuth</a>  <a href="#a425b98c157a0fd03f603a1ee19a73ea8">More...</a><br /></td></tr>
<tr class="separator:a425b98c157a0fd03f603a1ee19a73ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7307d215fbff6e1ed02c818cddb1e455"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455">SSHAuth</a> ()</td></tr>
<tr class="memdesc:a7307d215fbff6e1ed02c818cddb1e455"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> is configured for SSH pushing  <a href="#a7307d215fbff6e1ed02c818cddb1e455">More...</a><br /></td></tr>
<tr class="separator:a7307d215fbff6e1ed02c818cddb1e455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3fc0a44c753811f92e13d02de32c0f"><td class="memItemLeft" align="right" valign="top">Credentials&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">GenerateGitCredentials</a> (string url, string usernameFromUrl, SupportedCredentialTypes types)</td></tr>
<tr class="memdesc:a5d3fc0a44c753811f92e13d02de32c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">SSH credentials callback. Properly sets up SSH keys for an authorization operation  <a href="#a5d3fc0a44c753811f92e13d02de32c0f">More...</a><br /></td></tr>
<tr class="separator:a5d3fc0a44c753811f92e13d02de32c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e43abfda9bace7682d7d583ad7398a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa2e43abfda9bace7682d7d583ad7398a">AutoUpdateTimer_Elapsed</a> (object sender, System.Timers.ElapsedEventArgs e)</td></tr>
<tr class="memdesc:aa2e43abfda9bace7682d7d583ad7398a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs on the configured <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#a07e066bf038a4ea4934bcf5d1d6beb71">InstanceConfig.AutoUpdateInterval</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a> and tries to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1f307cfcce4bfa27ff8d7f16947c7498" title="Fetches the origin and merges it into the current branch  ">Update(bool)</a> and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6bf343168b3fcc0efef459a12b9fabdf" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ...">Compile(bool)</a> the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#aa2e43abfda9bace7682d7d583ad7398a">More...</a><br /></td></tr>
<tr class="separator:aa2e43abfda9bace7682d7d583ad7398a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0300d04759251f1a83dd9f37c165c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aac0300d04759251f1a83dd9f37c165c9">UpdateLiveSha</a> (string newSha)</td></tr>
<tr class="memdesc:aac0300d04759251f1a83dd9f37c165c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647" title="The branch that points to the current commit that is live or staged to be live in DreamDaemon ...">LiveTrackingBranch</a> with the staged <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6bf343168b3fcc0efef459a12b9fabdf" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ...">Compile(bool)</a>'s SHA  <a href="#aac0300d04759251f1a83dd9f37c165c9">More...</a><br /></td></tr>
<tr class="separator:aac0300d04759251f1a83dd9f37c165c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a750a0126077424b663f06be73efe4c77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a> (string link, string target)</td></tr>
<tr class="separator:a750a0126077424b663f06be73efe4c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a122dbae4ff3d9cae4370490c8c3f6627"><td class="memItemLeft" align="right" valign="top">SecurityIdentifier&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TheDroidsWereLookingFor</a></td></tr>
<tr class="memdesc:a122dbae4ff3d9cae4370490c8c3f6627"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SecurityIdentifier of the Windows group authorized to access the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#a122dbae4ff3d9cae4370490c8c3f6627">More...</a><br /></td></tr>
<tr class="separator:a122dbae4ff3d9cae4370490c8c3f6627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14346fc7f0f7b0a4bc5046ffe877ccb6"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a14346fc7f0f7b0a4bc5046ffe877ccb6">authLock</a> = new object()</td></tr>
<tr class="memdesc:a14346fc7f0f7b0a4bc5046ffe877ccb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#a14346fc7f0f7b0a4bc5046ffe877ccb6">More...</a><br /></td></tr>
<tr class="separator:a14346fc7f0f7b0a4bc5046ffe877ccb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14a38d1febdad352e36b931dae6b722"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af14a38d1febdad352e36b931dae6b722">LastSeenUser</a></td></tr>
<tr class="memdesc:af14a38d1febdad352e36b931dae6b722"><td class="mdescLeft">&#160;</td><td class="mdescRight">The WindowsIdentity.Name of the last WindowsIdentity to attempt to access the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#af14a38d1febdad352e36b931dae6b722">More...</a><br /></td></tr>
<tr class="separator:af14a38d1febdad352e36b931dae6b722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d5475c760eb7f25421c7562717b589"><td class="memItemLeft" align="right" valign="top">readonly SecurityIdentifier&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac8d5475c760eb7f25421c7562717b589">ServiceSID</a> = WindowsIdentity.GetCurrent().User</td></tr>
<tr class="memdesc:ac8d5475c760eb7f25421c7562717b589"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SecurityIdentifier of the account the <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a> is running as  <a href="#ac8d5475c760eb7f25421c7562717b589">More...</a><br /></td></tr>
<tr class="separator:ac8d5475c760eb7f25421c7562717b589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9efa4ea461f8ca8f1c1f10b59dc4bc66"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">ByondDirectory</a> = &quot;BYOND&quot;</td></tr>
<tr class="memdesc:a9efa4ea461f8ca8f1c1f10b59dc4bc66"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance directory to store the BYOND installation  <a href="#a9efa4ea461f8ca8f1c1f10b59dc4bc66">More...</a><br /></td></tr>
<tr class="separator:a9efa4ea461f8ca8f1c1f10b59dc4bc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a44e3a5d5b41aa8cdfca8d1007f916"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">StagingDirectory</a> = &quot;BYOND_staged&quot;</td></tr>
<tr class="memdesc:a71a44e3a5d5b41aa8cdfca8d1007f916"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance directory to use when updating the BYOND installation  <a href="#a71a44e3a5d5b41aa8cdfca8d1007f916">More...</a><br /></td></tr>
<tr class="separator:a71a44e3a5d5b41aa8cdfca8d1007f916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e071ffa09425b32638f7700f0e6998"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa9e071ffa09425b32638f7700f0e6998">StagingDirectoryInner</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">StagingDirectory</a> + &quot;/byond&quot;</td></tr>
<tr class="memdesc:aa9e071ffa09425b32638f7700f0e6998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to the actual BYOND installation within the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916" title="The instance directory to use when updating the BYOND installation ">StagingDirectory</a>  <a href="#aa9e071ffa09425b32638f7700f0e6998">More...</a><br /></td></tr>
<tr class="separator:aa9e071ffa09425b32638f7700f0e6998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed6a913422799be709b9bc96079843a"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2ed6a913422799be709b9bc96079843a">RevisionDownloadPath</a> = &quot;BYONDRevision.zip&quot;</td></tr>
<tr class="memdesc:a2ed6a913422799be709b9bc96079843a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path in the instance directory to store the downloaded BYOND revision  <a href="#a2ed6a913422799be709b9bc96079843a">More...</a><br /></td></tr>
<tr class="separator:a2ed6a913422799be709b9bc96079843a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58e7e902f1ae8301a067051c5b8479c"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad58e7e902f1ae8301a067051c5b8479c">VersionFile</a> = &quot;/byond_version.dat&quot;</td></tr>
<tr class="memdesc:ad58e7e902f1ae8301a067051c5b8479c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The location of the BYOND version data of an installation  <a href="#ad58e7e902f1ae8301a067051c5b8479c">More...</a><br /></td></tr>
<tr class="separator:ad58e7e902f1ae8301a067051c5b8479c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a9c5f417f672ee9b01b41f1bd9f114"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a25a9c5f417f672ee9b01b41f1bd9f114">ByondRevisionsURL</a> = &quot;https://secure.byond.com/download/build/{0}/{0}.{1}_byond.zip&quot;</td></tr>
<tr class="memdesc:a25a9c5f417f672ee9b01b41f1bd9f114"><td class="mdescLeft">&#160;</td><td class="mdescRight">The URL format string for getting BYOND version {0}.{1} zipfile  <a href="#a25a9c5f417f672ee9b01b41f1bd9f114">More...</a><br /></td></tr>
<tr class="separator:a25a9c5f417f672ee9b01b41f1bd9f114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60fa8ab17b53ba69e6969c87a121703"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af60fa8ab17b53ba69e6969c87a121703">ByondLatestURL</a> = &quot;https://secure.byond.com/download/build/LATEST/&quot;</td></tr>
<tr class="memdesc:af60fa8ab17b53ba69e6969c87a121703"><td class="mdescLeft">&#160;</td><td class="mdescRight">The URL for getting the latest BYOND version zipfile  <a href="#af60fa8ab17b53ba69e6969c87a121703">More...</a><br /></td></tr>
<tr class="separator:af60fa8ab17b53ba69e6969c87a121703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd58b7f32bd652601bf7adc38e5b5d1a"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acd58b7f32bd652601bf7adc38e5b5d1a">ByondConfigDir</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">StagingDirectory</a> + &quot;/BYOND/cfg&quot;</td></tr>
<tr class="memdesc:acd58b7f32bd652601bf7adc38e5b5d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance directory to modify the BYOND cfg before installation  <a href="#acd58b7f32bd652601bf7adc38e5b5d1a">More...</a><br /></td></tr>
<tr class="separator:acd58b7f32bd652601bf7adc38e5b5d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2345519c680d34ee237e471cda72a7cc"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2345519c680d34ee237e471cda72a7cc">ByondDDConfig</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acd58b7f32bd652601bf7adc38e5b5d1a">ByondConfigDir</a> + &quot;/daemon.txt&quot;</td></tr>
<tr class="memdesc:a2345519c680d34ee237e471cda72a7cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">BYOND's DreamDaemon config file in the cfg modification directory  <a href="#a2345519c680d34ee237e471cda72a7cc">More...</a><br /></td></tr>
<tr class="separator:a2345519c680d34ee237e471cda72a7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c7cb446fedd4bce134f62f21c572c2"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a16c7cb446fedd4bce134f62f21c572c2">ByondNoPromptTrustedMode</a> = &quot;trusted-check 0&quot;</td></tr>
<tr class="memdesc:a16c7cb446fedd4bce134f62f21c572c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setting to add to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2345519c680d34ee237e471cda72a7cc" title="BYOND&#39;s DreamDaemon config file in the cfg modification directory ">ByondDDConfig</a> to suppress an invisible user prompt for running a trusted mode .dmb  <a href="#a16c7cb446fedd4bce134f62f21c572c2">More...</a><br /></td></tr>
<tr class="separator:a16c7cb446fedd4bce134f62f21c572c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08fd219037def4230946a2487815ef44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = ByondStatus.Idle</td></tr>
<tr class="memdesc:a08fd219037def4230946a2487815ef44"><td class="mdescLeft">&#160;</td><td class="mdescRight">The status of the BYOND updater  <a href="#a08fd219037def4230946a2487815ef44">More...</a><br /></td></tr>
<tr class="separator:a08fd219037def4230946a2487815ef44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa48afaed61100daacb9a97366281837"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a> = new object()</td></tr>
<tr class="memdesc:afa48afaed61100daacb9a97366281837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#afa48afaed61100daacb9a97366281837">More...</a><br /></td></tr>
<tr class="separator:afa48afaed61100daacb9a97366281837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a9f31f1b34f1c903b9f1af34e707e7"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a></td></tr>
<tr class="memdesc:a59a9f31f1b34f1c903b9f1af34e707e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The last error the BYOND updater encountered  <a href="#a59a9f31f1b34f1c903b9f1af34e707e7">More...</a><br /></td></tr>
<tr class="separator:a59a9f31f1b34f1c903b9f1af34e707e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05106e6dc12c2e62d28555ea51f7ce7b"><td class="memItemLeft" align="right" valign="top">Thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">RevisionStaging</a></td></tr>
<tr class="memdesc:a05106e6dc12c2e62d28555ea51f7ce7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread used for staging BYOND revisions  <a href="#a05106e6dc12c2e62d28555ea51f7ce7b">More...</a><br /></td></tr>
<tr class="separator:a05106e6dc12c2e62d28555ea51f7ce7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92962bd476db8f04fa4a1a765e9f43a1"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a></td></tr>
<tr class="memdesc:a92962bd476db8f04fa4a1a765e9f43a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of IChatProviders for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#a92962bd476db8f04fa4a1a765e9f43a1">More...</a><br /></td></tr>
<tr class="separator:a92962bd476db8f04fa4a1a765e9f43a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb2c7e91e5df165a4e705f606af9173"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5eb2c7e91e5df165a4e705f606af9173">ChatLock</a> = new object()</td></tr>
<tr class="memdesc:a5eb2c7e91e5df165a4e705f606af9173"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#a5eb2c7e91e5df165a4e705f606af9173">More...</a><br /></td></tr>
<tr class="separator:a5eb2c7e91e5df165a4e705f606af9173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae497ee38d040cef22bc35af14942ca54"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a> = &quot;Static&quot;</td></tr>
<tr class="separator:ae497ee38d040cef22bc35af14942ca54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47682c60949bfcaf10578c0d98166617"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a47682c60949bfcaf10578c0d98166617">StaticBackupDir</a> = &quot;Static_BACKUP&quot;</td></tr>
<tr class="separator:a47682c60949bfcaf10578c0d98166617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e5d772eaace27ad4d3d5fe5361282c"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">GameDir</a> = &quot;Game&quot;</td></tr>
<tr class="separator:ad2e5d772eaace27ad4d3d5fe5361282c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a5205e6f76361d9c6c283c733e7f95"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">GameDir</a> + &quot;/A&quot;</td></tr>
<tr class="separator:a11a5205e6f76361d9c6c283c733e7f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363f31fbe2b0b7172d0288b694235b6c"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">GameDirB</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">GameDir</a> + &quot;/B&quot;</td></tr>
<tr class="separator:a363f31fbe2b0b7172d0288b694235b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70169b31147444e4b4c1a2feba9b70e"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">GameDir</a> + &quot;/Live&quot;</td></tr>
<tr class="separator:ab70169b31147444e4b4c1a2feba9b70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70ee1f4b0575d3c75a1a14e9029863c"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae70ee1f4b0575d3c75a1a14e9029863c">LiveFile</a> = &quot;/TestLive.lk&quot;</td></tr>
<tr class="separator:ae70ee1f4b0575d3c75a1a14e9029863c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d2612772994bc1fd21832808f33fa81"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1d2612772994bc1fd21832808f33fa81">ADirTest</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a> + <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae70ee1f4b0575d3c75a1a14e9029863c">LiveFile</a></td></tr>
<tr class="separator:a1d2612772994bc1fd21832808f33fa81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a55046a02e4429bb209033ea330646"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a04a55046a02e4429bb209033ea330646">BDirTest</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">GameDirB</a> + <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae70ee1f4b0575d3c75a1a14e9029863c">LiveFile</a></td></tr>
<tr class="separator:a04a55046a02e4429bb209033ea330646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a353cd56720d611c08c54d3ca058227ea"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a353cd56720d611c08c54d3ca058227ea">LiveDirTest</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a> + <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae70ee1f4b0575d3c75a1a14e9029863c">LiveFile</a></td></tr>
<tr class="separator:a353cd56720d611c08c54d3ca058227ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68ae54c26ab5b890469216b9ea68106"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a> = new object()</td></tr>
<tr class="separator:ad68ae54c26ab5b890469216b9ea68106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47db323cec0b5a5f9248a7ba94801b73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a></td></tr>
<tr class="separator:a47db323cec0b5a5f9248a7ba94801b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a892be6eee558d2be0006b156153098"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a></td></tr>
<tr class="separator:a7a892be6eee558d2be0006b156153098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c3251eba0e6d6e2a2624afe82ef399"><td class="memItemLeft" align="right" valign="top">Thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a></td></tr>
<tr class="separator:a98c3251eba0e6d6e2a2624afe82ef399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415b7170ca623f2a79fa6bc7f8a9d4df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a415b7170ca623f2a79fa6bc7f8a9d4df">compilationCancellationRequestation</a> = false</td></tr>
<tr class="separator:a415b7170ca623f2a79fa6bc7f8a9d4df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace69a3f44b64f4899a7244dde6c281a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ace69a3f44b64f4899a7244dde6c281a0">canCancelCompilation</a> = false</td></tr>
<tr class="separator:ace69a3f44b64f4899a7244dde6c281a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdb311619c660facd5659060f88781c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acfdb311619c660facd5659060f88781c">silentCompile</a> = false</td></tr>
<tr class="separator:acfdb311619c660facd5659060f88781c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad79bfbe23fdb601f12bacaf3dfa6f84"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aad79bfbe23fdb601f12bacaf3dfa6f84">UpdateStaged</a> = false</td></tr>
<tr class="separator:aad79bfbe23fdb601f12bacaf3dfa6f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ee3406d0c5af9270d61039012ca463"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">configLock</a> = new object()</td></tr>
<tr class="memdesc:a08ee3406d0c5af9270d61039012ca463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#a08ee3406d0c5af9270d61039012ca463">More...</a><br /></td></tr>
<tr class="separator:a08ee3406d0c5af9270d61039012ca463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf6f1302e487564be3dba0a01c087628"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628">DiagnosticsDir</a> = &quot;Diagnostics&quot;</td></tr>
<tr class="memdesc:aaf6f1302e487564be3dba0a01c087628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directory for storing DreamDaemon diagnostic files  <a href="#aaf6f1302e487564be3dba0a01c087628">More...</a><br /></td></tr>
<tr class="separator:aaf6f1302e487564be3dba0a01c087628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26228c8ac1afc018e956a7e7ab7c9891"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891">ResourceDiagnosticsDir</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628">DiagnosticsDir</a> + &quot;/Resources&quot;</td></tr>
<tr class="memdesc:a26228c8ac1afc018e956a7e7ab7c9891"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directory for storing DreamDaemon ResourceUsage files  <a href="#a26228c8ac1afc018e956a7e7ab7c9891">More...</a><br /></td></tr>
<tr class="separator:a26228c8ac1afc018e956a7e7ab7c9891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2124d6039dfc0e03091319fc937440f5"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2124d6039dfc0e03091319fc937440f5">DDHangStartTime</a> = 60</td></tr>
<tr class="memdesc:a2124d6039dfc0e03091319fc937440f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time until DD is considered DOA on startup  <a href="#a2124d6039dfc0e03091319fc937440f5">More...</a><br /></td></tr>
<tr class="separator:a2124d6039dfc0e03091319fc937440f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af176f1f39f4e8ff398687c5cab4eaf4a"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af176f1f39f4e8ff398687c5cab4eaf4a">DDBadStartTime</a> = 10</td></tr>
<tr class="memdesc:af176f1f39f4e8ff398687c5cab4eaf4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If DreamDaemon crashes before this time it is considered a bad startup  <a href="#af176f1f39f4e8ff398687c5cab4eaf4a">More...</a><br /></td></tr>
<tr class="separator:af176f1f39f4e8ff398687c5cab4eaf4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f30af9b177beb6c309e05d0d56be33"><td class="memItemLeft" align="right" valign="top">Process&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a></td></tr>
<tr class="memdesc:af8f30af9b177beb6c309e05d0d56be33"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DreamDaemon process  <a href="#af8f30af9b177beb6c309e05d0d56be33">More...</a><br /></td></tr>
<tr class="separator:af8f30af9b177beb6c309e05d0d56be33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ce149ebe31e4dbf1bf318cc449e790"><td class="memItemLeft" align="right" valign="top">PerformanceCounter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">pcpu</a></td></tr>
<tr class="memdesc:a16ce149ebe31e4dbf1bf318cc449e790"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU performance information for <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33" title="The DreamDaemon process ">Proc</a>  <a href="#a16ce149ebe31e4dbf1bf318cc449e790">More...</a><br /></td></tr>
<tr class="separator:a16ce149ebe31e4dbf1bf318cc449e790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af229871e1f4694c13d25a062502c2318"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a> = new object()</td></tr>
<tr class="memdesc:af229871e1f4694c13d25a062502c2318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#af229871e1f4694c13d25a062502c2318">More...</a><br /></td></tr>
<tr class="separator:af229871e1f4694c13d25a062502c2318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b6d2d0e931f3961b0c1a75577d13dc"><td class="memItemLeft" align="right" valign="top">Thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">DDWatchdog</a></td></tr>
<tr class="memdesc:a85b6d2d0e931f3961b0c1a75577d13dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The thread that monitors the status of DreamDaemon  <a href="#a85b6d2d0e931f3961b0c1a75577d13dc">More...</a><br /></td></tr>
<tr class="separator:a85b6d2d0e931f3961b0c1a75577d13dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af874c36b24f0624f234d04902345eda7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a></td></tr>
<tr class="memdesc:af874c36b24f0624f234d04902345eda7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DreamDaemonStatus of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33" title="The DreamDaemon process ">Proc</a>  <a href="#af874c36b24f0624f234d04902345eda7">More...</a><br /></td></tr>
<tr class="separator:af874c36b24f0624f234d04902345eda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068d9bbb0c0d5fe0507e662af2041865"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">CurrentDDLog</a></td></tr>
<tr class="memdesc:a068d9bbb0c0d5fe0507e662af2041865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current logfile in use in <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891" title="Directory for storing DreamDaemon ResourceUsage files ">ResourceDiagnosticsDir</a>  <a href="#a068d9bbb0c0d5fe0507e662af2041865">More...</a><br /></td></tr>
<tr class="separator:a068d9bbb0c0d5fe0507e662af2041865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf652d7d02976801c7a4781e65da93f"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a> = 0</td></tr>
<tr class="memdesc:a7bf652d7d02976801c7a4781e65da93f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current port DreamDaemon is running on  <a href="#a7bf652d7d02976801c7a4781e65da93f">More...</a><br /></td></tr>
<tr class="separator:a7bf652d7d02976801c7a4781e65da93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e1de416ca840519b72c26d3018afeaa"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">restartLock</a> = new object()</td></tr>
<tr class="memdesc:a4e1de416ca840519b72c26d3018afeaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#a4e1de416ca840519b72c26d3018afeaa">More...</a><br /></td></tr>
<tr class="separator:a4e1de416ca840519b72c26d3018afeaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5863c8e752bf5bf1c25fa4aedad37378"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a> = false</td></tr>
<tr class="memdesc:a5863c8e752bf5bf1c25fa4aedad37378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to indicate if an intentional restart is in progress on the watchdog. Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa" title="Used for multithreading safety ">restartLock</a> to access  <a href="#a5863c8e752bf5bf1c25fa4aedad37378">More...</a><br /></td></tr>
<tr class="separator:a5863c8e752bf5bf1c25fa4aedad37378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781f077de8c59157761c92e7984b5f66"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a781f077de8c59157761c92e7984b5f66">ReattachInsteadOfRestart</a> = false</td></tr>
<tr class="memdesc:a781f077de8c59157761c92e7984b5f66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to indicate if an service restart is in progress on the watchdog. Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa" title="Used for multithreading safety ">restartLock</a> to access  <a href="#a781f077de8c59157761c92e7984b5f66">More...</a><br /></td></tr>
<tr class="separator:a781f077de8c59157761c92e7984b5f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f36b3bc5a88149c875173d089b0ea27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1f36b3bc5a88149c875173d089b0ea27">StartingSecurity</a></td></tr>
<tr class="memdesc:a1f36b3bc5a88149c875173d089b0ea27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current DreamDaemonSecurity level of DreamDaemon  <a href="#a1f36b3bc5a88149c875173d089b0ea27">More...</a><br /></td></tr>
<tr class="separator:a1f36b3bc5a88149c875173d089b0ea27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c164f4ee52435f463c766bb11ead7ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a></td></tr>
<tr class="memdesc:a0c164f4ee52435f463c766bb11ead7ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicator of progress on a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a> or <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af399ffae59f2f1a1595da516e7afca1a" title="Stop the server after the currently running world reboots. Has no effect if the server isn&#39;t running ...">RequestStop</a> operation  <a href="#a0c164f4ee52435f463c766bb11ead7ec">More...</a><br /></td></tr>
<tr class="separator:a0c164f4ee52435f463c766bb11ead7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2806f79ad9e9b76b0d78b0c12aae702b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a></td></tr>
<tr class="memdesc:a2806f79ad9e9b76b0d78b0c12aae702b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The configuration settings for the instance  <a href="#a2806f79ad9e9b76b0d78b0c12aae702b">More...</a><br /></td></tr>
<tr class="separator:a2806f79ad9e9b76b0d78b0c12aae702b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc58a02b23898602de4c28c8f482989"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a9dc58a02b23898602de4c28c8f482989">disposedValue</a> = false</td></tr>
<tr class="memdesc:a9dc58a02b23898602de4c28c8f482989"><td class="mdescLeft">&#160;</td><td class="mdescRight">To detect redundant <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7984437076eaf2223f136c6f029428d1" title="Implements the IDisposable pattern ">Dispose()</a> calls  <a href="#a9dc58a02b23898602de4c28c8f482989">More...</a><br /></td></tr>
<tr class="separator:a9dc58a02b23898602de4c28c8f482989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935cbfa1c54a330b8afd2ff1a2709cca"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">topicLock</a> = new object()</td></tr>
<tr class="separator:a935cbfa1c54a330b8afd2ff1a2709cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3221023ca082a6adb52ee387ba664d"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a9f3221023ca082a6adb52ee387ba664d">CommsKeyLen</a> = 64</td></tr>
<tr class="separator:a9f3221023ca082a6adb52ee387ba664d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf44712e4c4bc40aeafe001be3e8685"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a></td></tr>
<tr class="separator:a1cf44712e4c4bc40aeafe001be3e8685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b4d6c5e07fec11ef97d10df717a57f"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa7b4d6c5e07fec11ef97d10df717a57f">AllowedMajorAPIVersion</a> = 2</td></tr>
<tr class="separator:aa7b4d6c5e07fec11ef97d10df717a57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbc57076386211c5940d4283ff28cd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">Version</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a></td></tr>
<tr class="separator:aadbc57076386211c5940d4283ff28cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2352e546e76af17815f6df592c29648"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab2352e546e76af17815f6df592c29648">SPInstanceName</a> = &quot;server_instance&quot;</td></tr>
<tr class="separator:ab2352e546e76af17815f6df592c29648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0fb0d9226f92194581b6cdf4620313"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5a0fb0d9226f92194581b6cdf4620313">SCHardReboot</a> = &quot;hard_reboot&quot;</td></tr>
<tr class="separator:a5a0fb0d9226f92194581b6cdf4620313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a166c03452b09f8c70d8d8ca1b578f6"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7a166c03452b09f8c70d8d8ca1b578f6">SCGracefulShutdown</a> = &quot;graceful_shutdown&quot;</td></tr>
<tr class="separator:a7a166c03452b09f8c70d8d8ca1b578f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7ff08a627279457e1587fdbe413a55"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aec7ff08a627279457e1587fdbe413a55">SCWorldAnnounce</a> = &quot;world_announce&quot;</td></tr>
<tr class="separator:aec7ff08a627279457e1587fdbe413a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0529b34e0af1ac55bbfa5467b32c7943"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a0529b34e0af1ac55bbfa5467b32c7943">SCListCustomCommands</a> = &quot;list_custom_commands&quot;</td></tr>
<tr class="separator:a0529b34e0af1ac55bbfa5467b32c7943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b09a2561149aa853596e6f0ad71a2e"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad9b09a2561149aa853596e6f0ad71a2e">SCAPICompat</a> = &quot;api_compat&quot;</td></tr>
<tr class="separator:ad9b09a2561149aa853596e6f0ad71a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027fd008d970e0ab2bbcf0c6600b2f43"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a027fd008d970e0ab2bbcf0c6600b2f43">SCPlayerCount</a> = &quot;client_count&quot;</td></tr>
<tr class="separator:a027fd008d970e0ab2bbcf0c6600b2f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a308536fcdae3d6137c06ef240fed600b"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a308536fcdae3d6137c06ef240fed600b">SRetSuccess</a> = &quot;SUCCESS&quot;</td></tr>
<tr class="memdesc:a308536fcdae3d6137c06ef240fed600b"><td class="mdescLeft">&#160;</td><td class="mdescRight">String returned when a command completes successfully with no output  <a href="#a308536fcdae3d6137c06ef240fed600b">More...</a><br /></td></tr>
<tr class="separator:a308536fcdae3d6137c06ef240fed600b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba675a0e6a86b635cb2036aea2678fbe"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aba675a0e6a86b635cb2036aea2678fbe">SRKillProcess</a> = &quot;killme&quot;</td></tr>
<tr class="separator:aba675a0e6a86b635cb2036aea2678fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2290e48ea565b2ac1e78eb73da732afe"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2290e48ea565b2ac1e78eb73da732afe">SRIRCBroadcast</a> = &quot;irc&quot;</td></tr>
<tr class="separator:a2290e48ea565b2ac1e78eb73da732afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c596891b48f1f82fe5a52f21830972"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a62c596891b48f1f82fe5a52f21830972">SRIRCAdminChannelMessage</a> = &quot;send2irc&quot;</td></tr>
<tr class="separator:a62c596891b48f1f82fe5a52f21830972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9985e98395e0edf86bf718872d6d3331"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a9985e98395e0edf86bf718872d6d3331">SRWorldReboot</a> = &quot;worldreboot&quot;</td></tr>
<tr class="separator:a9985e98395e0edf86bf718872d6d3331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1573187e7d948ee500474b9a58f86ec7"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1573187e7d948ee500474b9a58f86ec7">SRAPIVersion</a> = &quot;api_ver&quot;</td></tr>
<tr class="separator:a1573187e7d948ee500474b9a58f86ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcab46a53b916a68958ba7c905067970"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#adcab46a53b916a68958ba7c905067970">CCPHelpText</a> = &quot;help_text&quot;</td></tr>
<tr class="separator:adcab46a53b916a68958ba7c905067970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8a4c40bb04d8ea1a85730515cea88a"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7e8a4c40bb04d8ea1a85730515cea88a">CCPAdminOnly</a> = &quot;admin_only&quot;</td></tr>
<tr class="separator:a7e8a4c40bb04d8ea1a85730515cea88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b20fbb6ba614fc58abc9468625c84f7"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1b20fbb6ba614fc58abc9468625c84f7">CCPRequiredParameters</a> = &quot;required_parameters&quot;</td></tr>
<tr class="separator:a1b20fbb6ba614fc58abc9468625c84f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6267c88a28d1fdc4987103c97b401c7"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a> = &quot;TGDreamDaemonBridge.dll&quot;</td></tr>
<tr class="memdesc:ac6267c88a28d1fdc4987103c97b401c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The file name of the .dll that contains the ITGInterop bridge class  <a href="#ac6267c88a28d1fdc4987103c97b401c7">More...</a><br /></td></tr>
<tr class="separator:ac6267c88a28d1fdc4987103c97b401c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51da4f509e8fbd0f85ef097c9a58e8aa"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a51da4f509e8fbd0f85ef097c9a58e8aa">DreamDaemonBridgeNamespace</a> = &quot;Bridge&quot;</td></tr>
<tr class="memdesc:a51da4f509e8fbd0f85ef097c9a58e8aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The namespace that contains the ITGInterop bridge class. Used for reflection  <a href="#a51da4f509e8fbd0f85ef097c9a58e8aa">More...</a><br /></td></tr>
<tr class="separator:a51da4f509e8fbd0f85ef097c9a58e8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac855a51c22d3290a2e6d77b397c916e3"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac855a51c22d3290a2e6d77b397c916e3">DreamDaemonBridgeType</a> = &quot;DreamDaemonBridge&quot;</td></tr>
<tr class="memdesc:ac855a51c22d3290a2e6d77b397c916e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ITGInterop bridge class. Used for reflection  <a href="#ac855a51c22d3290a2e6d77b397c916e3">More...</a><br /></td></tr>
<tr class="separator:ac855a51c22d3290a2e6d77b397c916e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa08b6bc42a06ba7088caabb6d98c6cd6"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="class_t_g_s_1_1_interface_1_1_command.html">Command</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aa08b6bc42a06ba7088caabb6d98c6cd6">ServerChatCommands</a></td></tr>
<tr class="separator:aa08b6bc42a06ba7088caabb6d98c6cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11cde4315f36ebad3ce66512c57deb1"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab11cde4315f36ebad3ce66512c57deb1">EventFolder</a> = &quot;EventHandlers/&quot;</td></tr>
<tr class="memdesc:ab11cde4315f36ebad3ce66512c57deb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance directory for Preaction handlers  <a href="#ab11cde4315f36ebad3ce66512c57deb1">More...</a><br /></td></tr>
<tr class="separator:ab11cde4315f36ebad3ce66512c57deb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5445b16310369325042c5f678d330fd"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a> = &quot;Repository&quot;</td></tr>
<tr class="memdesc:ac5445b16310369325042c5f678d330fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> directory for the repository  <a href="#ac5445b16310369325042c5f678d330fd">More...</a><br /></td></tr>
<tr class="separator:ac5445b16310369325042c5f678d330fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92be8ba81fd1326b755a9e0582a958ac"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a92be8ba81fd1326b755a9e0582a958ac">RemoteTempBranchName</a> = &quot;___TGS3TempBranch&quot;</td></tr>
<tr class="memdesc:a92be8ba81fd1326b755a9e0582a958ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">The branch name used for publishing testmerge commits  <a href="#a92be8ba81fd1326b755a9e0582a958ac">More...</a><br /></td></tr>
<tr class="separator:a92be8ba81fd1326b755a9e0582a958ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadcdb4e1f858c283771dedb14baeb44d"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d">RepoTGS3SettingsPath</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a> + &quot;/TGS3.json&quot;</td></tr>
<tr class="memdesc:aadcdb4e1f858c283771dedb14baeb44d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path to the Repository's <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html" title="Repository specific information for a Instance ">RepoConfig</a> json  <a href="#aadcdb4e1f858c283771dedb14baeb44d">More...</a><br /></td></tr>
<tr class="separator:aadcdb4e1f858c283771dedb14baeb44d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab02a3f6b4183f965d6e7f1f3b69c771b"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b">CachedTGS3SettingsPath</a> = &quot;TGS3.json&quot;</td></tr>
<tr class="memdesc:ab02a3f6b4183f965d6e7f1f3b69c771b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>'s <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html" title="Repository specific information for a Instance ">RepoConfig</a> json  <a href="#ab02a3f6b4183f965d6e7f1f3b69c771b">More...</a><br /></td></tr>
<tr class="separator:ab02a3f6b4183f965d6e7f1f3b69c771b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ce14bfd634ae093b669fb8ba61b9fd"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a61ce14bfd634ae093b669fb8ba61b9fd">RepoErrorUpToDate</a> = &quot;Already up to date!&quot;</td></tr>
<tr class="memdesc:a61ce14bfd634ae093b669fb8ba61b9fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error message for when a merge operation fails due to the target branch already having the source branch's commits  <a href="#a61ce14bfd634ae093b669fb8ba61b9fd">More...</a><br /></td></tr>
<tr class="separator:a61ce14bfd634ae093b669fb8ba61b9fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4fbf4a4caf26ec2d958c4fad93395a"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a">SSHPushRemote</a> = &quot;ssh_push_target&quot;</td></tr>
<tr class="memdesc:a2e4fbf4a4caf26ec2d958c4fad93395a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Git remote for push operations  <a href="#a2e4fbf4a4caf26ec2d958c4fad93395a">More...</a><br /></td></tr>
<tr class="separator:a2e4fbf4a4caf26ec2d958c4fad93395a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0c5108a336d1ec6e664c81e800a7e5"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5c0c5108a336d1ec6e664c81e800a7e5">RepoKeyDir</a> = &quot;RepoKey/&quot;</td></tr>
<tr class="memdesc:a5c0c5108a336d1ec6e664c81e800a7e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> directory for the repository SSH keys  <a href="#a5c0c5108a336d1ec6e664c81e800a7e5">More...</a><br /></td></tr>
<tr class="separator:a5c0c5108a336d1ec6e664c81e800a7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536bd20d4c5e1a84a48c0ef13928495c"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a536bd20d4c5e1a84a48c0ef13928495c">PrivateKeyPath</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5c0c5108a336d1ec6e664c81e800a7e5">RepoKeyDir</a> + &quot;private_key.txt&quot;</td></tr>
<tr class="memdesc:a536bd20d4c5e1a84a48c0ef13928495c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path to the private ssh-rsa key file  <a href="#a536bd20d4c5e1a84a48c0ef13928495c">More...</a><br /></td></tr>
<tr class="separator:a536bd20d4c5e1a84a48c0ef13928495c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaadb267170db9b85e56b13136a93da15"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaadb267170db9b85e56b13136a93da15">PublicKeyPath</a> = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5c0c5108a336d1ec6e664c81e800a7e5">RepoKeyDir</a> + &quot;public_key.txt&quot;</td></tr>
<tr class="memdesc:aaadb267170db9b85e56b13136a93da15"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path to the public ssh-rsa key file  <a href="#aaadb267170db9b85e56b13136a93da15">More...</a><br /></td></tr>
<tr class="separator:aaadb267170db9b85e56b13136a93da15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afabbb968df135f20d7dc6b9684bb3205"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">PRJobFile</a> = &quot;prtestjob.json&quot;</td></tr>
<tr class="memdesc:afabbb968df135f20d7dc6b9684bb3205"><td class="mdescLeft">&#160;</td><td class="mdescRight">File name for monitoring which github pull requests are currently test merged  <a href="#afabbb968df135f20d7dc6b9684bb3205">More...</a><br /></td></tr>
<tr class="separator:afabbb968df135f20d7dc6b9684bb3205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c950acf89122f63e09ca01c495f647"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647">LiveTrackingBranch</a> = &quot;___TGSLiveCommitTrackingBranch&quot;</td></tr>
<tr class="memdesc:ac5c950acf89122f63e09ca01c495f647"><td class="mdescLeft">&#160;</td><td class="mdescRight">The branch that points to the current commit that is live or staged to be live in DreamDaemon  <a href="#ac5c950acf89122f63e09ca01c495f647">More...</a><br /></td></tr>
<tr class="separator:ac5c950acf89122f63e09ca01c495f647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7918693e49a91ef4376b1a2b13285239"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7918693e49a91ef4376b1a2b13285239">CommitMessage</a> = &quot;Automatic changelog compile, [ci skip]&quot;</td></tr>
<tr class="memdesc:a7918693e49a91ef4376b1a2b13285239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit message for <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html#a705cad9d519808587ace7579ec25a5e3" title="Paths to commit and push to the remote repository ">RepoConfig.PathsToStage</a>  <a href="#a7918693e49a91ef4376b1a2b13285239">More...</a><br /></td></tr>
<tr class="separator:a7918693e49a91ef4376b1a2b13285239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af61d84cdc4e6ebdfab069f9705c4254b"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a> = new object()</td></tr>
<tr class="memdesc:af61d84cdc4e6ebdfab069f9705c4254b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used in conjunction with <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b" title="Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...">RepoBusy</a> for multithreading safety  <a href="#af61d84cdc4e6ebdfab069f9705c4254b">More...</a><br /></td></tr>
<tr class="separator:af61d84cdc4e6ebdfab069f9705c4254b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7fb86e4909538c2cfb04e228717c4b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a> = false</td></tr>
<tr class="memdesc:a1e7fb86e4909538c2cfb04e228717c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety. You may not use the repo if this is not locked or <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b" title="Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...">RepoBusy</a>. Either old the lock while you do work or set <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b" title="Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...">RepoBusy</a> to  then release it, do your work, reaquire it, and set <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b" title="Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...">RepoBusy</a> back to   <a href="#a1e7fb86e4909538c2cfb04e228717c4b">More...</a><br /></td></tr>
<tr class="separator:a1e7fb86e4909538c2cfb04e228717c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa0200662dbc73df3917828e28a46e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#affa0200662dbc73df3917828e28a46e3">Cloning</a> = false</td></tr>
<tr class="memdesc:affa0200662dbc73df3917828e28a46e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not a git operation is in progress. See <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a>  <a href="#affa0200662dbc73df3917828e28a46e3">More...</a><br /></td></tr>
<tr class="separator:affa0200662dbc73df3917828e28a46e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae59778f28034fa3b6dd2abec09536f6e"><td class="memItemLeft" align="right" valign="top">Repository&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a></td></tr>
<tr class="memdesc:ae59778f28034fa3b6dd2abec09536f6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The repository object  <a href="#ae59778f28034fa3b6dd2abec09536f6e">More...</a><br /></td></tr>
<tr class="separator:ae59778f28034fa3b6dd2abec09536f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34ec3b6bf17a85bd373018a19cf54da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">currentProgress</a> = -1</td></tr>
<tr class="memdesc:af34ec3b6bf17a85bd373018a19cf54da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for reporting operation progress to the <a class="el" href="namespace_t_g_s_1_1_interface.html">TGS.Interface</a>  <a href="#af34ec3b6bf17a85bd373018a19cf54da">More...</a><br /></td></tr>
<tr class="separator:af34ec3b6bf17a85bd373018a19cf54da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaecb345b5b6040438f86604659051ab"><td class="memItemLeft" align="right" valign="top">System.Timers.Timer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#adaecb345b5b6040438f86604659051ab">autoUpdateTimer</a></td></tr>
<tr class="memdesc:adaecb345b5b6040438f86604659051ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for automatically updating the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>  <a href="#adaecb345b5b6040438f86604659051ab">More...</a><br /></td></tr>
<tr class="separator:adaecb345b5b6040438f86604659051ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class which holds all interface components. There are no safeguards for call race conditions so these must be guarded against internally </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00012">12</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a24619e3847ca6f303773c3c667a0c644"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">TGS.Server.Instance.ShutdownRequestPhase</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a24619e3847ca6f303773c3c667a0c644a6adf97f83acf6453d4a6a4b1070f3754"></a>None&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24619e3847ca6f303773c3c667a0c644afcdf8a82eba24e303b63b2e49a507ecb"></a>Requested&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24619e3847ca6f303773c3c667a0c644a5391406caa5d363a29e5217eb25426e3"></a>Pinged&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00017">17</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            <a class="code" href="namespace_t_g_s_1_1_interface.html#a6aba89d82a2fad3044034cdca1060c4fa6adf97f83acf6453d4a6a4b1070f3754">None</a>,</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            Requested,</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            Pinged,</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        }</div><div class="ttc" id="namespace_t_g_s_1_1_interface_html_a6aba89d82a2fad3044034cdca1060c4fa6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a6aba89d82a2fad3044034cdca1060c4fa6adf97f83acf6453d4a6a4b1070f3754">TGS.Interface.ConnectivityLevel.None</a></div><div class="ttdoc">The connection could not be made, either a communication error occurred or the specified Components...</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abac0e3ddd1419ccf23e1a40f4d387c8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8f">TGS.Server.Instance.SymbolicLink</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="abac0e3ddd1419ccf23e1a40f4d387c8fa0b27918290ff5323bea1e3b78a9cf04e"></a>File&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abac0e3ddd1419ccf23e1a40f4d387c8fae73cda510e8bb947f7e61089e5581494"></a>Directory&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00019">19</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            File = 0,</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            Directory = 1</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3324d5c44b33771c86fe738b0593a136"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TGS.Server.Instance.Instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a>&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>logID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs and a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00031">31</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">LoggingID</a> = logID;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a> = config;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a241f46efaa6b53c241f502de9326fb1e">InitAdministration</a>();</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a018bb677436bfb6814750fb1ee71b16f">InitEventHandlers</a>();</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6791c9be7a1f6784b1b84d3365ba5151">InitChat</a>();</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a40fc1ed9ca23a8c0d6a51521e91f66ef">InitRepo</a>();</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a528e107d5b9f90f22ba68a4737e5f850">InitByond</a>();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2f1cfb897b842dde32d5f2299144f2d1">InitDreamDaemon</a>();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a622bf2039a525407f0eec0399a0e4588">InitCompiler</a>();</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a241f46efaa6b53c241f502de9326fb1e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a241f46efaa6b53c241f502de9326fb1e">TGS.Server.Instance.InitAdministration</a></div><div class="ttdeci">void InitAdministration()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00032">Administration.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a40fc1ed9ca23a8c0d6a51521e91f66ef"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a40fc1ed9ca23a8c0d6a51521e91f66ef">TGS.Server.Instance.InitRepo</a></div><div class="ttdeci">void InitRepo()</div><div class="ttdoc">Initializes the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00100">Repository.cs:100</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2f1cfb897b842dde32d5f2299144f2d1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2f1cfb897b842dde32d5f2299144f2d1">TGS.Server.Instance.InitDreamDaemon</a></div><div class="ttdeci">void InitDreamDaemon()</div><div class="ttdoc">Setup or reattach the watchdog, depending on InstanceConfig.ReattachRequired of Config, and create the DiagnosticsDir </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00097">DreamDaemon.cs:97</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a622bf2039a525407f0eec0399a0e4588"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a622bf2039a525407f0eec0399a0e4588">TGS.Server.Instance.InitCompiler</a></div><div class="ttdeci">void InitCompiler()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00051">Compiler.cs:51</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a528e107d5b9f90f22ba68a4737e5f850"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a528e107d5b9f90f22ba68a4737e5f850">TGS.Server.Instance.InitByond</a></div><div class="ttdeci">void InitByond()</div><div class="ttdoc">Called when the Instance is setup. Prepares the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00077">Byond.cs:77</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6791c9be7a1f6784b1b84d3365ba5151"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6791c9be7a1f6784b1b84d3365ba5151">TGS.Server.Instance.InitChat</a></div><div class="ttdeci">void InitChat()</div><div class="ttdoc">Set up the ChatProviders for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00031">Chat.cs:31</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a018bb677436bfb6814750fb1ee71b16f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a018bb677436bfb6814750fb1ee71b16f">TGS.Server.Instance.InitEventHandlers</a></div><div class="ttdeci">void InitEventHandlers()</div><div class="ttdoc">Creates the EventFolder </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00018">PreactionHandler.cs:18</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aed67602a10e95dbf4cd053fb65871ed8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">TGS.Server.Instance.LoggingID</a></div><div class="ttdeci">readonly byte LoggingID</div><div class="ttdoc">Used to assign the instance to event IDs </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00023">Instance.cs:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac318b9e316c87b79912f3e6551f1ec3e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.ApplyStagedUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to move the staged update from <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916" title="The instance directory to use when updating the BYOND installation ">StagingDirectory</a> to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66" title="The instance directory to store the BYOND installation ">ByondDirectory</a>. Sets <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7" title="The last error the BYOND updater encountered ">lastError</a> on failure </p>
<dl class="section return"><dt>Returns</dt><dd>on success,  on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00314">314</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00035">TGS.Server.Helpers.DeleteDirectory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> == <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Compiling)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Staged)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Updating;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    var rbd = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">ByondDirectory</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(rbd);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    Directory.Move(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa9e071ffa09425b32638f7700f0e6998">StagingDirectoryInner</a>), rbd);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">StagingDirectory</a>));</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a> = null;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;BYOND: Update completed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(String.Format(<span class="stringliteral">&quot;BYOND update {0} completed!&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a277581d2109b82b7e94558007fb37595">GetVersion</a>(<a class="code" href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">ByondVersion</a>.Installed)), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.BYONDUpdateComplete);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a> = e.ToString();</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;BYOND: Update failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;BYOND update failed! Error: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.BYONDUpdateFail);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    lock(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Idle;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a9efa4ea461f8ca8f1c1f10b59dc4bc66"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">TGS.Server.Instance.ByondDirectory</a></div><div class="ttdeci">const string ByondDirectory</div><div class="ttdoc">The instance directory to store the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00018">Byond.cs:18</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa9e071ffa09425b32638f7700f0e6998"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa9e071ffa09425b32638f7700f0e6998">TGS.Server.Instance.StagingDirectoryInner</a></div><div class="ttdeci">const string StagingDirectoryInner</div><div class="ttdoc">Path to the actual BYOND installation within the StagingDirectory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00026">Byond.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a1385bc6e3ab604932c185fe8bd6ad008"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">TGS.Interface.ByondVersion</a></div><div class="ttdeci">ByondVersion</div><div class="ttdoc">Type of byond version </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00062">Enumerations.cs:62</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a71a44e3a5d5b41aa8cdfca8d1007f916"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">TGS.Server.Instance.StagingDirectory</a></div><div class="ttdeci">const string StagingDirectory</div><div class="ttdoc">The instance directory to use when updating the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00022">Byond.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a277581d2109b82b7e94558007fb37595"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a277581d2109b82b7e94558007fb37595">TGS.Server.Instance.GetVersion</a></div><div class="ttdeci">string GetVersion(ByondVersion type)</div><div class="ttdoc">Get the currently installed version as a string formatted as Major.Minor  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00149">Byond.cs:149</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4b94c11ccb4064514452be149335bcb0"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">TGS.Interface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00032">Enumerations.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08fd219037def4230946a2487815ef44"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">TGS.Server.Instance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4270720d0fdafb1bce877eda81e65c1c"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">TGS.Interface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00117">Enumerations.cs:117</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a59a9f31f1b34f1c903b9f1af34e707e7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">TGS.Server.Instance.lastError</a></div><div class="ttdeci">string lastError</div><div class="ttdoc">The last error the BYOND updater encountered </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00068">Byond.cs:68</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa48afaed61100daacb9a97366281837"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">TGS.Server.Instance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_ac318b9e316c87b79912f3e6551f1ec3e_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_ac318b9e316c87b79912f3e6551f1ec3e_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_ac318b9e316c87b79912f3e6551f1ec3e_cgraph" id="class_t_g_s_1_1_server_1_1_instance_ac318b9e316c87b79912f3e6551f1ec3e_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#a5b1d1510ab671f24b98ecafa79f98c00" title="Recursive directory deleter " alt="" coords="232,5,409,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a61459d20db5399496e15aa0c1f1e9d5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.Autostart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the watchdog will start when the service starts  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a4f55c5a91833a5369828ac1012a1d3a9">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00661">661</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a045bd73be1503f1a09f35a9aec231e32">Autostart</a>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a045bd73be1503f1a09f35a9aec231e32"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a045bd73be1503f1a09f35a9aec231e32">TGS.Server.IInstanceConfig.Autostart</a></div><div class="ttdeci">bool Autostart</div><div class="ttdoc">Whether or not the Instance should immediately start DreamDaemon when activated </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00050">InstanceConfig.cs:50</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af986654609d219604051007dd6c086df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulong TGS.Server.Instance.AutoUpdateInterval </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current autoupdate interval  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#ae15c6537a8d491823ff5f5f829a3911b">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01374">1374</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5283565a099ab2de0f8f362f1ea34c56">AutoUpdateInterval</a>;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a5283565a099ab2de0f8f362f1ea34c56"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5283565a099ab2de0f8f362f1ea34c56">TGS.Server.IInstanceConfig.AutoUpdateInterval</a></div><div class="ttdeci">ulong AutoUpdateInterval</div><div class="ttdoc">The auto update interval for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00109">InstanceConfig.cs:109</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa2e43abfda9bace7682d7d583ad7398a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.AutoUpdateTimer_Elapsed </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">System.Timers.ElapsedEventArgs&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs on the configured <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#a07e066bf038a4ea4934bcf5d1d6beb71">InstanceConfig.AutoUpdateInterval</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a> and tries to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1f307cfcce4bfa27ff8d7f16947c7498" title="Fetches the origin and merges it into the current branch  ">Update(bool)</a> and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6bf343168b3fcc0efef459a12b9fabdf" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ...">Compile(bool)</a> the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>A System.Timers.Timer</td></tr>
    <tr><td class="paramname">e</td><td>The event arguments</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01384">1384</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a607fe93fc7de00f94ff70963de9b5348">UpdateImpl</a>(<span class="keyword">true</span>, <span class="keyword">false</span>) == null)</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6bf343168b3fcc0efef459a12b9fabdf">Compile</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6bf343168b3fcc0efef459a12b9fabdf"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6bf343168b3fcc0efef459a12b9fabdf">TGS.Server.Instance.Compile</a></div><div class="ttdeci">bool Compile(bool silent=false)</div><div class="ttdoc">Does all the necessary actions to take the revision currently in the repository and compile it to be ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00560">Compiler.cs:560</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a607fe93fc7de00f94ff70963de9b5348"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a607fe93fc7de00f94ff70963de9b5348">TGS.Server.Instance.UpdateImpl</a></div><div class="ttdeci">string UpdateImpl(bool reset, bool successOnUpToDate)</div><div class="ttdoc">Fetches the origin and merges it into the current branch </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00657">Repository.cs:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5956aa08c166860be43e49e2378cd383"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.BackupAndDeleteStaticDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies the Static directory to the first available Static_BACKUP path in the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> then deleted the old directory </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00292">292</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00102">TGS.Server.Helpers.CopyDirectory()</a>, and <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00035">TGS.Server.Helpers.DeleteDirectory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            var rsd = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">if</span> (Directory.Exists(rsd))</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="keywordtype">int</span> count = 1;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                var rsbd = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47682c60949bfcaf10578c0d98166617">StaticBackupDir</a>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordtype">string</span> path = Path.GetDirectoryName(rsbd);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordtype">string</span> newFullPath = rsbd;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">while</span> (File.Exists(newFullPath) || Directory.Exists(newFullPath))</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    <span class="keywordtype">string</span> tempDirName = <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;{0}({1})&quot;</span>, rsbd, count++);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    newFullPath = Path.Combine(path, tempDirName);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.CopyDirectory(rsd, newFullPath);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(rsd);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47682c60949bfcaf10578c0d98166617"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47682c60949bfcaf10578c0d98166617">TGS.Server.Instance.StaticBackupDir</a></div><div class="ttdeci">const string StaticBackupDir</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00027">Compiler.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae497ee38d040cef22bc35af14942ca54"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">TGS.Server.Instance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a5956aa08c166860be43e49e2378cd383_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a5956aa08c166860be43e49e2378cd383_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a5956aa08c166860be43e49e2378cd383_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a5956aa08c166860be43e49e2378cd383_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#a5c7123b266b9815f4ef6247a0b21387c" title="Recusively copy a directory " alt="" coords="243,5,465,32"/>
<area shape="rect" id="node3" href="class_t_g_s_1_1_server_1_1_helpers.html#a5b1d1510ab671f24b98ecafa79f98c00" title="Recursive directory deleter " alt="" coords="265,57,443,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="accd844ee6162c4270fec7671e706439c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.BusyCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the updater is considered busy </p>
<dl class="section return"><dt>Returns</dt><dd>if the updater is considered busy,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00111">111</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                switch (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a>)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Starting:</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Downloading:</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Staging:</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Updating:</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Idle:</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Staged:</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div><div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4b94c11ccb4064514452be149335bcb0"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">TGS.Interface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00032">Enumerations.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08fd219037def4230946a2487815ef44"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">TGS.Server.Instance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa48afaed61100daacb9a97366281837"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">TGS.Server.Instance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac60dec215167c30c51143cf1d99e65a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels the current compilation </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#ae02718868ea5981520ad52574ace73e3">TGS.Interface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00593">593</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Compiling)</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid state for cancellation!&quot;</span>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a415b7170ca623f2a79fa6bc7f8a9d4df">compilationCancellationRequestation</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ace69a3f44b64f4899a7244dde6c281a0">canCancelCompilation</a>)</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a>.Abort();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Compilation will be cancelled when the repo copy is complete&quot;</span>;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ace69a3f44b64f4899a7244dde6c281a0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ace69a3f44b64f4899a7244dde6c281a0">TGS.Server.Instance.canCancelCompilation</a></div><div class="ttdeci">bool canCancelCompilation</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00045">Compiler.cs:45</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a415b7170ca623f2a79fa6bc7f8a9d4df"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a415b7170ca623f2a79fa6bc7f8a9d4df">TGS.Server.Instance.compilationCancellationRequestation</a></div><div class="ttdeci">bool compilationCancellationRequestation</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00044">Compiler.cs:44</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4270720d0fdafb1bce877eda81e65c1c"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">TGS.Interface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00117">Enumerations.cs:117</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a98c3251eba0e6d6e2a2624afe82ef399"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">TGS.Server.Instance.CompilerThread</a></div><div class="ttdeci">Thread CompilerThread</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a604a8e753988470876536ec1b39f94e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.CanStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a call to <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#aacfd75d32ce9b0fe693daf2ff0143347" title="Starts the server if it isn&#39;t running ">Start</a> will fail. Of course, be aware of race conditions with other interfaces  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a3d09aa475e060d8e65fcbd929488ad49">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00469">469</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a277581d2109b82b7e94558007fb37595">GetVersion</a>(<a class="code" href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">ByondVersion</a>.Installed) == null)</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Byond is not installed!&quot;</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            var DMB = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a> + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">ProjectName</a> + <span class="stringliteral">&quot;.dmb&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">if</span> (!File.Exists(DMB))</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Unable to find {0}!&quot;</span>, DMB);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div><div class="ttc" id="namespace_t_g_s_1_1_interface_html_a1385bc6e3ab604932c185fe8bd6ad008"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">TGS.Interface.ByondVersion</a></div><div class="ttdeci">ByondVersion</div><div class="ttdoc">Type of byond version </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00062">Enumerations.cs:62</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a5af21f03c5d23a6c94270a56f3bc0db8"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">TGS.Server.IInstanceConfig.ProjectName</a></div><div class="ttdeci">string ProjectName</div><div class="ttdoc">The name of the .dme/.dmb the Instance uses </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00035">InstanceConfig.cs:35</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a277581d2109b82b7e94558007fb37595"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a277581d2109b82b7e94558007fb37595">TGS.Server.Instance.GetVersion</a></div><div class="ttdeci">string GetVersion(ByondVersion type)</div><div class="ttdoc">Get the currently installed version as a string formatted as Major.Minor  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00149">Byond.cs:149</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab70169b31147444e4b4c1a2feba9b70e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">TGS.Server.Instance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40a41b02fd430dabaea6e6dde3f087c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.ChatConnectivityCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00211">211</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="namespace_t_g_s_1_1_interface.html#a6aba89d82a2fad3044034cdca1060c4fa2ec0d16e4ca169baedb9b2d50ec5c6d7">TGS.Interface.Connected</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a> I <span class="keywordflow">in</span> Enum.GetValues(typeof(<a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a>)))</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">if</span>(!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab53a558e8ef6a5b06b9260bd0f26f9fc">Connected</a>(I))</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aae20c369c53d4bdc6d6c7c8528ce10e6">Reconnect</a>(I);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aae20c369c53d4bdc6d6c7c8528ce10e6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aae20c369c53d4bdc6d6c7c8528ce10e6">TGS.Server.Instance.Reconnect</a></div><div class="ttdeci">string Reconnect(ChatProvider providerType)</div><div class="ttdoc">Reconnect a specific providerType  to it&amp;#39;s chat service  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00219">Chat.cs:219</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab53a558e8ef6a5b06b9260bd0f26f9fc"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab53a558e8ef6a5b06b9260bd0f26f9fc">TGS.Server.Instance.Connected</a></div><div class="ttdeci">bool Connected(ChatProvider providerType)</div><div class="ttdoc">Checks connection status  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00200">Chat.cs:200</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a697d691c1d8794ac9898b4fe67f983c2"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">TGS.Interface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00080">Enumerations.cs:80</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f1914e254474070254a2666226455d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.ChatProvider_OnChatMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a>&#160;</td>
          <td class="paramname"><em>ChatProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>speaker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isAdmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isAdminChannel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of OnChatMessage that recieves messages from all channels of all connected <a class="el" href="namespace_t_g_s_1_1_server_1_1_chat_providers.html">ChatProviders</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ChatProvider</td><td>The IChatProvider that heard the <em>message</em> </td></tr>
    <tr><td class="paramname">speaker</td><td>The user who wrote the <em>message</em> </td></tr>
    <tr><td class="paramname">channel</td><td>The channel the <em>message</em>  is from</td></tr>
    <tr><td class="paramname">message</td><td>The recieved message</td></tr>
    <tr><td class="paramname">isAdmin</td><td>if <em>speaker</em>  is considered a chat admin,  otherwise</td></tr>
    <tr><td class="paramname">isAdminChannel</td><td>if <em>channel</em>  is an admin channel,  otherwise</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00075">75</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_chat_command_8cs_source.html#l00015">TGS.Server.ChatCommands.ChatCommand.CommandInfo</a>, <a class="el" href="_command_8cs_source.html#l00059">TGS.Interface.Command.DoRun()</a>, <a class="el" href="_command_8cs_source.html#l00037">TGS.Interface.Command.OutputProcVar</a>, and <a class="el" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a65a8ad08f620f56df83c338e6e9862c9">TGS.Server.ChatProviders.IChatProvider.SendMessageDirect()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            var splits = message.Trim().Split(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">if</span> (splits.Length == 1 &amp;&amp; splits[0] == <span class="stringliteral">&quot;&quot;</span>)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                ChatProvider.<a class="code" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a65a8ad08f620f56df83c338e6e9862c9">SendMessageDirect</a>(<span class="stringliteral">&quot;Hi!&quot;</span>, channel);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            var asList = <span class="keyword">new</span> List&lt;string&gt;(splits);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <a class="code" href="class_t_g_s_1_1_interface_1_1_command.html">Command</a>.<a class="code" href="class_t_g_s_1_1_interface_1_1_command.html#a557b33f5c2ba313a55ea4c7709768bb4">OutputProcVar</a>.Value = (m) =&gt; ChatProvider.<a class="code" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a65a8ad08f620f56df83c338e6e9862c9">SendMessageDirect</a>(m, channel);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_chat_command.html">ChatCommand</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_chat_command.html#aa806a610b632a7439e4267796c176d81">CommandInfo</a>.Value = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_command_info.html">CommandInfo</a>()</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                IsAdmin = isAdmin,</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                IsAdminChannel = isAdminChannel,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                Speaker = speaker,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                Server = <span class="keyword">this</span>,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            };</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(String.Format(<span class="stringliteral">&quot;Chat Command from {0} ({2}): {1}&quot;</span>, speaker, String.Join(<span class="stringliteral">&quot; &quot;</span>, asList), channel), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.ChatCommand);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa08b6bc42a06ba7088caabb6d98c6cd6">ServerChatCommands</a> == null)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a88e2637eca30898a76015c9014e91ca5">LoadServerChatCommands</a>();</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_root_chat_command.html">RootChatCommand</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa08b6bc42a06ba7088caabb6d98c6cd6">ServerChatCommands</a>).<a class="code" href="class_t_g_s_1_1_interface_1_1_command.html#ad3b7f770775f3ad709530c32955796e7">DoRun</a>(asList);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_chat_commands_1_1_chat_command_html_aa806a610b632a7439e4267796c176d81"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_chat_command.html#aa806a610b632a7439e4267796c176d81">TGS.Server.ChatCommands.ChatCommand.CommandInfo</a></div><div class="ttdeci">static ThreadLocal&lt; CommandInfo &gt; CommandInfo</div><div class="ttdoc">CommandInfo for the ChatCommand </div><div class="ttdef"><b>Definition:</b> <a href="_chat_command_8cs_source.html#l00015">ChatCommand.cs:15</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_chat_commands_1_1_command_info_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_command_info.html">TGS.Server.ChatCommands.CommandInfo</a></div><div class="ttdoc">Metadata about the currently running ChatCommand </div><div class="ttdef"><b>Definition:</b> <a href="_command_info_8cs_source.html#l00006">CommandInfo.cs:6</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_chat_commands_1_1_root_chat_command_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_root_chat_command.html">TGS.Server.ChatCommands.RootChatCommand</a></div><div class="ttdoc">The main root chat command </div><div class="ttdef"><b>Definition:</b> <a href="_root_chat_command_8cs_source.html#l00009">RootChatCommand.cs:9</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_command_html_a557b33f5c2ba313a55ea4c7709768bb4"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_command.html#a557b33f5c2ba313a55ea4c7709768bb4">TGS.Interface.Command.OutputProcVar</a></div><div class="ttdeci">static ThreadLocal&lt; Action&lt; string &gt; &gt; OutputProcVar</div><div class="ttdoc">Proc that will show a message to the Command invoker. Do not call directly, use OutputProc(string) in...</div><div class="ttdef"><b>Definition:</b> <a href="_command_8cs_source.html#l00037">Command.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_command_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_command.html">TGS.Interface.Command</a></div><div class="ttdoc">Helper for creating a text Command tree </div><div class="ttdef"><b>Definition:</b> <a href="_command_8cs_source.html#l00010">Command.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_chat_commands_1_1_chat_command_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_chat_command.html">TGS.Server.ChatCommands.ChatCommand</a></div><div class="ttdoc">A command heard by a ChatProviders.IChatProvider </div><div class="ttdef"><b>Definition:</b> <a href="_chat_command_8cs_source.html#l00010">ChatCommand.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa08b6bc42a06ba7088caabb6d98c6cd6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa08b6bc42a06ba7088caabb6d98c6cd6">TGS.Server.Instance.ServerChatCommands</a></div><div class="ttdeci">List&lt; Command &gt; ServerChatCommands</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00066">Interop.cs:66</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider_html_a65a8ad08f620f56df83c338e6e9862c9"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a65a8ad08f620f56df83c338e6e9862c9">TGS.Server.ChatProviders.IChatProvider.SendMessageDirect</a></div><div class="ttdeci">string SendMessageDirect(string message, string channel)</div><div class="ttdoc">Send a message  to a channel  </div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_command_html_ad3b7f770775f3ad709530c32955796e7"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_command.html#ad3b7f770775f3ad709530c32955796e7">TGS.Interface.Command.DoRun</a></div><div class="ttdeci">virtual ExitCode DoRun(IList&lt; string &gt; parameters)</div><div class="ttdoc">Caller of Run(IList&lt;string&gt;), can be used to modify the root behaviour of the Command ...</div><div class="ttdef"><b>Definition:</b> <a href="_command_8cs_source.html#l00059">Command.cs:59</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a88e2637eca30898a76015c9014e91ca5"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a88e2637eca30898a76015c9014e91ca5">TGS.Server.Instance.LoadServerChatCommands</a></div><div class="ttdeci">void LoadServerChatCommands()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00068">Interop.cs:68</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a6f1914e254474070254a2666226455d1_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a6f1914e254474070254a2666226455d1_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a6f1914e254474070254a2666226455d1_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a6f1914e254474070254a2666226455d1_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_interface_1_1_command.html#ad3b7f770775f3ad709530c32955796e7" title="Caller of Run(IList&lt;string&gt;), can be used to modify the root behaviour of the Command ..." alt="" coords="231,5,438,32"/>
<area shape="rect" id="node3" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a65a8ad08f620f56df83c338e6e9862c9" title="Send a message &#160;to a channel &#160;" alt="" coords="225,57,444,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a31a8f54ee3fd356b9dd0acda9dd00c44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override bool TGS.Server.Instance.CheckAccessCore </td>
          <td>(</td>
          <td class="paramtype">OperationContext&#160;</td>
          <td class="paramname"><em>operationContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by WCF whenever a component call is made. Checks to see that the supplied user account has access to the requested component </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operationContext</td><td>Various parameters about the operation supplied by WCF</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the supplied user account may use the requested component,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00119">119</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            var contract = operationContext.EndpointDispatcher.ContractName;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="keywordflow">if</span> (contract == typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html">ITGConnectivity</a>).Name)   <span class="comment">//always allow connectivity checks</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            var windowsIdent = operationContext.ServiceSecurityContext.WindowsIdentity;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">if</span> (contract == typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop.html">ITGInterop</a>).Name)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            {    </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="comment">//only allow the same user the service is running as to use interop, because that&#39;s what DD is running as, and don&#39;t spam the logs with it unless it fails</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                var result = windowsIdent.User == <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac8d5475c760eb7f25421c7562717b589">ServiceSID</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordflow">if</span>(!result)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09d2c1cff6528a0588dc873cc0b070ae">WriteAccess</a>(windowsIdent.Name, <span class="keyword">false</span>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            var wp = <span class="keyword">new</span> WindowsPrincipal(windowsIdent);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="comment">//first allow admins</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            var authSuccess = wp.IsInRole(WindowsBuiltInRole.Administrator);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="comment">//if we&#39;re not an admin, check that we aren&#39;t trying to access the admin interface</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">if</span> (!authSuccess &amp;&amp; operationContext.EndpointDispatcher.ContractName != typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html">ITGAdministration</a>).Name &amp;&amp; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TheDroidsWereLookingFor</a> != null)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                authSuccess = wp.IsInRole(<span class="keyword">new</span> SecurityIdentifier(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aaea363c5691a7b10964e7f390b3a8799">AuthorizedUserGroupSID</a>));</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a14346fc7f0f7b0a4bc5046ffe877ccb6">authLock</a>)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                var user = windowsIdent.Name;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af14a38d1febdad352e36b931dae6b722">LastSeenUser</a> != user)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af14a38d1febdad352e36b931dae6b722">LastSeenUser</a> = user;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09d2c1cff6528a0588dc873cc0b070ae">WriteAccess</a>(user, authSuccess);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">return</span> authSuccess;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html">TGS.Interface.Components.ITGConnectivity</a></div><div class="ttdoc">Used for testing connections to the service without authentication </div><div class="ttdef"><b>Definition:</b> <a href="_connectivity_8cs_source.html#l00009">Connectivity.cs:9</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aaea363c5691a7b10964e7f390b3a8799"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aaea363c5691a7b10964e7f390b3a8799">TGS.Server.IInstanceConfig.AuthorizedUserGroupSID</a></div><div class="ttdeci">string AuthorizedUserGroupSID</div><div class="ttdoc">The user group allowed to use the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00104">InstanceConfig.cs:104</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09d2c1cff6528a0588dc873cc0b070ae"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09d2c1cff6528a0588dc873cc0b070ae">TGS.Server.Instance.WriteAccess</a></div><div class="ttdeci">void WriteAccess(string username, bool authSuccess)</div><div class="ttdoc">Writes an access event to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00093">Instance.cs:93</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac8d5475c760eb7f25421c7562717b589"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac8d5475c760eb7f25421c7562717b589">TGS.Server.Instance.ServiceSID</a></div><div class="ttdeci">readonly SecurityIdentifier ServiceSID</div><div class="ttdoc">The SecurityIdentifier of the account the Server is running as </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00030">Administration.cs:30</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a122dbae4ff3d9cae4370490c8c3f6627"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TGS.Server.Instance.TheDroidsWereLookingFor</a></div><div class="ttdeci">SecurityIdentifier TheDroidsWereLookingFor</div><div class="ttdoc">The SecurityIdentifier of the Windows group authorized to access the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00017">Administration.cs:17</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html">TGS.Interface.Components.ITGAdministration</a></div><div class="ttdoc">Manage the group that is used to access the service, can only be used by an administrator ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_administration_8cs_source.html#l00009">Administration.cs:9</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a14346fc7f0f7b0a4bc5046ffe877ccb6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a14346fc7f0f7b0a4bc5046ffe877ccb6">TGS.Server.Instance.authLock</a></div><div class="ttdeci">object authLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00021">Administration.cs:21</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop.html">TGS.Interface.Components.ITGInterop</a></div><div class="ttdoc">Used by DreamDaemon to access the interop API with call()(). Restrictions are in place so that only a...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_components_2_interop_8cs_source.html#l00009">Interop.cs:9</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af14a38d1febdad352e36b931dae6b722"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af14a38d1febdad352e36b931dae6b722">TGS.Server.Instance.LastSeenUser</a></div><div class="ttdeci">string LastSeenUser</div><div class="ttdoc">The WindowsIdentity.Name of the last WindowsIdentity to attempt to access the Instance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00025">Administration.cs:25</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0682d849b31d91c475f93ae3960de0a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.CheckAPIVersionConstraints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00181">181</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="comment">//major will never change for all of TGS3</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="comment">//we treat minor as major, build as minor, and revision as patch</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">return</span> !(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a> == null || <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a>.Minor != <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa7b4d6c5e07fec11ef97d10df717a57f">AllowedMajorAPIVersion</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa7b4d6c5e07fec11ef97d10df717a57f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa7b4d6c5e07fec11ef97d10df717a57f">TGS.Server.Instance.AllowedMajorAPIVersion</a></div><div class="ttdeci">const int AllowedMajorAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00025">Interop.cs:25</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadbc57076386211c5940d4283ff28cd0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">TGS.Server.Instance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00026">Interop.cs:26</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac49fce1ca9d542dca6992318c1c94855"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Checkout </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>sha</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hard checks out the passed object name  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#aa0910cf15f3d3773e651757628e3cc40">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00510">510</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">if</span> (sha == <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647">LiveTrackingBranch</a>)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;I&#39;m sorry Dave, I&#39;m afraid I can&#39;t do that...&quot;</span>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                var result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: Checking out object: &quot;</span> + sha, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches[sha] == null)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                        <span class="comment">//see if origin has the branch</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                        result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2d148a0b4c82814e214f51401ca0626e">Fetch</a>();</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                        var trackedBranch = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches[String.Format(<span class="stringliteral">&quot;origin/{0}&quot;</span>, sha)];</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                        <span class="keywordflow">if</span> (trackedBranch != null)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                        {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                            var newBranch = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.CreateBranch(sha, trackedBranch.Tip);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                            <span class="comment">//track it</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches.Update(newBranch, b =&gt; b.TrackedBranch = trackedBranch.CanonicalName);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                        }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    <span class="comment">//if this is a tracked branch, we need to reset to remote first and delete the PR list</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">ResetNoLock</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.TrackedBranch ?? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">DeletePRList</a>();</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    var Opts = <span class="keyword">new</span> CheckoutOptions()</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                        CheckoutModifiers = CheckoutModifiers.Force,</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                        OnCheckoutProgress = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#abf1b05ba88199291ea366ffec194d3d7">HandleCheckoutProgress</a>,</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    };</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    Commands.Checkout(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>, sha, Opts);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">ResetNoLock</a>(null);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa3c2cfeebe2079f6d35ae257d13fbe4">UpdateSubmodules</a>();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: Checkout complete!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Repo checked out &quot;</span> + sha, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoCheckout);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: Checkout failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Repo checkout of {0} failed: {1}&quot;</span>, sha, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoCheckoutFail);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_abf1b05ba88199291ea366ffec194d3d7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#abf1b05ba88199291ea366ffec194d3d7">TGS.Server.Instance.HandleCheckoutProgress</a></div><div class="ttdeci">void HandleCheckoutProgress(string path, int completedSteps, int totalSteps)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo checkout operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00208">Repository.cs:208</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a46b377aeb88f2ecc682c545aaacf1b33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">TGS.Server.Instance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the Instance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00856">Repository.cs:856</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6107dd2858d2a2c70cb9ac7d5105d373"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">TGS.Server.Instance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00493">Repository.cs:493</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5c950acf89122f63e09ca01c495f647"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647">TGS.Server.Instance.LiveTrackingBranch</a></div><div class="ttdeci">const string LiveTrackingBranch</div><div class="ttdoc">The branch that points to the current commit that is live or staged to be live in DreamDaemon ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00061">Repository.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa3c2cfeebe2079f6d35ae257d13fbe4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa3c2cfeebe2079f6d35ae257d13fbe4">TGS.Server.Instance.UpdateSubmodules</a></div><div class="ttdeci">void UpdateSubmodules()</div><div class="ttdoc">Properly updates any git submodules in the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00712">Repository.cs:712</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2d148a0b4c82814e214f51401ca0626e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2d148a0b4c82814e214f51401ca0626e">TGS.Server.Instance.Fetch</a></div><div class="ttdeci">string Fetch()</div><div class="ttdoc">Fetches origin </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01113">Repository.cs:1113</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6388054e24e414ef49593fa51ce0ae24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TGS.Server.Instance.CheckoutProgress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the progress of repository operations, not all operations are supported  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#ae96140536dbff81640d16801d916612c">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00146">146</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">currentProgress</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af34ec3b6bf17a85bd373018a19cf54da"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">TGS.Server.Instance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGS.Interface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00087">Repository.cs:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a159ebf40e20cc296bbb2bc2a0986a8ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.CleanByondStaging </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleans the BYOND staging directory </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00085">85</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00035">TGS.Server.Helpers.DeleteDirectory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            var rrdp = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2ed6a913422799be709b9bc96079843a">RevisionDownloadPath</a>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="comment">//linger not</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">if</span> (File.Exists(rrdp))</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                File.Delete(rrdp);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">StagingDirectory</a>));</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a71a44e3a5d5b41aa8cdfca8d1007f916"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">TGS.Server.Instance.StagingDirectory</a></div><div class="ttdeci">const string StagingDirectory</div><div class="ttdoc">The instance directory to use when updating the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00022">Byond.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2ed6a913422799be709b9bc96079843a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2ed6a913422799be709b9bc96079843a">TGS.Server.Instance.RevisionDownloadPath</a></div><div class="ttdeci">const string RevisionDownloadPath</div><div class="ttdoc">The path in the instance directory to store the downloaded BYOND revision </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00030">Byond.cs:30</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a159ebf40e20cc296bbb2bc2a0986a8ac_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a159ebf40e20cc296bbb2bc2a0986a8ac_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a159ebf40e20cc296bbb2bc2a0986a8ac_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a159ebf40e20cc296bbb2bc2a0986a8ac_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#a5b1d1510ab671f24b98ecafa79f98c00" title="Recursive directory deleter " alt="" coords="232,5,409,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1365351782327c0a728b7c13844d5640"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.CleanGameFolder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00128">128</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            var GameDirABridge = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>));</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">if</span> (Directory.Exists(GameDirABridge))</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                Directory.Delete(GameDirABridge);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            var GameDirBBridge = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">GameDirB</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>));</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">if</span> (Directory.Exists(GameDirBBridge))</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                Directory.Delete(GameDirBBridge);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            var rgdl = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (Directory.Exists(rgdl))</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                Directory.Delete(rgdl);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac6267c88a28d1fdc4987103c97b401c7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">TGS.Server.Instance.BridgeDLLName</a></div><div class="ttdeci">const string BridgeDLLName</div><div class="ttdoc">The file name of the .dll that contains the ITGInterop bridge class </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00056">Interop.cs:56</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a11a5205e6f76361d9c6c283c733e7f95"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">TGS.Server.Instance.GameDirA</a></div><div class="ttdeci">const string GameDirA</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00030">Compiler.cs:30</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab70169b31147444e4b4c1a2feba9b70e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">TGS.Server.Instance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a363f31fbe2b0b7172d0288b694235b6c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">TGS.Server.Instance.GameDirB</a></div><div class="ttdeci">const string GameDirB</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00031">Compiler.cs:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3443b6d7f6b2481e21e8c7a63c429221"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.Clone </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>twostrings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Backups up the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a> and deletes the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd" title="The Instance directory for the repository ">RepoPath</a> if they exist. Clones the given branch of the given remote. Sets up new <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twostrings</td><td>Remote and branch name, seperated by a ' '</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00217">217</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00035">TGS.Server.Helpers.DeleteDirectory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="comment">//busy flag set by caller</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            var ts = ((string)twostrings).Split(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            var RepoURL = ts[0];</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            var BranchName = ts[1];</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: {2} started: Cloning {0} branch of {1} ...&quot;</span>, BranchName, RepoURL, Repository.IsValid(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>) ? <span class="stringliteral">&quot;Full reset&quot;</span> : <span class="stringliteral">&quot;Setup&quot;</span>), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7ca212db696b8c01419fd60902b98378">DisposeRepo</a>();</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>));</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">DeletePRList</a>();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">configLock</a>)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5956aa08c166860be43e49e2378cd383">BackupAndDeleteStaticDirectory</a>();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    var Opts = <span class="keyword">new</span> CloneOptions()</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        BranchName = BranchName,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        RecurseSubmodules = <span class="keyword">true</span>,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        OnTransferProgress = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2ec78124dea785dbd28b9dec109eb909">HandleTransferProgress</a>,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                        OnCheckoutProgress = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#abf1b05ba88199291ea366ffec194d3d7">HandleCheckoutProgress</a>,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        CredentialsProvider = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">GenerateGitCredentials</a>,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    };</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    Repository.Clone(RepoURL, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>), Opts);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">currentProgress</a> = -1;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae37cbe097d7326ff0432bcd39ffce488">DisableGarbageCollectionNoLock</a>();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <span class="comment">//create an ssh remote for pushing</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Remotes.Add(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a">SSHPushRemote</a>, RepoURL.Replace(<span class="stringliteral">&quot;git://&quot;</span>, <span class="stringliteral">&quot;ssh://&quot;</span>).Replace(<span class="stringliteral">&quot;https://&quot;</span>, <span class="stringliteral">&quot;ssh://&quot;</span>));</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a29a3c86b836454d030d1ea31a7a6faf9">InitialConfigureRepository</a>();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: Clone complete!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Repository {0}:{1} successfully cloned&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoClone);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">currentProgress</a> = -1;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: Setup failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Failed to clone {2}:{0}: {1}&quot;</span>, BranchName, e.ToString(), RepoURL), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoCloneFail);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="keywordflow">finally</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#affa0200662dbc73df3917828e28a46e3">Cloning</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_abf1b05ba88199291ea366ffec194d3d7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#abf1b05ba88199291ea366ffec194d3d7">TGS.Server.Instance.HandleCheckoutProgress</a></div><div class="ttdeci">void HandleCheckoutProgress(string path, int completedSteps, int totalSteps)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo checkout operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00208">Repository.cs:208</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a29a3c86b836454d030d1ea31a7a6faf9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a29a3c86b836454d030d1ea31a7a6faf9">TGS.Server.Instance.InitialConfigureRepository</a></div><div class="ttdeci">void InitialConfigureRepository()</div><div class="ttdoc">Initial setup for the StaticDirs and CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00337">Repository.cs:337</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5956aa08c166860be43e49e2378cd383"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5956aa08c166860be43e49e2378cd383">TGS.Server.Instance.BackupAndDeleteStaticDirectory</a></div><div class="ttdeci">void BackupAndDeleteStaticDirectory()</div><div class="ttdoc">Copies the Static directory to the first available Static_BACKUP path in the Instance then deleted th...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00292">Repository.cs:292</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5445b16310369325042c5f678d330fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">TGS.Server.Instance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The Instance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">Repository.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_affa0200662dbc73df3917828e28a46e3"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#affa0200662dbc73df3917828e28a46e3">TGS.Server.Instance.Cloning</a></div><div class="ttdeci">bool Cloning</div><div class="ttdoc">Whether or not a git operation is in progress. See RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7ca212db696b8c01419fd60902b98378"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7ca212db696b8c01419fd60902b98378">TGS.Server.Instance.DisposeRepo</a></div><div class="ttdeci">void DisposeRepo()</div><div class="ttdoc">Cleans up Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00175">Repository.cs:175</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a46b377aeb88f2ecc682c545aaacf1b33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">TGS.Server.Instance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the Instance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00856">Repository.cs:856</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2e4fbf4a4caf26ec2d958c4fad93395a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a">TGS.Server.Instance.SSHPushRemote</a></div><div class="ttdeci">const string SSHPushRemote</div><div class="ttdoc">Git remote for push operations </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00041">Repository.cs:41</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae37cbe097d7326ff0432bcd39ffce488"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae37cbe097d7326ff0432bcd39ffce488">TGS.Server.Instance.DisableGarbageCollectionNoLock</a></div><div class="ttdeci">void DisableGarbageCollectionNoLock()</div><div class="ttdoc">Turns off the gc.auto git config setting </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00284">Repository.cs:284</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af34ec3b6bf17a85bd373018a19cf54da"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">TGS.Server.Instance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGS.Interface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00087">Repository.cs:87</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2ec78124dea785dbd28b9dec109eb909"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2ec78124dea785dbd28b9dec109eb909">TGS.Server.Instance.HandleTransferProgress</a></div><div class="ttdeci">bool HandleTransferProgress(TransferProgress progress)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo transfer operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00196">Repository.cs:196</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5d3fc0a44c753811f92e13d02de32c0f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">TGS.Server.Instance.GenerateGitCredentials</a></div><div class="ttdeci">Credentials GenerateGitCredentials(string url, string usernameFromUrl, SupportedCredentialTypes types)</div><div class="ttdoc">SSH credentials callback. Properly sets up SSH keys for an authorization operation ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01224">Repository.cs:1224</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08ee3406d0c5af9270d61039012ca463"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">TGS.Server.Instance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a3443b6d7f6b2481e21e8c7a63c429221_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a3443b6d7f6b2481e21e8c7a63c429221_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a3443b6d7f6b2481e21e8c7a63c429221_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a3443b6d7f6b2481e21e8c7a63c429221_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#a5b1d1510ab671f24b98ecafa79f98c00" title="Recursive directory deleter " alt="" coords="232,5,409,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaddf123cd4c3ceec4b4f8734bf4da456"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html">RepoConfig</a>&#160;</td>
          <td class="paramname"><em>Config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a commit based on a <em>Config</em> . Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a> and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba" title="Initializes Repo ">LoadRepo</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Config</td><td>A <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html" title="Repository specific information for a Instance ">RepoConfig</a> with <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html#a705cad9d519808587ace7579ec25a5e3" title="Paths to commit and push to the remote repository ">RepoConfig.PathsToStage</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01159">1159</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_repo_config_8cs_source.html#l00034">TGS.Server.RepoConfig.PathsToStage</a>.</p>
<div class="fragment"><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            {</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                <span class="comment">// Stage the file</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.PathsToStage)</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                    Commands.Stage(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>, I);</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.RetrieveStatus().Staged.Count() == 0)   <span class="comment">//nothing to commit</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="comment">// Create the committer&#39;s signature and commit</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                var authorandcommitter = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa3ce13d9776a31855262d70d43076b94">MakeSig</a>();</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                <span class="comment">// Commit to the repository</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(String.Format(<span class="stringliteral">&quot;Commit {0} created from changelogs&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Commit(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7918693e49a91ef4376b1a2b13285239">CommitMessage</a>, authorandcommitter, authorandcommitter)), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoCommit);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">DeletePRList</a>();</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            }</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(<span class="stringliteral">&quot;Repo commit failed: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoCommitFail);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            }</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa3ce13d9776a31855262d70d43076b94"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa3ce13d9776a31855262d70d43076b94">TGS.Server.Instance.MakeSig</a></div><div class="ttdeci">Signature MakeSig()</div><div class="ttdoc">Creates a commit LibGit2Sharp.Signature based off of the configured name and e-mail ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00848">Repository.cs:848</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7918693e49a91ef4376b1a2b13285239"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7918693e49a91ef4376b1a2b13285239">TGS.Server.Instance.CommitMessage</a></div><div class="ttdeci">const string CommitMessage</div><div class="ttdoc">Commit message for RepoConfig.PathsToStage </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a46b377aeb88f2ecc682c545aaacf1b33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">TGS.Server.Instance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the Instance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00856">Repository.cs:856</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6bf343168b3fcc0efef459a12b9fabdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.Compile </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>silent</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does all the necessary actions to take the revision currently in the repository and compile it to be run on the next server reboot. Requires BYOND to be set up and the <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#ad09bc56c6dddb2c812a1a47488dddeef" title="Returns the current compiler status ">GetStatus</a> to return <a class="el" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1ca59d87a4758a9d35fbaf6b204341bb399" title="Game folder is setup, does not imply the dmb is compiled ">CompilerStatus.Initialized</a>. Runs asyncronously  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#a7831773a46f543558be9a2c10d8f81c6">TGS.Interface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00560">560</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized)</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acfdb311619c660facd5659060f88781c">silentCompile</a> = silent;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = null;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Compiling;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa79ac78da881640ab95b4774701d2a2">CompileImpl</a>));</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a>.Start();</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acfdb311619c660facd5659060f88781c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acfdb311619c660facd5659060f88781c">TGS.Server.Instance.silentCompile</a></div><div class="ttdeci">bool silentCompile</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00046">Compiler.cs:46</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa79ac78da881640ab95b4774701d2a2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa79ac78da881640ab95b4774701d2a2">TGS.Server.Instance.CompileImpl</a></div><div class="ttdeci">void CompileImpl()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00288">Compiler.cs:288</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4270720d0fdafb1bce877eda81e65c1c"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">TGS.Interface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00117">Enumerations.cs:117</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7a892be6eee558d2be0006b156153098"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">TGS.Server.Instance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00041">Compiler.cs:41</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a98c3251eba0e6d6e2a2624afe82ef399"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">TGS.Server.Instance.CompilerThread</a></div><div class="ttdeci">Thread CompilerThread</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aafe8e8cd6bfd1acff032e797ccff30b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.CompileError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the error message of the last operation. Reading this will clear the stored value  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#a87b37328738e970da1d5c506fd25692d">TGS.Interface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00069">69</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                var err = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = null;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7a892be6eee558d2be0006b156153098"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">TGS.Server.Instance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00041">Compiler.cs:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa79ac78da881640ab95b4774701d2a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.CompileImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00288">288</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00102">TGS.Server.Helpers.CopyDirectory()</a>, and <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00035">TGS.Server.Helpers.DeleteDirectory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a277581d2109b82b7e94558007fb37595">GetVersion</a>(<a class="code" href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">ByondVersion</a>.Installed) == null)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;BYOND not installed!&quot;</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa279ed5a9e086c8ce04c4af07be0fe51">RepoConfigsMatch</a>())</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;Repository TGS3.json does not match cached version! Please update the config appropriately!&quot;</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">IsInitialized</a>();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordtype">string</span> resurrectee;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="keywordtype">bool</span> repobusy_check = <span class="keyword">false</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        repobusy_check = <span class="keyword">true</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="keywordflow">if</span> (repobusy_check)</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: Copy aborted, repo locked!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;The repo could not be locked for copying&quot;</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="keywordtype">string</span> CurrentSha;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    <span class="keywordtype">bool</span> silent;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        silent = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acfdb311619c660facd5659060f88781c">silentCompile</a>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acfdb311619c660facd5659060f88781c">silentCompile</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    <span class="keywordflow">if</span> (!silent)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: Compiling...&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    resurrectee = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8542d93b05d65677f7e972b17d16982e">GetStagingDir</a>();  <span class="comment">//non-relative</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    var <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    var deleteExcludeList = <span class="keyword">new</span> List&lt;string&gt; { <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a> };</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    deleteExcludeList.AddRange(Config.StaticDirectoryPaths);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    deleteExcludeList.AddRange(Config.DLLPaths);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(resurrectee, <span class="keyword">true</span>, deleteExcludeList);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    Directory.CreateDirectory(resurrectee + <span class="stringliteral">&quot;/.git/logs&quot;</span>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> Config.StaticDirectoryPaths)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        var the_path = Path.Combine(resurrectee, I);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        <span class="keywordflow">if</span> (!Directory.Exists(the_path))</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(Path.Combine(resurrectee, I), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>, I)));</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                    }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> Config.DLLPaths)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                        var the_path = Path.Combine(resurrectee, I);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                        <span class="keywordflow">if</span> (!File.Exists(the_path))</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(the_path, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>, I)));</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    <span class="keywordflow">if</span> (!File.Exists(Path.Combine(resurrectee, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>)))</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(Path.Combine(resurrectee, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>));</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    deleteExcludeList.Add(<span class="stringliteral">&quot;.git&quot;</span>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.CopyDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>), resurrectee, deleteExcludeList);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    CurrentSha = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8f55a135fbd9335e91378dc08239d139">GetShaOrBranchNoLock</a>(out <span class="keywordtype">string</span> error, <span class="keyword">false</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    <span class="comment">//just the tip</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">string</span> GitLogsDir = <span class="stringliteral">&quot;/.git/logs&quot;</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.CopyDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a> + GitLogsDir), resurrectee + GitLogsDir);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        File.Copy(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">PRJobFile</a>), Path.Combine(resurrectee, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">PRJobFile</a>));</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                    }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a> = false;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6b332d573bb560960d2c55e047ca378c">CreateBackup</a>();</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                if (res != null)</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = res;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                    }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                var dmeName = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a84d1b345d8a406dbf94e00db1454ba9c">ProjectName</a>() + <span class="stringliteral">&quot;.dme&quot;</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                var dmePath = resurrectee + <span class="stringliteral">&quot;/&quot;</span> + dmeName;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="keywordflow">if</span> (!File.Exists(dmePath))</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                    var errorMsg = String.Format(<span class="stringliteral">&quot;Could not find {0}!&quot;</span>, dmeName);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: &quot;</span> + errorMsg, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(errorMsg, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DMCompileCrash);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = errorMsg;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8b4499dffe00a28b4f0f2ccf5a48637a">PrecompileHook</a>())</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;The precompile hook failed&quot;</span>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(<span class="stringliteral">&quot;Precompile hook failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DMCompileError);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <span class="keyword">using</span> (var DM = <span class="keyword">new</span> Process())  <span class="comment">//will kill the process if the thread is terminated</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    DM.StartInfo.FileName = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">ByondDirectory</a> + <span class="stringliteral">&quot;/bin/dm.exe&quot;</span>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    DM.StartInfo.Arguments = String.Format(<span class="stringliteral">&quot;-clean {0}&quot;</span>, dmePath);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    DM.StartInfo.RedirectStandardOutput = <span class="keyword">true</span>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    DM.StartInfo.UseShellExecute = <span class="keyword">false</span>;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    var OutputList = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    DM.OutputDataReceived += <span class="keyword">new</span> DataReceivedEventHandler(</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        delegate (<span class="keywordtype">object</span> sender, DataReceivedEventArgs e)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                            OutputList.Append(Environment.NewLine);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                            OutputList.Append(e.Data);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    );</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a415b7170ca623f2a79fa6bc7f8a9d4df">compilationCancellationRequestation</a>)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ace69a3f44b64f4899a7244dde6c281a0">canCancelCompilation</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                        DM.Start();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                        DM.BeginOutputReadLine();</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                        <span class="keywordflow">while</span> (!DM.HasExited)</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                            DM.WaitForExit(100);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                        DM.CancelOutputRead();</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                        {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ace69a3f44b64f4899a7244dde6c281a0">canCancelCompilation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a415b7170ca623f2a79fa6bc7f8a9d4df">compilationCancellationRequestation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    <span class="keywordflow">catch</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                        <span class="keywordflow">if</span> (!DM.HasExited)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                        {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                            DM.Kill();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                            DM.WaitForExit();</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                        }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                        <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    <span class="keywordflow">finally</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ace69a3f44b64f4899a7244dde6c281a0">canCancelCompilation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    <span class="keywordflow">if</span> (DM.ExitCode == 0)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                            <span class="comment">//gotta go fast</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                            var online = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> == <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                            <span class="keywordflow">if</span> (online)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Suspend();</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                            <span class="keywordflow">try</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                            {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                var rgdl = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                                <span class="keywordflow">if</span> (Directory.Exists(rgdl))</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                                    <span class="comment">//these next two lines should be atomic but this is the best we can do</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                                    Directory.Delete(rgdl);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(rgdl, resurrectee);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                            }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                            <span class="keywordflow">finally</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                            {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                <span class="keywordflow">if</span> (online &amp;&amp; !<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.HasExited)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Resume();</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                            }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                        }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        var staged = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>() != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6fa1c226d23c0f175e5bc3fe66f531a6">PostcompileHook</a>())</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                        {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;The postcompile hook failed&quot;</span>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(<span class="stringliteral">&quot;Postcompile hook failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DMCompileError);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aac0300d04759251f1a83dd9f37c165c9">UpdateLiveSha</a>(CurrentSha);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                        var msg = String.Format(<span class="stringliteral">&quot;Compile complete!{0}&quot;</span>, !staged ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; Server will update next round.&quot;</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: &quot;</span> + msg, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(msg, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DMCompileSuccess);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                        {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                            <span class="keywordflow">if</span> (staged)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aad79bfbe23fdb601f12bacaf3dfa6f84">UpdateStaged</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = null;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                        }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: Compile failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo); <span class="comment">//Also happens for warnings</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(<span class="stringliteral">&quot;Compile error: &quot;</span> + OutputList.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DMCompileError);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;DM compile failure&quot;</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                        }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: Compiler thread crashed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Compile manager errror: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DMCompileCrash);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = e.ToString();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">finally</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ace69a3f44b64f4899a7244dde6c281a0">canCancelCompilation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a415b7170ca623f2a79fa6bc7f8a9d4df">compilationCancellationRequestation</a>)</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a415b7170ca623f2a79fa6bc7f8a9d4df">compilationCancellationRequestation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: Compile cancelled!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Compilation cancelled&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DMCompileCancel);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                    }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a9efa4ea461f8ca8f1c1f10b59dc4bc66"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">TGS.Server.Instance.ByondDirectory</a></div><div class="ttdeci">const string ByondDirectory</div><div class="ttdoc">The instance directory to store the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00018">Byond.cs:18</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac6267c88a28d1fdc4987103c97b401c7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">TGS.Server.Instance.BridgeDLLName</a></div><div class="ttdeci">const string BridgeDLLName</div><div class="ttdoc">The file name of the .dll that contains the ITGInterop bridge class </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00056">Interop.cs:56</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a1385bc6e3ab604932c185fe8bd6ad008"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">TGS.Interface.ByondVersion</a></div><div class="ttdeci">ByondVersion</div><div class="ttdoc">Type of byond version </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00062">Enumerations.cs:62</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afabbb968df135f20d7dc6b9684bb3205"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">TGS.Server.Instance.PRJobFile</a></div><div class="ttdeci">const string PRJobFile</div><div class="ttdoc">File name for monitoring which github pull requests are currently test merged </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00057">Repository.cs:57</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af8f30af9b177beb6c309e05d0d56be33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">TGS.Server.Instance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6fa1c226d23c0f175e5bc3fe66f531a6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6fa1c226d23c0f175e5bc3fe66f531a6">TGS.Server.Instance.PostcompileHook</a></div><div class="ttdeci">bool PostcompileHook()</div><div class="ttdoc">Run the &quot;postcompile&quot; event </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00097">PreactionHandler.cs:97</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa279ed5a9e086c8ce04c4af07be0fe51"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa279ed5a9e086c8ce04c4af07be0fe51">TGS.Server.Instance.RepoConfigsMatch</a></div><div class="ttdeci">bool RepoConfigsMatch()</div><div class="ttdoc">Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00116">Repository.cs:116</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a277581d2109b82b7e94558007fb37595"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a277581d2109b82b7e94558007fb37595">TGS.Server.Instance.GetVersion</a></div><div class="ttdeci">string GetVersion(ByondVersion type)</div><div class="ttdoc">Get the currently installed version as a string formatted as Major.Minor  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00149">Byond.cs:149</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5445b16310369325042c5f678d330fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">TGS.Server.Instance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The Instance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">Repository.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab70169b31147444e4b4c1a2feba9b70e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">TGS.Server.Instance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a84d1b345d8a406dbf94e00db1454ba9c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a84d1b345d8a406dbf94e00db1454ba9c">TGS.Server.Instance.ProjectName</a></div><div class="ttdeci">string ProjectName()</div><div class="ttdoc">Returns the relative path of the dme the compiler will look for without the .dme part  ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00576">Compiler.cs:576</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a750a0126077424b663f06be73efe4c77"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">TGS.Server.Instance.CreateSymlink</a></div><div class="ttdeci">static void CreateSymlink(string link, string target)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00092">Compiler.cs:92</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8542d93b05d65677f7e972b17d16982e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8542d93b05d65677f7e972b17d16982e">TGS.Server.Instance.GetStagingDir</a></div><div class="ttdeci">string GetStagingDir()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00231">Compiler.cs:231</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aac0300d04759251f1a83dd9f37c165c9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aac0300d04759251f1a83dd9f37c165c9">TGS.Server.Instance.UpdateLiveSha</a></div><div class="ttdeci">void UpdateLiveSha(string newSha)</div><div class="ttdoc">Updates LiveTrackingBranch with the staged Compile(bool)&amp;#39;s SHA </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01396">Repository.cs:1396</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acfdb311619c660facd5659060f88781c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acfdb311619c660facd5659060f88781c">TGS.Server.Instance.silentCompile</a></div><div class="ttdeci">bool silentCompile</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00046">Compiler.cs:46</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ace69a3f44b64f4899a7244dde6c281a0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ace69a3f44b64f4899a7244dde6c281a0">TGS.Server.Instance.canCancelCompilation</a></div><div class="ttdeci">bool canCancelCompilation</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00045">Compiler.cs:45</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a415b7170ca623f2a79fa6bc7f8a9d4df"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a415b7170ca623f2a79fa6bc7f8a9d4df">TGS.Server.Instance.compilationCancellationRequestation</a></div><div class="ttdeci">bool compilationCancellationRequestation</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00044">Compiler.cs:44</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a42e57a4aa98fefe7c844ada8d6f2eb9a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">TGS.Server.Instance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00133">Repository.cs:133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8f55a135fbd9335e91378dc08239d139"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8f55a135fbd9335e91378dc08239d139">TGS.Server.Instance.GetShaOrBranchNoLock</a></div><div class="ttdeci">string GetShaOrBranchNoLock(out string error, bool branch, bool tracked)</div><div class="ttdoc">Gets the SHA or branch name of the Repo&amp;#39;s HEAD. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00432">Repository.cs:432</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8b4499dffe00a28b4f0f2ccf5a48637a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8b4499dffe00a28b4f0f2ccf5a48637a">TGS.Server.Instance.PrecompileHook</a></div><div class="ttdeci">bool PrecompileHook()</div><div class="ttdoc">Run the &quot;precompile&quot; event </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00088">PreactionHandler.cs:88</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4270720d0fdafb1bce877eda81e65c1c"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">TGS.Interface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00117">Enumerations.cs:117</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1a9dc063b6715f796fab85843732c004"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">TGS.Server.Instance.IsInitialized</a></div><div class="ttdeci">CompilerStatus IsInitialized()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00120">Compiler.cs:120</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae497ee38d040cef22bc35af14942ca54"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">TGS.Server.Instance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aad79bfbe23fdb601f12bacaf3dfa6f84"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aad79bfbe23fdb601f12bacaf3dfa6f84">TGS.Server.Instance.UpdateStaged</a></div><div class="ttdeci">bool UpdateStaged</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00048">Compiler.cs:48</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6b332d573bb560960d2c55e047ca378c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6b332d573bb560960d2c55e047ca378c">TGS.Server.Instance.CreateBackup</a></div><div class="ttdeci">string CreateBackup()</div><div class="ttdoc">Creates a date and timestamped tag of the current HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00753">Repository.cs:753</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7a892be6eee558d2be0006b156153098"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">TGS.Server.Instance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00041">Compiler.cs:41</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_afa79ac78da881640ab95b4774701d2a2_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_afa79ac78da881640ab95b4774701d2a2_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_afa79ac78da881640ab95b4774701d2a2_cgraph" id="class_t_g_s_1_1_server_1_1_instance_afa79ac78da881640ab95b4774701d2a2_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#a5c7123b266b9815f4ef6247a0b21387c" title="Recusively copy a directory " alt="" coords="269,5,492,32"/>
<area shape="rect" id="node3" href="class_t_g_s_1_1_server_1_1_helpers.html#a5b1d1510ab671f24b98ecafa79f98c00" title="Recursive directory deleter " alt="" coords="292,57,469,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23f1964bdd8fbef73bb0051869e6a05f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.CompilerIdleNoLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00099">99</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> == <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Uninitialized || <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> == <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4270720d0fdafb1bce877eda81e65c1c"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">TGS.Interface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00117">Enumerations.cs:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab53a558e8ef6a5b06b9260bd0f26f9fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.Connected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a>&#160;</td>
          <td class="paramname"><em>providerType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks connection status  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat.html#a76e87ee4a158a0812e033b731a4822cd">TGS.Interface.Components.ITGChat</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00200">200</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">if</span> (I.ProviderInfo().Provider == providerType)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    <span class="keywordflow">return</span> I.Connected();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a92962bd476db8f04fa4a1a765e9f43a1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">TGS.Server.Instance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00022">Chat.cs:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b332d573bb560960d2c55e047ca378c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.CreateBackup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a date and timestamped tag of the current HEAD </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00753">753</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                    <span class="comment">//Make sure we don&#39;t already have a backup at this commit</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    var HEAD = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.Tip.Sha;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    <span class="keywordflow">foreach</span> (var T <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Tags)</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                        <span class="keywordflow">if</span> (T.Target.Sha == HEAD)</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                    var tagName = <span class="stringliteral">&quot;TGS-Compile-Backup-&quot;</span> + DateTime.Now.ToString(<span class="stringliteral">&quot;yyyy-MM-dd--HH.mm.ss&quot;</span>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    var tag = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.ApplyTag(tagName);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    <span class="keywordflow">if</span> (tag != null)</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Repo backup created at tag: &quot;</span> + tagName + <span class="stringliteral">&quot; commit: &quot;</span> + HEAD, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoBackupTag);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                    }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Tag creation failed!&quot;</span>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Failed backup tag creation at commit {0}!&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.Tip.Sha), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoBackupTagFail);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a996e06361e5a0c036de90f9ced74188b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool TGS.Server.Instance.CreateSymbolicLink </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>lpSymlinkFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>lpTargetFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8f">SymbolicLink</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a750a0126077424b663f06be73efe4c77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TGS.Server.Instance.CreateSymlink </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00092">92</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a996e06361e5a0c036de90f9ced74188b">CreateSymbolicLink</a>(<span class="keyword">new</span> DirectoryInfo(link).FullName, <span class="keyword">new</span> DirectoryInfo(target).FullName, File.Exists(target) ? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8f">SymbolicLink</a>.File : <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8f">SymbolicLink</a>.Directory))</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(String.Format(<span class="stringliteral">&quot;Failed to create symlink from {0} to {1}! Error: {2}&quot;</span>, target, link, Marshal.GetLastWin32Error()));</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_abac0e3ddd1419ccf23e1a40f4d387c8f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#abac0e3ddd1419ccf23e1a40f4d387c8f">TGS.Server.Instance.SymbolicLink</a></div><div class="ttdeci">SymbolicLink</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00019">Compiler.cs:19</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a996e06361e5a0c036de90f9ced74188b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a996e06361e5a0c036de90f9ced74188b">TGS.Server.Instance.CreateSymbolicLink</a></div><div class="ttdeci">static bool CreateSymbolicLink(string lpSymlinkFileName, string lpTargetFileName, SymbolicLink dwFlags)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab412ffc953f7e52aa48bf26a0fa5eaa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a> TGS.Server.Instance.CurrentStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current status of any BYOND updates  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html#aff24d2169e2f4ba5767fe1499c405a53">TGS.Interface.Components.ITGByond</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00129">129</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08fd219037def4230946a2487815ef44"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">TGS.Server.Instance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa48afaed61100daacb9a97366281837"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">TGS.Server.Instance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d29ee9f52d6da07ac10577bc6db078c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a> TGS.Server.Instance.DaemonStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the status of DreamDaemon  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#af144578e5011c236f2644c9716775487">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">193</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a232046a10167c8b30bedf068284c2857"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.DeleteFile </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>staticRelativePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>unauthorized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the target static file  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config.html#a85076faa53ed34eebed44bd94e7b8881">TGS.Interface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00155">155</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00052">TGS.Server.Server.BeginImpersonation()</a>, <a class="el" href="_server_8cs_source.html#l00060">TGS.Server.Server.CancelImpersonation()</a>, and <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00035">TGS.Server.Helpers.DeleteDirectory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            Server.BeginImpersonation();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            var path = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a> + <span class="charliteral">&#39;/&#39;</span> + staticRelativePath);   <span class="comment">//do not use path.combine or it will try and take the root</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">configLock</a>)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    var di1 = <span class="keyword">new</span> DirectoryInfo(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>));</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    var fi = <span class="keyword">new</span> FileInfo(path);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    var di2 = <span class="keyword">new</span> DirectoryInfo(fi.Directory.FullName);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                    var good = <span class="keyword">false</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="keywordflow">while</span> (di2 != null)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        <span class="keywordflow">if</span> (di2.FullName == di1.FullName)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                            good = <span class="keyword">true</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        <span class="keywordflow">else</span> di2 = di2.Parent;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordflow">if</span> (!good)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot delete above static directories!&quot;</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    <span class="keywordflow">if</span> (fi.Exists)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        File.Delete(path);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Directory.Exists(path))</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        Helpers.DeleteDirectory(path);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    Server.CancelImpersonation();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Delete of &quot;</span> + path, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.StaticDelete);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">catch</span> (UnauthorizedAccessException e)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="comment">//no need for the full stacktrace</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                unauthorized = <span class="keyword">true</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <span class="keywordflow">return</span> e.Message;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                Server.CancelImpersonation();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Delete of {0} failed! Error: {1}&quot;</span>, path, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.StaticRead);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae497ee38d040cef22bc35af14942ca54"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">TGS.Server.Instance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08ee3406d0c5af9270d61039012ca463"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">TGS.Server.Instance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a232046a10167c8b30bedf068284c2857_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a232046a10167c8b30bedf068284c2857_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a232046a10167c8b30bedf068284c2857_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a232046a10167c8b30bedf068284c2857_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_server.html#a6357fde09e65ef71222045f00094d5ac" title="Begins user impersonation to allow proper restricted file access " alt="" coords="256,5,503,32"/>
<area shape="rect" id="node3" href="class_t_g_s_1_1_server_1_1_server.html#af2d04d8451aaca506e393758f850df4c" title="Cancels WCF&#39;s user impersonation to allow clean access to writing log files " alt="" coords="293,57,465,98"/>
<area shape="rect" id="node4" href="class_t_g_s_1_1_server_1_1_helpers.html#a5b1d1510ab671f24b98ecafa79f98c00" title="Recursive directory deleter " alt="" coords="291,122,468,163"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a46b377aeb88f2ecc682c545aaacf1b33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.DeletePRList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>'s <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00856">856</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        {</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">PRJobFile</a>)))</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                    File.Delete(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">PRJobFile</a>));</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                }</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Failed to delete PR list: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoPRListError);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afabbb968df135f20d7dc6b9684bb3205"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">TGS.Server.Instance.PRJobFile</a></div><div class="ttdeci">const string PRJobFile</div><div class="ttdoc">File name for monitoring which github pull requests are currently test merged </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00057">Repository.cs:57</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae37cbe097d7326ff0432bcd39ffce488"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.DisableGarbageCollectionNoLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns off the gc.auto git config setting </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00284">284</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Config.Set(<span class="stringliteral">&quot;gc.auto&quot;</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f9f6aad82c5d499e7c03ef8cf94dad6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.Dispose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disposing</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern. Calls <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acf248d713b745dadacbf24ca7d50c155" title="Cleans up the Instance ">RunDisposals</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disposing</td><td>if <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7984437076eaf2223f136c6f029428d1" title="Implements the IDisposable pattern ">Dispose()</a> was called manually,  if it was from the finalizer</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00150">150</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9dc58a02b23898602de4c28c8f482989">disposedValue</a>)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="keywordflow">if</span> (disposing)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acf248d713b745dadacbf24ca7d50c155">RunDisposals</a>();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    <span class="comment">// TODO: dispose managed state (managed objects).</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="comment">// TODO: free unmanaged resources (unmanaged objects) and override a finalizer below.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="comment">// TODO: set large fields to null.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9dc58a02b23898602de4c28c8f482989">disposedValue</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acf248d713b745dadacbf24ca7d50c155"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acf248d713b745dadacbf24ca7d50c155">TGS.Server.Instance.RunDisposals</a></div><div class="ttdeci">void RunDisposals()</div><div class="ttdoc">Cleans up the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00047">Instance.cs:47</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a9dc58a02b23898602de4c28c8f482989"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a9dc58a02b23898602de4c28c8f482989">TGS.Server.Instance.disposedValue</a></div><div class="ttdeci">bool disposedValue</div><div class="ttdoc">To detect redundant Dispose() calls </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00144">Instance.cs:144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7984437076eaf2223f136c6f029428d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.Dispose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00177">177</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="comment">// Do not change this code. Put cleanup code in Dispose(bool disposing) above.</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7984437076eaf2223f136c6f029428d1">Dispose</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="comment">// TODO: uncomment the following line if the finalizer is overridden above.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="comment">// GC.SuppressFinalize(this);</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7984437076eaf2223f136c6f029428d1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7984437076eaf2223f136c6f029428d1">TGS.Server.Instance.Dispose</a></div><div class="ttdeci">void Dispose()</div><div class="ttdoc">Implements the IDisposable pattern </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00177">Instance.cs:177</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a62bb5558624424ef649cfd1d16a37e24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.DisposeAdministration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleans up the ITGAdministration component </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00108">108</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

<p>References <a class="el" href="_root_authorization_manager_8cs_source.html#l00016">TGS.Server.Security.RootAuthorizationManager.InstanceAuthManagers</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            lock(<a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html">RootAuthorizationManager</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html#a9bd81a375303ee52616baba77b1b329e">InstanceAuthManagers</a>)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html">RootAuthorizationManager</a>.InstanceAuthManagers.Remove(this);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html">TGS.Server.Security.RootAuthorizationManager</a></div><div class="ttdoc">A ServiceAuthorizationManager used to determine only if the caller is an admin </div><div class="ttdef"><b>Definition:</b> <a href="_root_authorization_manager_8cs_source.html#l00013">RootAuthorizationManager.cs:13</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager_html_a9bd81a375303ee52616baba77b1b329e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html#a9bd81a375303ee52616baba77b1b329e">TGS.Server.Security.RootAuthorizationManager.InstanceAuthManagers</a></div><div class="ttdeci">static readonly IList&lt; ServiceAuthorizationManager &gt; InstanceAuthManagers</div><div class="ttdef"><b>Definition:</b> <a href="_root_authorization_manager_8cs_source.html#l00016">RootAuthorizationManager.cs:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf1139d8833360b4439c97cfba7fe117"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.DisposeByond </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> is shutdown </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00097">97</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">RevisionStaging</a> != null)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">RevisionStaging</a>.Abort();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a159ebf40e20cc296bbb2bc2a0986a8ac">CleanByondStaging</a>();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a05106e6dc12c2e62d28555ea51f7ce7b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">TGS.Server.Instance.RevisionStaging</a></div><div class="ttdeci">Thread RevisionStaging</div><div class="ttdoc">Thread used for staging BYOND revisions </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00072">Byond.cs:72</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa48afaed61100daacb9a97366281837"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">TGS.Server.Instance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a159ebf40e20cc296bbb2bc2a0986a8ac"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a159ebf40e20cc296bbb2bc2a0986a8ac">TGS.Server.Instance.CleanByondStaging</a></div><div class="ttdeci">void CleanByondStaging()</div><div class="ttdoc">Cleans the BYOND staging directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00085">Byond.cs:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2862110636bab21070659ae80a9db6cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.DisposeChat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Properly shuts down all <a class="el" href="namespace_t_g_s_1_1_server_1_1_chat_providers.html">ChatProviders</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00104">104</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            var infosList = <span class="keyword">new</span> List&lt;IList&lt;string&gt;&gt;();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">foreach</span> (var <a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a> <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a>)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                infosList.Add(ChatProvider.ProviderInfo().DataFields);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                ChatProvider.Dispose();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            ChatProviders = null;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            var rawdata = JsonConvert.SerializeObject(infosList, Formatting.Indented);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aff36a4bcaefa978a2063e3abe8b56dbf">ChatProviderData</a> = Interface.Helpers.EncryptData(rawdata, out <span class="keywordtype">string</span> entrp);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aecf4b0ab864932679951664a4bd7958c">ChatProviderEntropy</a> = entrp;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aff36a4bcaefa978a2063e3abe8b56dbf"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aff36a4bcaefa978a2063e3abe8b56dbf">TGS.Server.IInstanceConfig.ChatProviderData</a></div><div class="ttdeci">string ChatProviderData</div><div class="ttdoc">Encrypted serialized ChatSetupInfos </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00069">InstanceConfig.cs:69</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a92962bd476db8f04fa4a1a765e9f43a1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">TGS.Server.Instance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00022">Chat.cs:22</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a697d691c1d8794ac9898b4fe67f983c2"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">TGS.Interface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00080">Enumerations.cs:80</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aecf4b0ab864932679951664a4bd7958c"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aecf4b0ab864932679951664a4bd7958c">TGS.Server.IInstanceConfig.ChatProviderEntropy</a></div><div class="ttdeci">string ChatProviderEntropy</div><div class="ttdoc">Entropy for ChatProviderData </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00074">InstanceConfig.cs:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16505761daaff2d3953c2d5869a1dcb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.DisposeCompiler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00080">80</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a> == null || !<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a>.IsAlive)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a>.Abort(); <span class="comment">//this will safely kill dm</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a622bf2039a525407f0eec0399a0e4588">InitCompiler</a>(); <span class="comment">//also cleanup</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a622bf2039a525407f0eec0399a0e4588"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a622bf2039a525407f0eec0399a0e4588">TGS.Server.Instance.InitCompiler</a></div><div class="ttdeci">void InitCompiler()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00051">Compiler.cs:51</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a98c3251eba0e6d6e2a2624afe82ef399"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">TGS.Server.Instance.CompilerThread</a></div><div class="ttdeci">Thread CompilerThread</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ae646bbf90e6124e3a73029c193044e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.DisposeDreamDaemon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Either let go of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33" title="The DreamDaemon process ">Proc</a> for reattachment or terminate it, depending on <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#ad3e4a6bab7ee26a179c806db221144be">InstanceConfig.ReattachRequired</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00160">160</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            var Detach = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">ReattachRequired</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keywordtype">bool</span> RenameLog = <span class="keyword">false</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>() == <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keywordflow">if</span> (!Detach)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa60ed802c6a49558a32eaf8c590c84f2">WorldAnnounce</a>(<span class="stringliteral">&quot;Server service stopped&quot;</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    Thread.Sleep(1000);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    RenameLog = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">CurrentDDLog</a> != null;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DD: Detaching watch dog for update!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">WriteCurrentDDLog</a>(<span class="stringliteral">&quot;Service updating! Splitting diagnostics...&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Detach)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">ReattachRequired</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab09a0bda6eaa71b87c84c685e1e13093">Stop</a>();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">pcpu</a> != null)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">pcpu</a>.Dispose();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">if</span> (RenameLog)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    var rrdd = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891">ResourceDiagnosticsDir</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    File.Move(Path.Combine(rrdd, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">CurrentDDLog</a>), Path.Combine(rrdd, <span class="stringliteral">&quot;SU-&quot;</span> + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">CurrentDDLog</a>));</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa60ed802c6a49558a32eaf8c590c84f2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa60ed802c6a49558a32eaf8c590c84f2">TGS.Server.Instance.WorldAnnounce</a></div><div class="ttdeci">string WorldAnnounce(string message)</div><div class="ttdoc">Sends a message to everyone on the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00723">DreamDaemon.cs:723</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aa9f5fc4a9216acecfa6a8f194cbc72e0"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">TGS.Server.IInstanceConfig.ReattachRequired</a></div><div class="ttdeci">bool ReattachRequired</div><div class="ttdoc">If the Instance should reattach to a running DreamDaemon System.Diagnostics.Process ...</div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00079">InstanceConfig.cs:79</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a26228c8ac1afc018e956a7e7ab7c9891"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891">TGS.Server.Instance.ResourceDiagnosticsDir</a></div><div class="ttdeci">const string ResourceDiagnosticsDir</div><div class="ttdoc">Directory for storing DreamDaemon ResourceUsage files </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00031">DreamDaemon.cs:31</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0ac4e6797d742a7cb055ce737de36e9c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">TGS.Server.Instance.WriteCurrentDDLog</a></div><div class="ttdeci">void WriteCurrentDDLog(string message)</div><div class="ttdoc">Write a message  to the CurrentDDLog. A timestamp will be prepended to it </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00291">DreamDaemon.cs:291</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab09a0bda6eaa71b87c84c685e1e13093"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab09a0bda6eaa71b87c84c685e1e13093">TGS.Server.Instance.Stop</a></div><div class="ttdeci">string Stop()</div><div class="ttdoc">Immediately kills the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00220">DreamDaemon.cs:220</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a16ce149ebe31e4dbf1bf318cc449e790"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">TGS.Server.Instance.pcpu</a></div><div class="ttdeci">PerformanceCounter pcpu</div><div class="ttdoc">CPU performance information for Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00048">DreamDaemon.cs:48</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a068d9bbb0c0d5fe0507e662af2041865"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">TGS.Server.Instance.CurrentDDLog</a></div><div class="ttdeci">string CurrentDDLog</div><div class="ttdoc">Current logfile in use in ResourceDiagnosticsDir </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00065">DreamDaemon.cs:65</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ca212db696b8c01419fd60902b98378"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.DisposeRepo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleans up <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00175">175</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a> != null)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Dispose();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a> = null;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6a9c48edf68396150d04640aae4ea5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.EventHandlerExists </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if an event handler for <em>eventName</em>  exists </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The name of the event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the event handler exists,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00038">38</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="keywordflow">return</span> File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac3802b60e80e99600116dfa0d07c8b7e">GetEventPath</a>(eventName));</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac3802b60e80e99600116dfa0d07c8b7e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac3802b60e80e99600116dfa0d07c8b7e">TGS.Server.Instance.GetEventPath</a></div><div class="ttdeci">string GetEventPath(string eventName)</div><div class="ttdoc">Gets the path of an event given an eventName  </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00028">PreactionHandler.cs:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acbbd8b294a54c3573371c933467f5575"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.Exists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the repository is valid, if not <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a324c36d13811df776d3deb8adb37514d" title="Deletes whatever may be left over and clones the repo at remote  and checks out branch ...">Setup(string, string)</a> must be called  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#ae646f483b7f5ca736a7a9de14bdcd687">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00185">185</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                return !<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#affa0200662dbc73df3917828e28a46e3">Cloning</a> &amp;&amp; Repository.IsValid(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5445b16310369325042c5f678d330fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">TGS.Server.Instance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The Instance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">Repository.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_affa0200662dbc73df3917828e28a46e3"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#affa0200662dbc73df3917828e28a46e3">TGS.Server.Instance.Cloning</a></div><div class="ttdeci">bool Cloning</div><div class="ttdoc">Whether or not a git operation is in progress. See RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d148a0b4c82814e214f51401ca0626e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Fetch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches origin </p>
<dl class="section return"><dt>Returns</dt><dd>null on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01113">1113</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        {</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                <span class="keywordtype">string</span> logMessage = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                var R = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Remotes[<span class="stringliteral">&quot;origin&quot;</span>];</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                IEnumerable&lt;string&gt; refSpecs = R.FetchRefSpecs.Select(X =&gt; X.Specification);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                Commands.Fetch(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>, R.Name, refSpecs, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a3a38e27cc6f790355d27a26af68b92e6">GenerateFetchOptions</a>(), logMessage);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            }</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a3a38e27cc6f790355d27a26af68b92e6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a3a38e27cc6f790355d27a26af68b92e6">TGS.Server.Instance.GenerateFetchOptions</a></div><div class="ttdeci">FetchOptions GenerateFetchOptions()</div><div class="ttdoc">Create FetchOptions that Prune and have the appropriate credentials and progress handler ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01099">Repository.cs:1099</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f7563f9db47ae1cfb2716377bd9a624"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.FindTheDroidsWereLookingFor </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>search</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useDomain</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627" title="The SecurityIdentifier of the Windows group authorized to access the Instance ">TheDroidsWereLookingFor</a> based off either an <em>search</em> ed name or a string SecurityIdentifier from the config </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">search</td><td>The name of the group to search for</td></tr>
    <tr><td class="paramname">useDomain</td><td>Recursive parameter used to check for the group using ContextType.Domain instead of ContextType.Machine</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the group allowed to access the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> if it could be found,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00080">80</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="comment">//find the group that is authorized to use the tools</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            var pc = <span class="keyword">new</span> PrincipalContext(useDomain ? ContextType.Domain : ContextType.Machine);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            var groupName = search ?? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aaea363c5691a7b10964e7f390b3a8799">AuthorizedUserGroupSID</a>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">if</span> (String.IsNullOrWhiteSpace(groupName))</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            var gp = GroupPrincipal.FindByIdentity(pc, search != null ? IdentityType.Name : IdentityType.Sid, groupName);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">if</span> (gp == null)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <span class="keywordflow">if</span> (search != null)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                    <span class="comment">//try again with all types</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    gp = GroupPrincipal.FindByIdentity(pc, search);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                <span class="keywordflow">if</span> (gp == null)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    <span class="keywordflow">return</span> useDomain ? null : <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0f7563f9db47ae1cfb2716377bd9a624">FindTheDroidsWereLookingFor</a>(search, <span class="keyword">true</span>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TheDroidsWereLookingFor</a> = gp.Sid;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">if</span> (search != null)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aaea363c5691a7b10964e7f390b3a8799">AuthorizedUserGroupSID</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TheDroidsWereLookingFor</a>.Value;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">Save</a>();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">return</span> gp.Name;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aaea363c5691a7b10964e7f390b3a8799"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aaea363c5691a7b10964e7f390b3a8799">TGS.Server.IInstanceConfig.AuthorizedUserGroupSID</a></div><div class="ttdeci">string AuthorizedUserGroupSID</div><div class="ttdoc">The user group allowed to use the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00104">InstanceConfig.cs:104</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a122dbae4ff3d9cae4370490c8c3f6627"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TGS.Server.Instance.TheDroidsWereLookingFor</a></div><div class="ttdeci">SecurityIdentifier TheDroidsWereLookingFor</div><div class="ttdoc">The SecurityIdentifier of the Windows group authorized to access the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00017">Administration.cs:17</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a8456c8ae4b83292059709e1d4dcbcce0"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">TGS.Server.IInstanceConfig.Save</a></div><div class="ttdeci">void Save()</div><div class="ttdoc">Saves the IInstanceConfig to it&amp;#39;s Instance Directory </div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0f7563f9db47ae1cfb2716377bd9a624"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0f7563f9db47ae1cfb2716377bd9a624">TGS.Server.Instance.FindTheDroidsWereLookingFor</a></div><div class="ttdeci">string FindTheDroidsWereLookingFor(string search=null, bool useDomain=false)</div><div class="ttdoc">Set TheDroidsWereLookingFor based off either an search ed name or a string SecurityIdentifier from th...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00080">Administration.cs:80</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79fe7f8f358836c364eb1721bac471fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.GenCommsKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00247">247</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            var charsToRemove = <span class="keyword">new</span> <span class="keywordtype">string</span>[] { <span class="stringliteral">&quot;!&quot;</span>, <span class="stringliteral">&quot;@&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;$&quot;</span>, <span class="stringliteral">&quot;%&quot;</span>, <span class="stringliteral">&quot;^&quot;</span>, <span class="stringliteral">&quot;&amp;&quot;</span>, <span class="stringliteral">&quot;*&quot;</span>, <span class="stringliteral">&quot;(&quot;</span>, <span class="stringliteral">&quot;)&quot;</span>, <span class="stringliteral">&quot;_&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>, <span class="stringliteral">&quot;=&quot;</span>, <span class="stringliteral">&quot;[&quot;</span>, <span class="stringliteral">&quot;{&quot;</span>, <span class="stringliteral">&quot;]&quot;</span>, <span class="stringliteral">&quot;}&quot;</span>, <span class="stringliteral">&quot;;&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;&lt;&quot;</span>, <span class="stringliteral">&quot;&gt;&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;.&quot;</span>, <span class="stringliteral">&quot;/&quot;</span>, <span class="stringliteral">&quot;?&quot;</span> };</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a> = String.Empty;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">do</span> {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                var tmp = Membership.GeneratePassword(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9f3221023ca082a6adb52ee387ba664d">CommsKeyLen</a>, 0);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <span class="keywordflow">foreach</span> (var c <span class="keywordflow">in</span> charsToRemove)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    tmp = tmp.Replace(c, String.Empty);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a> += tmp;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            } <span class="keywordflow">while</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a>.Length &lt; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9f3221023ca082a6adb52ee387ba664d">CommsKeyLen</a>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a>.Substring(0, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9f3221023ca082a6adb52ee387ba664d">CommsKeyLen</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Service Comms Key set to: &quot;</span> + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.CommsKeySet);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a9f3221023ca082a6adb52ee387ba664d"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a9f3221023ca082a6adb52ee387ba664d">TGS.Server.Instance.CommsKeyLen</a></div><div class="ttdeci">const int CommsKeyLen</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00021">Interop.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1cf44712e4c4bc40aeafe001be3e8685"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">TGS.Server.Instance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00022">Interop.cs:22</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3888e58764d94b814d9e5493073ac318"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GenerateChangelog </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the html changelog  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#af1022c590a97bafbeab4b326e674f3c9">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01242">1242</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae09f4c1eea6852df2b225af315c2d4b1">GenerateChangelogImpl</a>(out error);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae09f4c1eea6852df2b225af315c2d4b1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae09f4c1eea6852df2b225af315c2d4b1">TGS.Server.Instance.GenerateChangelogImpl</a></div><div class="ttdeci">string GenerateChangelogImpl(out string error, bool recurse=false)</div><div class="ttdoc">Updates the html changelog </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01253">Repository.cs:1253</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae09f4c1eea6852df2b225af315c2d4b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GenerateChangelogImpl </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>recurse</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the html changelog </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>on success, error on failure</td></tr>
    <tr><td class="paramname">recurse</td><td>If , prevents a recursive call to this function after updating pip dependencies</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The output of the python script</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01253">1253</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00042">TGS.Server.Server.Config</a>, and <a class="el" href="_server_config_8cs_source.html#l00041">TGS.Server.ServerConfig.PythonPath</a>.</p>
<div class="fragment"><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            var RConfig = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">GetCachedRepoConfig</a>();</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="keywordflow">if</span> (RConfig == null)</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            {</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                error = null;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error loading changelog config!&quot;</span>;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            }</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="keywordflow">if</span> (!RConfig.ChangelogSupport)</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                error = null;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            }</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <span class="keywordtype">string</span> ChangelogPy = RConfig.PathToChangelogPy;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acbbd8b294a54c3573371c933467f5575">Exists</a>())</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                error = <span class="stringliteral">&quot;Repo does not exist!&quot;</span>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                {</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                    error = <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                <span class="keywordflow">if</span> (!File.Exists(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>), ChangelogPy)))</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                    error = <span class="stringliteral">&quot;Missing changelog generation script!&quot;</span>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                }</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                var pp = Server.Config.PythonPath;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                var PythonFile = Path.Combine(pp, <span class="stringliteral">&quot;python.exe&quot;</span>);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                <span class="keywordflow">if</span> (!File.Exists(PythonFile))</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                    error = <span class="stringliteral">&quot;Cannot locate python!&quot;</span>;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                    <span class="keywordtype">string</span> result;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                    <span class="keywordtype">int</span> exitCode;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                    <span class="keyword">using</span> (var python = <span class="keyword">new</span> Process())</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                    {</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                        python.StartInfo.FileName = PythonFile;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                        python.StartInfo.Arguments = String.Format(<span class="stringliteral">&quot;{0} {1}&quot;</span>, ChangelogPy, RConfig.ChangelogPyArguments);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                        python.StartInfo.UseShellExecute = <span class="keyword">false</span>;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                        python.StartInfo.WorkingDirectory = <span class="keyword">new</span> DirectoryInfo(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>)).FullName;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                        python.StartInfo.RedirectStandardOutput = <span class="keyword">true</span>;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                        python.Start();</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                        <span class="keyword">using</span> (StreamReader reader = python.StandardOutput)</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                        {</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                            result = reader.ReadToEnd();</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                        }</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                        python.WaitForExit();</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                        exitCode = python.ExitCode;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                    }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                    <span class="keywordflow">if</span> (exitCode != 0)</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                    {</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                        <span class="keywordflow">if</span> (recurse || RConfig.PipDependancies.Count == 0)</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                        {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                            error = <span class="stringliteral">&quot;Script failed!&quot;</span>;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                        }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                        <span class="comment">//update pip deps and try again</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                        <span class="keywordtype">string</span> PipFile = Path.Combine(pp, <span class="stringliteral">&quot;scripts&quot;</span>, <span class="stringliteral">&quot;pip.exe&quot;</span>);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                        <span class="keywordflow">foreach</span>(var I <span class="keywordflow">in</span> RConfig.PipDependancies)</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                            <span class="keyword">using</span> (var pip = <span class="keyword">new</span> Process())</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                            {</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                pip.StartInfo.FileName = PipFile;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                                pip.StartInfo.Arguments = <span class="stringliteral">&quot;install &quot;</span> + I;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                                pip.StartInfo.UseShellExecute = <span class="keyword">false</span>;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                                pip.StartInfo.RedirectStandardOutput = <span class="keyword">true</span>;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                                pip.Start();</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                                <span class="keyword">using</span> (StreamReader reader = pip.StandardOutput)</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                                {</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                                    result += <span class="stringliteral">&quot;\r\n---BEGIN-PIP-OUTPUT---\r\n&quot;</span> + reader.ReadToEnd();</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                                }</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                pip.WaitForExit();</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                                <span class="keywordflow">if</span> (pip.ExitCode != 0)</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                                {</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                    error = <span class="stringliteral">&quot;Script and pip failed!&quot;</span>;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                                }</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                            }</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                        <span class="comment">//and recurse</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae09f4c1eea6852df2b225af315c2d4b1">GenerateChangelogImpl</a>(out error, <span class="keyword">true</span>);</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                    }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                    error = null;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Changelog generated&quot;</span> + error, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoChangelog);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                }</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                    error = e.ToString();</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(<span class="stringliteral">&quot;Changelog generation failed: &quot;</span> + error, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoChangelogFail);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                }</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            }</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5445b16310369325042c5f678d330fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">TGS.Server.Instance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The Instance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">Repository.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae09f4c1eea6852df2b225af315c2d4b1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae09f4c1eea6852df2b225af315c2d4b1">TGS.Server.Instance.GenerateChangelogImpl</a></div><div class="ttdeci">string GenerateChangelogImpl(out string error, bool recurse=false)</div><div class="ttdoc">Updates the html changelog </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01253">Repository.cs:1253</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a42e57a4aa98fefe7c844ada8d6f2eb9a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">TGS.Server.Instance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00133">Repository.cs:133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acbbd8b294a54c3573371c933467f5575"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acbbd8b294a54c3573371c933467f5575">TGS.Server.Instance.Exists</a></div><div class="ttdeci">bool Exists()</div><div class="ttdoc">Check if the repository is valid, if not Setup(string, string) must be called  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00185">Repository.cs:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3a38e27cc6f790355d27a26af68b92e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FetchOptions TGS.Server.Instance.GenerateFetchOptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create FetchOptions that Prune and have the appropriate credentials and progress handler </p>
<dl class="section return"><dt>Returns</dt><dd>Properly configured FetchOptions</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01099">1099</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> FetchOptions()</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                CredentialsProvider = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">GenerateGitCredentials</a>,</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                OnTransferProgress = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2ec78124dea785dbd28b9dec109eb909">HandleTransferProgress</a>,</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                Prune = <span class="keyword">true</span>,</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            };</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2ec78124dea785dbd28b9dec109eb909"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2ec78124dea785dbd28b9dec109eb909">TGS.Server.Instance.HandleTransferProgress</a></div><div class="ttdeci">bool HandleTransferProgress(TransferProgress progress)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo transfer operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00196">Repository.cs:196</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5d3fc0a44c753811f92e13d02de32c0f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">TGS.Server.Instance.GenerateGitCredentials</a></div><div class="ttdeci">Credentials GenerateGitCredentials(string url, string usernameFromUrl, SupportedCredentialTypes types)</div><div class="ttdoc">SSH credentials callback. Properly sets up SSH keys for an authorization operation ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01224">Repository.cs:1224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d3fc0a44c753811f92e13d02de32c0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Credentials TGS.Server.Instance.GenerateGitCredentials </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>usernameFromUrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SupportedCredentialTypes&#160;</td>
          <td class="paramname"><em>types</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SSH credentials callback. Properly sets up SSH keys for an authorization operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>Ignored</td></tr>
    <tr><td class="paramname">usernameFromUrl</td><td>The username to use for the operation</td></tr>
    <tr><td class="paramname">types</td><td>The SupportedCredentialTypes for the operation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The proper Credentials for the operation</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01224">1224</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            var user = usernameFromUrl ?? <span class="stringliteral">&quot;git&quot;</span>;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            <span class="keywordflow">if</span> (types == SupportedCredentialTypes.UsernameQuery)</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> UsernameQueryCredentials()</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                {</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                    Username = user,</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                };</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> SshUserKeyCredentials()</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            {</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                Username = user,</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                PrivateKey = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a536bd20d4c5e1a84a48c0ef13928495c">PrivateKeyPath</a>),</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                PublicKey = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aaadb267170db9b85e56b13136a93da15">PublicKeyPath</a>),</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                Passphrase = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            };</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a536bd20d4c5e1a84a48c0ef13928495c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a536bd20d4c5e1a84a48c0ef13928495c">TGS.Server.Instance.PrivateKeyPath</a></div><div class="ttdeci">const string PrivateKeyPath</div><div class="ttdoc">The path to the private ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00049">Repository.cs:49</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aaadb267170db9b85e56b13136a93da15"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aaadb267170db9b85e56b13136a93da15">TGS.Server.Instance.PublicKeyPath</a></div><div class="ttdeci">const string PublicKeyPath</div><div class="ttdoc">The path to the public ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00053">Repository.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab58aae42424613af52009f69695d6f93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetBranch </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name of the current branch  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a32e266d4007ef588b9398c01b337af7a">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00462">462</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#abb80352fb834bb68a8eaa19458769dfe">GetShaOrBranch</a>(out error, <span class="keyword">true</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_abb80352fb834bb68a8eaa19458769dfe"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#abb80352fb834bb68a8eaa19458769dfe">TGS.Server.Instance.GetShaOrBranch</a></div><div class="ttdeci">string GetShaOrBranch(out string error, bool branch, bool tracked)</div><div class="ttdoc">Gets the SHA or branch name of the Repo&amp;#39;s HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00412">Repository.cs:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42e57a4aa98fefe7c844ada8d6f2eb9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html">RepoConfig</a> TGS.Server.Instance.GetCachedRepoConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html" title="Repository specific information for a Instance ">RepoConfig</a> for <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> </p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html" title="Repository specific information for a Instance ">RepoConfig</a> for <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a></dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00133">133</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> RepoConfig(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b">CachedTGS3SettingsPath</a>));</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab02a3f6b4183f965d6e7f1f3b69c771b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b">TGS.Server.Instance.CachedTGS3SettingsPath</a></div><div class="ttdeci">const string CachedTGS3SettingsPath</div><div class="ttdoc">Path to the Instance&amp;#39;s RepoConfig json </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00033">Repository.cs:33</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc0cbef7e2461246199ddb47774b7c4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetCommitterEmail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the email of the configured git committer  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a676f3c510897bdeff0084c7c918c2770">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01065">1065</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa88b19975b9e9a48cf8cc231d7758c8f">CommitterEmail</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aa88b19975b9e9a48cf8cc231d7758c8f"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa88b19975b9e9a48cf8cc231d7758c8f">TGS.Server.IInstanceConfig.CommitterEmail</a></div><div class="ttdeci">string CommitterEmail</div><div class="ttdoc">Author and committer e-mail for synchronize commits </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00064">InstanceConfig.cs:64</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a162aa702f81dabcb2835ba592068355c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetCommitterName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name of the configured git committer  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#ae1d15724f4c00e3b50aa21e7fd7d1071">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01053">1053</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ac927a173bbffd9de02a9d8a50cefeec7">CommitterName</a>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ac927a173bbffd9de02a9d8a50cefeec7"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ac927a173bbffd9de02a9d8a50cefeec7">TGS.Server.IInstanceConfig.CommitterName</a></div><div class="ttdeci">string CommitterName</div><div class="ttdoc">Author and committer name for synchronize commits </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00060">InstanceConfig.cs:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c55ee806eaed4ba948e0f045c63450d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetCurrentAuthorizedGroup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the windows group allowed to use the service other than administrator  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html#ae29ea25eabee2dbfa92ad981606b4b9f">TGS.Interface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00040">40</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TheDroidsWereLookingFor</a> == null)</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;ADMIN&quot;</span>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                </div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                <span class="keywordtype">string</span> res = null;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                    res = GroupPrincipal.FindByIdentity(<span class="keyword">new</span> PrincipalContext(ContextType.Machine), IdentityType.Sid, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TheDroidsWereLookingFor</a>.Value).Name;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="keywordflow">return</span> res ?? GroupPrincipal.FindByIdentity(<span class="keyword">new</span> PrincipalContext(ContextType.Domain), IdentityType.Sid, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TheDroidsWereLookingFor</a>.Value).Name;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">catch</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a122dbae4ff3d9cae4370490c8c3f6627"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TGS.Server.Instance.TheDroidsWereLookingFor</a></div><div class="ttdeci">SecurityIdentifier TheDroidsWereLookingFor</div><div class="ttdoc">The SecurityIdentifier of the Windows group authorized to access the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00017">Administration.cs:17</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20679ec5991fbf42f9fd98e38fc08018"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IDictionary&lt;string, IDictionary&lt;string, string&gt; &gt; TGS.Server.Instance.GetCurrentPRList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deserializes the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a> </p>
<dl class="section return"><dt>Returns</dt><dd>A IDictionary&lt;TKey, TValue&gt; of IDictionary&lt;TKey, TValue&gt;. The outer one is keyed by PR# the inner one is keyed by internal strings</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00873">873</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="keywordflow">if</span> (!File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">PRJobFile</a>)))</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Dictionary&lt;<span class="keywordtype">string</span>, IDictionary&lt;string, string&gt;&gt;();</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            var rawdata = File.ReadAllText(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">PRJobFile</a>));</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <span class="keywordflow">return</span> JsonConvert.DeserializeObject&lt;IDictionary&lt;string, IDictionary&lt;string, string&gt;&gt;&gt;(rawdata);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afabbb968df135f20d7dc6b9684bb3205"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">TGS.Server.Instance.PRJobFile</a></div><div class="ttdeci">const string PRJobFile</div><div class="ttdoc">File name for monitoring which github pull requests are currently test merged </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00057">Repository.cs:57</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6030958a6bb34345a20d70e190f75315"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the last update error. Checking this will clear the value  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html#a7521723a6adddd5038fa1db21d6f707c">TGS.Interface.Components.ITGByond</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00138">138</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                var error = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a> = null;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="keywordflow">return</span> error;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a59a9f31f1b34f1c903b9f1af34e707e7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">TGS.Server.Instance.lastError</a></div><div class="ttdeci">string lastError</div><div class="ttdoc">The last error the BYOND updater encountered </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00068">Byond.cs:68</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa48afaed61100daacb9a97366281837"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">TGS.Server.Instance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3802b60e80e99600116dfa0d07c8b7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetEventPath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the path of an event given an <em>eventName</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The name of the event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The path to the event handler</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00028">28</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;{0}{1}.bat&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab11cde4315f36ebad3ce66512c57deb1">EventFolder</a>), eventName);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab11cde4315f36ebad3ce66512c57deb1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab11cde4315f36ebad3ce66512c57deb1">TGS.Server.Instance.EventFolder</a></div><div class="ttdeci">const string EventFolder</div><div class="ttdoc">The instance directory for Preaction handlers </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00013">PreactionHandler.cs:13</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5b6c24c3b6a500397c482cbe2739790"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetHead </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useTracked</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the sha of the current HEAD  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#ab05378b80e50152611738cf2695bf3c1">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00456">456</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#abb80352fb834bb68a8eaa19458769dfe">GetShaOrBranch</a>(out error, <span class="keyword">false</span>, useTracked);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_abb80352fb834bb68a8eaa19458769dfe"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#abb80352fb834bb68a8eaa19458769dfe">TGS.Server.Instance.GetShaOrBranch</a></div><div class="ttdeci">string GetShaOrBranch(out string error, bool branch, bool tracked)</div><div class="ttdoc">Gets the SHA or branch name of the Repo&amp;#39;s HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00412">Repository.cs:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abeac01eeeff769611c0191173076f0e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetRemote </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the url of the current origin  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a52fa2a5aff75c7524c180d4e92ae9110">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00468">468</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    error = res;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                error = null;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Remotes[<span class="stringliteral">&quot;origin&quot;</span>].Url;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb80352fb834bb68a8eaa19458769dfe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetShaOrBranch </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>branch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tracked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the SHA or branch name of the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a>'s HEAD </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>on success, error message on failure</td></tr>
    <tr><td class="paramname">branch</td><td>If , returns the branch name instead of the SHA</td></tr>
    <tr><td class="paramname">tracked</td><td>If , returns the tracked branch SHA and ignores <em>branch</em> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The SHA or branch name of the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a>'s HEAD</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00412">412</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    error = <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8f55a135fbd9335e91378dc08239d139">GetShaOrBranchNoLock</a>(out error, branch, tracked);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8f55a135fbd9335e91378dc08239d139"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8f55a135fbd9335e91378dc08239d139">TGS.Server.Instance.GetShaOrBranchNoLock</a></div><div class="ttdeci">string GetShaOrBranchNoLock(out string error, bool branch, bool tracked)</div><div class="ttdoc">Gets the SHA or branch name of the Repo&amp;#39;s HEAD. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00432">Repository.cs:432</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8f55a135fbd9335e91378dc08239d139"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetShaOrBranchNoLock </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>branch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tracked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the SHA or branch name of the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a>'s HEAD. Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>on success, error message on failure</td></tr>
    <tr><td class="paramname">branch</td><td>If , returns the branch name instead of the SHA</td></tr>
    <tr><td class="paramname">tracked</td><td>If , returns the tracked branch SHA and ignores <em>branch</em> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The SHA or branch name of the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a>'s HEAD</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00432">432</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            var result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                error = result;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                error = null;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordflow">if</span> (tracked &amp;&amp; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.TrackedBranch != null)</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.TrackedBranch.Tip.Sha;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <span class="keywordflow">return</span> branch ? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.FriendlyName : <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.Tip.Sha;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8542d93b05d65677f7e972b17d16982e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetStagingDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00231">231</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordtype">string</span> TheDir;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">if</span> (!Directory.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a>)))</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                TheDir = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                File.Create(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a353cd56720d611c08c54d3ca058227ea">LiveDirTest</a>)).Close();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1d2612772994bc1fd21832808f33fa81">ADirTest</a>)))</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        TheDir = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a04a55046a02e4429bb209033ea330646">BDirTest</a>)))</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        TheDir = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">GameDirB</a>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Unable to determine current live directory!&quot;</span>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    File.Delete(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a353cd56720d611c08c54d3ca058227ea">LiveDirTest</a>));</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                TheDir = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac8d2405cd94bde93f012d76ea20b79e7">InvertDirectory</a>(TheDir);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="comment">//So TheDir is what the Live folder is NOT pointing to</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="comment">//Now we need to check if DD is running that folder and swap it if necessary</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            var rsclock = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(TheDir + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">ProjectName</a> + <span class="stringliteral">&quot;.rsc.lk&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keywordflow">if</span> (File.Exists(rsclock))</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    File.Delete(rsclock);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">catch</span>   <span class="comment">//held open by byond</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="comment">//This means there is a staged update waiting to be applied, we have to unstage it before we can work</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    Directory.Delete(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a>));</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a>), TheDir);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac8d2405cd94bde93f012d76ea20b79e7">InvertDirectory</a>(TheDir));</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(TheDir);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1d2612772994bc1fd21832808f33fa81"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1d2612772994bc1fd21832808f33fa81">TGS.Server.Instance.ADirTest</a></div><div class="ttdeci">const string ADirTest</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00035">Compiler.cs:35</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a5af21f03c5d23a6c94270a56f3bc0db8"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">TGS.Server.IInstanceConfig.ProjectName</a></div><div class="ttdeci">string ProjectName</div><div class="ttdoc">The name of the .dme/.dmb the Instance uses </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00035">InstanceConfig.cs:35</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a11a5205e6f76361d9c6c283c733e7f95"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">TGS.Server.Instance.GameDirA</a></div><div class="ttdeci">const string GameDirA</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00030">Compiler.cs:30</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab70169b31147444e4b4c1a2feba9b70e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">TGS.Server.Instance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a750a0126077424b663f06be73efe4c77"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">TGS.Server.Instance.CreateSymlink</a></div><div class="ttdeci">static void CreateSymlink(string link, string target)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00092">Compiler.cs:92</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a353cd56720d611c08c54d3ca058227ea"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a353cd56720d611c08c54d3ca058227ea">TGS.Server.Instance.LiveDirTest</a></div><div class="ttdeci">const string LiveDirTest</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00037">Compiler.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac8d2405cd94bde93f012d76ea20b79e7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac8d2405cd94bde93f012d76ea20b79e7">TGS.Server.Instance.InvertDirectory</a></div><div class="ttdeci">string InvertDirectory(string gameDirectory)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00279">Compiler.cs:279</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a04a55046a02e4429bb209033ea330646"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a04a55046a02e4429bb209033ea330646">TGS.Server.Instance.BDirTest</a></div><div class="ttdeci">const string BDirTest</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00036">Compiler.cs:36</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a363f31fbe2b0b7172d0288b694235b6c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">TGS.Server.Instance.GameDirB</a></div><div class="ttdeci">const string GameDirB</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00031">Compiler.cs:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a098d8cd0518167cec165f6ba744147eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a> TGS.Server.Instance.GetStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current compiler status  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#ad09bc56c6dddb2c812a1a47488dddeef">TGS.Interface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00060">60</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a277581d2109b82b7e94558007fb37595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.GetVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">ByondVersion</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the currently installed version as a string formatted as Major.Minor  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html#a7182de6422b6ebf72a8b94ad6d13f399">TGS.Interface.Components.ITGByond</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00149">149</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>Referenced by <a class="el" href="_byond_command_8cs_source.html#l00020">TGS.Server.ChatCommands.ByondCommand.Run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    <span class="keywordflow">if</span> (type == <a class="code" href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">ByondVersion</a>.Latest)</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        <span class="comment">//get the latest version from the website</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af60fa8ab17b53ba69e6969c87a121703">ByondLatestURL</a>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        var results = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        <span class="keyword">using</span> (HttpWebResponse response = (HttpWebResponse)request.GetResponse())</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                            <span class="keyword">using</span> (StreamReader reader = <span class="keyword">new</span> StreamReader(response.GetResponseStream()))</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                            {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                <span class="keywordtype">string</span> html = reader.ReadToEnd();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                Regex regex = <span class="keyword">new</span> Regex(<span class="stringliteral">&quot;\\\&quot;([^\&quot;]*)\\\&quot;&quot;</span>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                MatchCollection matches = regex.Matches(html);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                <span class="keywordflow">foreach</span> (Match match <span class="keywordflow">in</span> matches)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                    <span class="keywordflow">if</span> (match.Success &amp;&amp; match.Value.Contains(<span class="stringliteral">&quot;_byond.exe&quot;</span>))</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                        results.Add(match.Value.Replace(<span class="stringliteral">&quot;\&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).Replace(<span class="stringliteral">&quot;_byond.exe&quot;</span>, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                            }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        results.Sort();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        results.Reverse();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        <span class="keywordflow">return</span> results.Count &gt; 0 ? results[0] : null;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <span class="keywordtype">string</span> DirToUse = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(type == <a class="code" href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">ByondVersion</a>.Staged ? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa9e071ffa09425b32638f7700f0e6998">StagingDirectoryInner</a> : <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">ByondDirectory</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <span class="keywordflow">if</span> (Directory.Exists(DirToUse))</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                            <span class="keywordtype">string</span> file = DirToUse + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad58e7e902f1ae8301a067051c5b8479c">VersionFile</a>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                            <span class="keywordflow">if</span> (File.Exists(file))</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                <span class="keywordflow">return</span> File.ReadAllText(file);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: &quot;</span> + e.ToString();</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a9efa4ea461f8ca8f1c1f10b59dc4bc66"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">TGS.Server.Instance.ByondDirectory</a></div><div class="ttdeci">const string ByondDirectory</div><div class="ttdoc">The instance directory to store the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00018">Byond.cs:18</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa9e071ffa09425b32638f7700f0e6998"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa9e071ffa09425b32638f7700f0e6998">TGS.Server.Instance.StagingDirectoryInner</a></div><div class="ttdeci">const string StagingDirectoryInner</div><div class="ttdoc">Path to the actual BYOND installation within the StagingDirectory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00026">Byond.cs:26</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a1385bc6e3ab604932c185fe8bd6ad008"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a1385bc6e3ab604932c185fe8bd6ad008">TGS.Interface.ByondVersion</a></div><div class="ttdeci">ByondVersion</div><div class="ttdoc">Type of byond version </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00062">Enumerations.cs:62</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af60fa8ab17b53ba69e6969c87a121703"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af60fa8ab17b53ba69e6969c87a121703">TGS.Server.Instance.ByondLatestURL</a></div><div class="ttdeci">const string ByondLatestURL</div><div class="ttdoc">The URL for getting the latest BYOND version zipfile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00042">Byond.cs:42</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad58e7e902f1ae8301a067051c5b8479c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad58e7e902f1ae8301a067051c5b8479c">TGS.Server.Instance.VersionFile</a></div><div class="ttdeci">const string VersionFile</div><div class="ttdoc">The location of the BYOND version data of an installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00034">Byond.cs:34</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa48afaed61100daacb9a97366281837"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">TGS.Server.Instance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a277581d2109b82b7e94558007fb37595_icgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a277581d2109b82b7e94558007fb37595_icgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a277581d2109b82b7e94558007fb37595_icgraph" id="class_t_g_s_1_1_server_1_1_instance_a277581d2109b82b7e94558007fb37595_icgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_byond_command.html#ab88465b41f4dc1790ce9756211e9ede8" title="Override to do the actions of the Command &#160;" alt="" coords="264,5,453,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abf1b05ba88199291ea366ffec194d3d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.HandleCheckoutProgress </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>completedSteps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>totalSteps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da" title="Used for reporting operation progress to the TGS.Interface ">currentProgress</a> with the progess of the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a> checkout operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Ignored</td></tr>
    <tr><td class="paramname">completedSteps</td><td>Dividend for progress calculation</td></tr>
    <tr><td class="paramname">totalSteps</td><td>Divisor for progress calculation</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00208">208</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">currentProgress</a> = (int)(((<span class="keywordtype">float</span>)completedSteps / totalSteps) * 100);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af34ec3b6bf17a85bd373018a19cf54da"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">TGS.Server.Instance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGS.Interface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00087">Repository.cs:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a76b67e720a6d10892adcbc460af2a62f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.HandleCommand </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00092">92</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            var splits = <span class="keyword">new</span> List&lt;string&gt;(cmd.Split(<span class="charliteral">&#39; &#39;</span>));</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            cmd = splits[0];</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            splits.RemoveAt(0);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordtype">bool</span> APIValid;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">topicLock</a>)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                APIValid = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0682d849b31d91c475f93ae3960de0a6">CheckAPIVersionConstraints</a>();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">if</span> (!APIValid &amp;&amp; cmd != <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1573187e7d948ee500474b9a58f86ec7">SRAPIVersion</a>)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordflow">return</span>; <span class="comment">//SPEAK THE LANGUAGE!!!</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">switch</span> (cmd)</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2290e48ea565b2ac1e78eb73da732afe">SRIRCBroadcast</a>:</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;GAME: &quot;</span> + String.Join(<span class="stringliteral">&quot; &quot;</span>, splits), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.GameInfo);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aba675a0e6a86b635cb2036aea2678fbe">SRKillProcess</a>:</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a94bfbe235ce28e4f29001f79f16ad7e9">KillMe</a>();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a62c596891b48f1f82fe5a52f21830972">SRIRCAdminChannelMessage</a>:</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;RELAY: &quot;</span> + String.Join(<span class="stringliteral">&quot; &quot;</span>, splits), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.AdminInfo);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9985e98395e0edf86bf718872d6d3331">SRWorldReboot</a>:</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;World Rebooted&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.WorldReboot);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">WriteCurrentDDLog</a>(<span class="stringliteral">&quot;World rebooted&quot;</span>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa08b6bc42a06ba7088caabb6d98c6cd6">ServerChatCommands</a> = null;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a40a41b02fd430dabaea6e6dde3f087c7">ChatConnectivityCheck</a>();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aad79bfbe23fdb601f12bacaf3dfa6f84">UpdateStaged</a>)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                        {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aad79bfbe23fdb601f12bacaf3dfa6f84">UpdateStaged</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">topicLock</a>)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                            {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a> = null;  <span class="comment">//needs updating</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                            }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Staged update applied&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.ServerUpdateApplied);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                        }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1573187e7d948ee500474b9a58f86ec7">SRAPIVersion</a>:</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">topicLock</a>)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                        {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a> = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">Version</a>(splits[0]);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0682d849b31d91c475f93ae3960de0a6">CheckAPIVersionConstraints</a>())</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                        <span class="keywordflow">catch</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                        {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;API version of the game ({0}) is incompatible with the current supported API versions (3.{2}.x.x). Interop disabled.&quot;</span>, splits.Count &gt; 1 ? splits[1] : <span class="stringliteral">&quot;NULL&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa7b4d6c5e07fec11ef97d10df717a57f">AllowedMajorAPIVersion</a>), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.APIVersionMismatch);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a> = null;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    <span class="comment">//This needs to be done asyncronously otherwise DD won&#39;t be able to process it, because it&#39;s waiting for THIS THREAD to return</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    ThreadPool.QueueUserWorkItem(_ =&gt; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">SendCommand</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad9b09a2561149aa853596e6f0ad71a2e">SCAPICompat</a>));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a9985e98395e0edf86bf718872d6d3331"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a9985e98395e0edf86bf718872d6d3331">TGS.Server.Instance.SRWorldReboot</a></div><div class="ttdeci">const string SRWorldReboot</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00046">Interop.cs:46</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aba675a0e6a86b635cb2036aea2678fbe"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aba675a0e6a86b635cb2036aea2678fbe">TGS.Server.Instance.SRKillProcess</a></div><div class="ttdeci">const string SRKillProcess</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00043">Interop.cs:43</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a50ef3869e320d3d7c43859268da2a03a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">TGS.Server.Instance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00158">Interop.cs:158</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a06fedfc5265b7b47b9d38b518d1bcdfd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">TGS.Server.Instance.Version</a></div><div class="ttdeci">string Version()</div><div class="ttdoc">Retrieve&amp;#39;s the service&amp;#39;s version  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00108">Instance.cs:108</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a94bfbe235ce28e4f29001f79f16ad7e9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a94bfbe235ce28e4f29001f79f16ad7e9">TGS.Server.Instance.KillMe</a></div><div class="ttdeci">void KillMe()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00249">DreamDaemon.cs:249</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a935cbfa1c54a330b8afd2ff1a2709cca"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">TGS.Server.Instance.topicLock</a></div><div class="ttdeci">object topicLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00020">Interop.cs:20</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa7b4d6c5e07fec11ef97d10df717a57f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa7b4d6c5e07fec11ef97d10df717a57f">TGS.Server.Instance.AllowedMajorAPIVersion</a></div><div class="ttdeci">const int AllowedMajorAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00025">Interop.cs:25</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0ac4e6797d742a7cb055ce737de36e9c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">TGS.Server.Instance.WriteCurrentDDLog</a></div><div class="ttdeci">void WriteCurrentDDLog(string message)</div><div class="ttdoc">Write a message  to the CurrentDDLog. A timestamp will be prepended to it </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00291">DreamDaemon.cs:291</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a40a41b02fd430dabaea6e6dde3f087c7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a40a41b02fd430dabaea6e6dde3f087c7">TGS.Server.Instance.ChatConnectivityCheck</a></div><div class="ttdeci">void ChatConnectivityCheck()</div><div class="ttdoc">Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00211">Chat.cs:211</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a62c596891b48f1f82fe5a52f21830972"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a62c596891b48f1f82fe5a52f21830972">TGS.Server.Instance.SRIRCAdminChannelMessage</a></div><div class="ttdeci">const string SRIRCAdminChannelMessage</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00045">Interop.cs:45</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa08b6bc42a06ba7088caabb6d98c6cd6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa08b6bc42a06ba7088caabb6d98c6cd6">TGS.Server.Instance.ServerChatCommands</a></div><div class="ttdeci">List&lt; Command &gt; ServerChatCommands</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00066">Interop.cs:66</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad9b09a2561149aa853596e6f0ad71a2e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad9b09a2561149aa853596e6f0ad71a2e">TGS.Server.Instance.SCAPICompat</a></div><div class="ttdeci">const string SCAPICompat</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00035">Interop.cs:35</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1573187e7d948ee500474b9a58f86ec7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1573187e7d948ee500474b9a58f86ec7">TGS.Server.Instance.SRAPIVersion</a></div><div class="ttdeci">const string SRAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00047">Interop.cs:47</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aad79bfbe23fdb601f12bacaf3dfa6f84"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aad79bfbe23fdb601f12bacaf3dfa6f84">TGS.Server.Instance.UpdateStaged</a></div><div class="ttdeci">bool UpdateStaged</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00048">Compiler.cs:48</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2290e48ea565b2ac1e78eb73da732afe"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2290e48ea565b2ac1e78eb73da732afe">TGS.Server.Instance.SRIRCBroadcast</a></div><div class="ttdeci">const string SRIRCBroadcast</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00044">Interop.cs:44</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadbc57076386211c5940d4283ff28cd0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">TGS.Server.Instance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00026">Interop.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0682d849b31d91c475f93ae3960de0a6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0682d849b31d91c475f93ae3960de0a6">TGS.Server.Instance.CheckAPIVersionConstraints</a></div><div class="ttdeci">bool CheckAPIVersionConstraints()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00181">Interop.cs:181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadc860d38c61b9e3cb2a386d3e348981"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.HandleEvent </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs an event named <em>eventName</em>  if it exists </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The name of the event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the event handler exists and failed to run,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00048">48</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad6a9c48edf68396150d04640aae4ea5c">EventHandlerExists</a>(eventName))</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="comment">// We don&#39;t need a handler, so let&#39;s just fail silently.</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            var process = <span class="keyword">new</span> Process</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                StartInfo = <span class="keyword">new</span> ProcessStartInfo</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    FileName = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac3802b60e80e99600116dfa0d07c8b7e">GetEventPath</a>(eventName),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    UseShellExecute = <span class="keyword">false</span>,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                    RedirectStandardOutput = <span class="keyword">true</span>,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    RedirectStandardError = <span class="keyword">true</span>,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    CreateNoWindow = <span class="keyword">true</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            };</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            process.Start();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            process.WaitForExit();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            var stdout = process.StandardOutput.ReadToEnd();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            var stderr = process.StandardError.ReadToEnd();</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            var success = process.ExitCode == 0;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            var eventData = String.Format(<span class="stringliteral">&quot;Preaction Event: {0} @ {1} ran. Stdout:\n{2}\nStderr:\n{3}&quot;</span>, eventName, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac3802b60e80e99600116dfa0d07c8b7e">GetEventPath</a>(eventName), stdout, stderr);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> (success)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(eventData, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.PreactionEvent);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(eventData, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.PreactionFail);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">return</span> success;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad6a9c48edf68396150d04640aae4ea5c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad6a9c48edf68396150d04640aae4ea5c">TGS.Server.Instance.EventHandlerExists</a></div><div class="ttdeci">bool EventHandlerExists(string eventName)</div><div class="ttdoc">Check if an event handler for eventName  exists </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00038">PreactionHandler.cs:38</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac3802b60e80e99600116dfa0d07c8b7e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac3802b60e80e99600116dfa0d07c8b7e">TGS.Server.Instance.GetEventPath</a></div><div class="ttdeci">string GetEventPath(string eventName)</div><div class="ttdoc">Gets the path of an event given an eventName  </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00028">PreactionHandler.cs:28</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ec78124dea785dbd28b9dec109eb909"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.HandleTransferProgress </td>
          <td>(</td>
          <td class="paramtype">TransferProgress&#160;</td>
          <td class="paramname"><em>progress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da" title="Used for reporting operation progress to the TGS.Interface ">currentProgress</a> with the progess of the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a> transfer operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">progress</td><td>The TransferProgress of the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a> transfer operation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00196">196</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">currentProgress</a> = ((int)(((<span class="keywordtype">float</span>)progress.ReceivedObjects / progress.TotalObjects) * 100) / 2) +( (int)(((<span class="keywordtype">float</span>)progress.IndexedObjects / progress.TotalObjects) * 100) / 2);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af34ec3b6bf17a85bd373018a19cf54da"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">TGS.Server.Instance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGS.Interface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00087">Repository.cs:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a241f46efaa6b53c241f502de9326fb1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitAdministration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00032">32</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

<p>References <a class="el" href="_root_authorization_manager_8cs_source.html#l00016">TGS.Server.Security.RootAuthorizationManager.InstanceAuthManagers</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            lock(<a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html">RootAuthorizationManager</a>.<a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html#a9bd81a375303ee52616baba77b1b329e">InstanceAuthManagers</a>)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html">RootAuthorizationManager</a>.InstanceAuthManagers.Add(this);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0f7563f9db47ae1cfb2716377bd9a624">FindTheDroidsWereLookingFor</a>();</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html">TGS.Server.Security.RootAuthorizationManager</a></div><div class="ttdoc">A ServiceAuthorizationManager used to determine only if the caller is an admin </div><div class="ttdef"><b>Definition:</b> <a href="_root_authorization_manager_8cs_source.html#l00013">RootAuthorizationManager.cs:13</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager_html_a9bd81a375303ee52616baba77b1b329e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_security_1_1_root_authorization_manager.html#a9bd81a375303ee52616baba77b1b329e">TGS.Server.Security.RootAuthorizationManager.InstanceAuthManagers</a></div><div class="ttdeci">static readonly IList&lt; ServiceAuthorizationManager &gt; InstanceAuthManagers</div><div class="ttdef"><b>Definition:</b> <a href="_root_authorization_manager_8cs_source.html#l00016">RootAuthorizationManager.cs:16</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0f7563f9db47ae1cfb2716377bd9a624"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0f7563f9db47ae1cfb2716377bd9a624">TGS.Server.Instance.FindTheDroidsWereLookingFor</a></div><div class="ttdeci">string FindTheDroidsWereLookingFor(string search=null, bool useDomain=false)</div><div class="ttdoc">Set TheDroidsWereLookingFor based off either an search ed name or a string SecurityIdentifier from th...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00080">Administration.cs:80</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a528e107d5b9f90f22ba68a4737e5f850"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitByond </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> is setup. Prepares the BYOND updater </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00077">77</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a159ebf40e20cc296bbb2bc2a0986a8ac">CleanByondStaging</a>();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a159ebf40e20cc296bbb2bc2a0986a8ac"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a159ebf40e20cc296bbb2bc2a0986a8ac">TGS.Server.Instance.CleanByondStaging</a></div><div class="ttdeci">void CleanByondStaging()</div><div class="ttdoc">Cleans the BYOND staging directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00085">Byond.cs:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6791c9be7a1f6784b1b84d3365ba5151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitChat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the <a class="el" href="namespace_t_g_s_1_1_server_1_1_chat_providers.html">ChatProviders</a> for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00031">31</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a4f10743426559ccd8c522d49d10106ce">TGS.Server.ChatProviders.IChatProvider.Connect()</a>, and <a class="el" href="_chat_provider_8cs_source.html#l00038">TGS.Server.ChatProviders.IChatProvider.OnChatMessage</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            var infos = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af92fd5a1d84bdc9ca61284557561d5c0">InitProviderInfos</a>();</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a> = <span class="keyword">new</span> List&lt;IChatProvider&gt;(infos.Count);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <span class="keywordflow">foreach</span> (var info <span class="keywordflow">in</span> infos)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                <a class="code" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a> chatProvider;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                    <span class="keywordflow">switch</span> (info.Provider)</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                    {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a>.Discord:</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                            chatProvider = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_chat_providers_1_1_discord_chat_provider.html">DiscordChatProvider</a>(info);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a>.IRC:</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                            chatProvider = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_chat_providers_1_1_i_r_c_chat_provider.html">IRCChatProvider</a>(info);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(String.Format(<span class="stringliteral">&quot;Invalid chat provider: {0}&quot;</span>, info.Provider), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.InvalidChatProvider);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                    }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(String.Format(<span class="stringliteral">&quot;Failed to start chat provider {0}! Error: {1}&quot;</span>, info.Provider, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.ChatProviderStartFail);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                chatProvider.<a class="code" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#ab5b830098a3f927def58c2bf1f476bb2">OnChatMessage</a> += <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6f1914e254474070254a2666226455d1">ChatProvider_OnChatMessage</a>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                var res = chatProvider.<a class="code" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a4f10743426559ccd8c522d49d10106ce">Connect</a>();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Unable to connect to chat! Provider {0}, Error: {1}&quot;</span>, chatProvider.GetType().ToString(), res), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.ChatConnectFail);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a>.Add(chatProvider);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider_html_a4f10743426559ccd8c522d49d10106ce"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a4f10743426559ccd8c522d49d10106ce">TGS.Server.ChatProviders.IChatProvider.Connect</a></div><div class="ttdeci">string Connect()</div><div class="ttdoc">Connects the chat provider if it&amp;#39;s enabled </div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af92fd5a1d84bdc9ca61284557561d5c0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af92fd5a1d84bdc9ca61284557561d5c0">TGS.Server.Instance.InitProviderInfos</a></div><div class="ttdeci">IList&lt; ChatSetupInfo &gt; InitProviderInfos()</div><div class="ttdoc">Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00134">Chat.cs:134</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6f1914e254474070254a2666226455d1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6f1914e254474070254a2666226455d1">TGS.Server.Instance.ChatProvider_OnChatMessage</a></div><div class="ttdeci">void ChatProvider_OnChatMessage(IChatProvider ChatProvider, string speaker, string channel, string message, bool isAdmin, bool isAdminChannel)</div><div class="ttdoc">Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00075">Chat.cs:75</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider_html_ab5b830098a3f927def58c2bf1f476bb2"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#ab5b830098a3f927def58c2bf1f476bb2">TGS.Server.ChatProviders.IChatProvider.OnChatMessage</a></div><div class="ttdeci">OnChatMessage OnChatMessage</div><div class="ttdoc">Called with chat message info </div><div class="ttdef"><b>Definition:</b> <a href="_chat_provider_8cs_source.html#l00038">ChatProvider.cs:38</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_chat_providers_1_1_discord_chat_provider_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_chat_providers_1_1_discord_chat_provider.html">TGS.Server.ChatProviders.DiscordChatProvider</a></div><div class="ttdoc">IChatProvider for Discord: https://discordapp.com/ </div><div class="ttdef"><b>Definition:</b> <a href="_discord_chat_provider_8cs_source.html#l00014">DiscordChatProvider.cs:14</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_chat_providers_1_1_i_r_c_chat_provider_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_chat_providers_1_1_i_r_c_chat_provider.html">TGS.Server.ChatProviders.IRCChatProvider</a></div><div class="ttdoc">IChatProvider for internet relay chat </div><div class="ttdef"><b>Definition:</b> <a href="_i_r_c_chat_provider_8cs_source.html#l00012">IRCChatProvider.cs:12</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a92962bd476db8f04fa4a1a765e9f43a1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">TGS.Server.Instance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00022">Chat.cs:22</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a697d691c1d8794ac9898b4fe67f983c2"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">TGS.Interface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00080">Enumerations.cs:80</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider_html"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html">TGS.Server.ChatProviders.IChatProvider</a></div><div class="ttdoc">Interface for a chat provder service </div><div class="ttdef"><b>Definition:</b> <a href="_chat_provider_8cs_source.html#l00020">ChatProvider.cs:20</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a6791c9be7a1f6784b1b84d3365ba5151_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a6791c9be7a1f6784b1b84d3365ba5151_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a6791c9be7a1f6784b1b84d3365ba5151_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a6791c9be7a1f6784b1b84d3365ba5151_cgraph">
<area shape="rect" id="node2" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html#a4f10743426559ccd8c522d49d10106ce" title="Connects the chat provider if it&#39;s enabled " alt="" coords="243,5,419,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a622bf2039a525407f0eec0399a0e4588"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitCompiler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00051">51</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            var rldt = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a353cd56720d611c08c54d3ca058227ea">LiveDirTest</a>);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">if</span> (File.Exists(rldt))</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                File.Delete(rldt);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">IsInitialized</a>();</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a353cd56720d611c08c54d3ca058227ea"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a353cd56720d611c08c54d3ca058227ea">TGS.Server.Instance.LiveDirTest</a></div><div class="ttdeci">const string LiveDirTest</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00037">Compiler.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1a9dc063b6715f796fab85843732c004"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">TGS.Server.Instance.IsInitialized</a></div><div class="ttdeci">CompilerStatus IsInitialized()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00120">Compiler.cs:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2f1cfb897b842dde32d5f2299144f2d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitDreamDaemon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup or reattach the watchdog, depending on <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#ad3e4a6bab7ee26a179c806db221144be">InstanceConfig.ReattachRequired</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a>, and create the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628" title="Directory for storing DreamDaemon diagnostic files ">DiagnosticsDir</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00097">97</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628">DiagnosticsDir</a>));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891">ResourceDiagnosticsDir</a>));</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            var <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#adc21c412fa14d5b973a89ee126bae009">Reattach</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">ReattachRequired</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">if</span> (Reattach)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a> = Process.GetProcessById(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae1629c70ddb61fe6e00f77e2a9fb6a76">ReattachProcessID</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a> == null)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;GetProcessById returned null!&quot;</span>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Reattached to running DD process!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DDReattachSuccess);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    ThreadPool.QueueUserWorkItem(_ =&gt;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                        Thread.Sleep(5000);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DD: Update complete. Watch dog reactivated...&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    });</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    <span class="comment">//start wd </span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">restartLock</a>)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a781f077de8c59157761c92e7984b5f66">ReattachInsteadOfRestart</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a1cbc17332d0eefb340bd2387a9755e5b">ReattachPort</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#af5f0f82a970d050e0f03ab2d091164cd">ReattachCommsKey</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a> = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">Version</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a48d32ac820ce9ef4730ad341c44d836b">ReattachAPIVersion</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">DDWatchdog</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a997fa4bfb2ab7d7034d33c5ae8268894">Watchdog</a>));</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">DDWatchdog</a>.Start();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(String.Format(<span class="stringliteral">&quot;Failed to reattach to DreamDaemon! PID: {0}. Exception: {1}&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae1629c70ddb61fe6e00f77e2a9fb6a76">ReattachProcessID</a>, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DDReattachFail);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">ReattachRequired</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">Save</a>();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a> == null)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a> = <span class="keyword">new</span> Process();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.StartInfo.FileName = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">ByondDirectory</a> + <span class="stringliteral">&quot;/bin/dreamdaemon.exe&quot;</span>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.StartInfo.UseShellExecute = <span class="keyword">false</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (Reattach)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment">//autostart the server</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a045bd73be1503f1a09f35a9aec231e32">Autostart</a>)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="comment">//break this off so we don&#39;t hold up starting the service</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                ThreadPool.QueueUserWorkItem(_ =&gt; { <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09aac30b5663a766ec55ee415b954f2b">Start</a>(); });</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a9efa4ea461f8ca8f1c1f10b59dc4bc66"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a9efa4ea461f8ca8f1c1f10b59dc4bc66">TGS.Server.Instance.ByondDirectory</a></div><div class="ttdeci">const string ByondDirectory</div><div class="ttdoc">The instance directory to store the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00018">Byond.cs:18</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85b6d2d0e931f3961b0c1a75577d13dc"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">TGS.Server.Instance.DDWatchdog</a></div><div class="ttdeci">Thread DDWatchdog</div><div class="ttdoc">The thread that monitors the status of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00057">DreamDaemon.cs:57</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_adc21c412fa14d5b973a89ee126bae009"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#adc21c412fa14d5b973a89ee126bae009">TGS.Server.Instance.Reattach</a></div><div class="ttdeci">void Reattach(bool silent)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00117">Instance.cs:117</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a06fedfc5265b7b47b9d38b518d1bcdfd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">TGS.Server.Instance.Version</a></div><div class="ttdeci">string Version()</div><div class="ttdoc">Retrieve&amp;#39;s the service&amp;#39;s version  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00108">Instance.cs:108</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af8f30af9b177beb6c309e05d0d56be33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">TGS.Server.Instance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aaf6f1302e487564be3dba0a01c087628"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628">TGS.Server.Instance.DiagnosticsDir</a></div><div class="ttdeci">const string DiagnosticsDir</div><div class="ttdoc">Directory for storing DreamDaemon diagnostic files </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00027">DreamDaemon.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aa9f5fc4a9216acecfa6a8f194cbc72e0"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">TGS.Server.IInstanceConfig.ReattachRequired</a></div><div class="ttdeci">bool ReattachRequired</div><div class="ttdoc">If the Instance should reattach to a running DreamDaemon System.Diagnostics.Process ...</div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00079">InstanceConfig.cs:79</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a26228c8ac1afc018e956a7e7ab7c9891"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891">TGS.Server.Instance.ResourceDiagnosticsDir</a></div><div class="ttdeci">const string ResourceDiagnosticsDir</div><div class="ttdoc">Directory for storing DreamDaemon ResourceUsage files </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00031">DreamDaemon.cs:31</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5863c8e752bf5bf1c25fa4aedad37378"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">TGS.Server.Instance.RestartInProgress</a></div><div class="ttdeci">bool RestartInProgress</div><div class="ttdoc">Used to indicate if an intentional restart is in progress on the watchdog. Requires restartLock to ac...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00078">DreamDaemon.cs:78</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ae1629c70ddb61fe6e00f77e2a9fb6a76"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae1629c70ddb61fe6e00f77e2a9fb6a76">TGS.Server.IInstanceConfig.ReattachProcessID</a></div><div class="ttdeci">int ReattachProcessID</div><div class="ttdoc">The System.Diagnostics.Process.Id of the runnning DreamDaemon System.Diagnostics.Process ...</div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00084">InstanceConfig.cs:84</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a045bd73be1503f1a09f35a9aec231e32"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a045bd73be1503f1a09f35a9aec231e32">TGS.Server.IInstanceConfig.Autostart</a></div><div class="ttdeci">bool Autostart</div><div class="ttdoc">Whether or not the Instance should immediately start DreamDaemon when activated </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00050">InstanceConfig.cs:50</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_af5f0f82a970d050e0f03ab2d091164cd"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#af5f0f82a970d050e0f03ab2d091164cd">TGS.Server.IInstanceConfig.ReattachCommsKey</a></div><div class="ttdeci">string ReattachCommsKey</div><div class="ttdoc">The serviceCommsKey the runnning DreamDaemon System.Diagnostics.Process was launched on ...</div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00094">InstanceConfig.cs:94</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a8456c8ae4b83292059709e1d4dcbcce0"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">TGS.Server.IInstanceConfig.Save</a></div><div class="ttdeci">void Save()</div><div class="ttdoc">Saves the IInstanceConfig to it&amp;#39;s Instance Directory </div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1cf44712e4c4bc40aeafe001be3e8685"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">TGS.Server.Instance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00022">Interop.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09aac30b5663a766ec55ee415b954f2b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09aac30b5663a766ec55ee415b954f2b">TGS.Server.Instance.Start</a></div><div class="ttdeci">string Start()</div><div class="ttdoc">Starts the server if it isn&amp;#39;t running  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00480">DreamDaemon.cs:480</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a48d32ac820ce9ef4730ad341c44d836b"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a48d32ac820ce9ef4730ad341c44d836b">TGS.Server.IInstanceConfig.ReattachAPIVersion</a></div><div class="ttdeci">string ReattachAPIVersion</div><div class="ttdoc">The API version of the runnning DreamDaemon System.Diagnostics.Process </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00099">InstanceConfig.cs:99</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a997fa4bfb2ab7d7034d33c5ae8268894"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a997fa4bfb2ab7d7034d33c5ae8268894">TGS.Server.Instance.Watchdog</a></div><div class="ttdeci">void Watchdog()</div><div class="ttdoc">Threaded loop that keeps DreamDaemon from unintentionally stopping </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00304">DreamDaemon.cs:304</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4e1de416ca840519b72c26d3018afeaa"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">TGS.Server.Instance.restartLock</a></div><div class="ttdeci">object restartLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00074">DreamDaemon.cs:74</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a1cbc17332d0eefb340bd2387a9755e5b"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a1cbc17332d0eefb340bd2387a9755e5b">TGS.Server.IInstanceConfig.ReattachPort</a></div><div class="ttdeci">ushort ReattachPort</div><div class="ttdoc">The port the runnning DreamDaemon System.Diagnostics.Process was launched on </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00089">InstanceConfig.cs:89</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadbc57076386211c5940d4283ff28cd0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">TGS.Server.Instance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00026">Interop.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a781f077de8c59157761c92e7984b5f66"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a781f077de8c59157761c92e7984b5f66">TGS.Server.Instance.ReattachInsteadOfRestart</a></div><div class="ttdeci">bool ReattachInsteadOfRestart</div><div class="ttdoc">Used to indicate if an service restart is in progress on the watchdog. Requires restartLock to access...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00082">DreamDaemon.cs:82</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7bf652d7d02976801c7a4781e65da93f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">TGS.Server.Instance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a018bb677436bfb6814750fb1ee71b16f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitEventHandlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab11cde4315f36ebad3ce66512c57deb1" title="The instance directory for Preaction handlers ">EventFolder</a> </p>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00018">18</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab11cde4315f36ebad3ce66512c57deb1">EventFolder</a>));</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab11cde4315f36ebad3ce66512c57deb1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab11cde4315f36ebad3ce66512c57deb1">TGS.Server.Instance.EventFolder</a></div><div class="ttdeci">const string EventFolder</div><div class="ttdoc">The instance directory for Preaction handlers </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00013">PreactionHandler.cs:13</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29a3c86b836454d030d1ea31a7a6faf9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitialConfigureRepository </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initial setup for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a> and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00337">337</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00102">TGS.Server.Helpers.CopyDirectory()</a>, and <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00018">TGS.Server.Helpers.CopyFileForceDirectories()</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>));</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9">UpdateBridgeDll</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1f4b564db63526863dacc273a6715801">UpdateTGS3Json</a>();</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            var <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">GetCachedRepoConfig</a>(); <span class="comment">//RepoBusy is set if we&#39;re here</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">foreach</span>(var I <span class="keywordflow">in</span> Config.StaticDirectoryPaths)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    var source = Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>), I);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    var dest = Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>), I);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    <span class="keywordflow">if</span> (Directory.Exists(source))</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                        <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.CopyDirectory(source, dest);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                        Directory.CreateDirectory(dest);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Could not setup static directory: &quot;</span> + I, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoConfigurationFail);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">foreach</span>(var I <span class="keywordflow">in</span> Config.DLLPaths)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    var source = Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>), I);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    <span class="keywordflow">if</span> (!File.Exists(source))</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(<span class="stringliteral">&quot;Could not find DLL: &quot;</span> + I, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoConfigurationFail);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    var dest = Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>), I);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.CopyFileForceDirectories(source, dest, <span class="keyword">false</span>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Could not setup static DLL: &quot;</span> + I, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoConfigurationFail);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a124a5b5441422817b08d3eaf3ec155a9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9">TGS.Server.Instance.UpdateBridgeDll</a></div><div class="ttdeci">void UpdateBridgeDll(bool overwrite)</div><div class="ttdoc">Copies BridgeDLLName from the program directory to the the Instance directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00526">DreamDaemon.cs:526</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5445b16310369325042c5f678d330fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">TGS.Server.Instance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The Instance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">Repository.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a42e57a4aa98fefe7c844ada8d6f2eb9a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">TGS.Server.Instance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00133">Repository.cs:133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1f4b564db63526863dacc273a6715801"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1f4b564db63526863dacc273a6715801">TGS.Server.Instance.UpdateTGS3Json</a></div><div class="ttdeci">string UpdateTGS3Json()</div><div class="ttdoc">Updates the CachedTGS3SettingsPath with the RepoTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00318">Repository.cs:318</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae497ee38d040cef22bc35af14942ca54"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">TGS.Server.Instance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a29a3c86b836454d030d1ea31a7a6faf9_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a29a3c86b836454d030d1ea31a7a6faf9_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a29a3c86b836454d030d1ea31a7a6faf9_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a29a3c86b836454d030d1ea31a7a6faf9_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#a5c7123b266b9815f4ef6247a0b21387c" title="Recusively copy a directory " alt="" coords="228,5,451,32"/>
<area shape="rect" id="node3" href="class_t_g_s_1_1_server_1_1_helpers.html#a40624df8add53e83b2ebdb7d446b70fe" title="Copy a file from source &#160;to dest , but first ensure the destination directory exists ..." alt="" coords="244,57,435,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac61c4384180d7f6ed5143060c6051e53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder. Requires the repository to be set up and locks it once the compilation stage starts. Runs asyncronously from this call  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#a4a88d37bceae64ff12e9cf1517f57ed8">TGS.Interface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00105">105</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a23f1964bdd8fbef73bb0051869e6a05f">CompilerIdleNoLock</a>())</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = null;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initializing;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0b0722550ec5420578e4201ad41eebab">InitializeImpl</a>));</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">CompilerThread</a>.Start();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0b0722550ec5420578e4201ad41eebab"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0b0722550ec5420578e4201ad41eebab">TGS.Server.Instance.InitializeImpl</a></div><div class="ttdeci">void InitializeImpl()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00144">Compiler.cs:144</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4270720d0fdafb1bce877eda81e65c1c"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">TGS.Interface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00117">Enumerations.cs:117</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a23f1964bdd8fbef73bb0051869e6a05f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a23f1964bdd8fbef73bb0051869e6a05f">TGS.Server.Instance.CompilerIdleNoLock</a></div><div class="ttdeci">bool CompilerIdleNoLock()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00099">Compiler.cs:99</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7a892be6eee558d2be0006b156153098"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">TGS.Server.Instance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00041">Compiler.cs:41</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a98c3251eba0e6d6e2a2624afe82ef399"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a98c3251eba0e6d6e2a2624afe82ef399">TGS.Server.Instance.CompilerThread</a></div><div class="ttdeci">Thread CompilerThread</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0b0722550ec5420578e4201ad41eebab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitializeImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00144">144</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00035">TGS.Server.Helpers.DeleteDirectory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>() != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;Dream daemon must not be running&quot;</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">IsInitialized</a>();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acbbd8b294a54c3573371c933467f5575">Exists</a>()) <span class="comment">//repo</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;Repository is not setup!&quot;</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">IsInitialized</a>();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa279ed5a9e086c8ce04c4af07be0fe51">RepoConfigsMatch</a>())</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = <span class="stringliteral">&quot;Repository TGS3.json does not match cached version! Please update the config appropriately!&quot;</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">IsInitialized</a>();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: Setting up symlinks...&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1365351782327c0a728b7c13844d5640">CleanGameFolder</a>();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">GameDir</a>));</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>));</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">GameDirB</a>));</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    var rep_config = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <span class="keywordflow">if</span> (rep_config != null) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> rep_config.StaticDirectoryPaths)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>, I)), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>, I)));</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> rep_config.DLLPaths)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>, I)), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>, I)));</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    var rbdlln = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>)), rbdlln);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">GameDirB</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>)), rbdlln);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">CreateSymlink</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a>), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>));</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    </div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Compiling;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acfdb311619c660facd5659060f88781c">silentCompile</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DM: Setup failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Compiler Initialization Error: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DMInitializeCrash);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">lastCompilerError</a> = e.ToString();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Uninitialized;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa79ac78da881640ab95b4774701d2a2">CompileImpl</a>();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac6267c88a28d1fdc4987103c97b401c7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">TGS.Server.Instance.BridgeDLLName</a></div><div class="ttdeci">const string BridgeDLLName</div><div class="ttdoc">The file name of the .dll that contains the ITGInterop bridge class </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00056">Interop.cs:56</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad2e5d772eaace27ad4d3d5fe5361282c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">TGS.Server.Instance.GameDir</a></div><div class="ttdeci">const string GameDir</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00029">Compiler.cs:29</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a11a5205e6f76361d9c6c283c733e7f95"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">TGS.Server.Instance.GameDirA</a></div><div class="ttdeci">const string GameDirA</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00030">Compiler.cs:30</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa279ed5a9e086c8ce04c4af07be0fe51"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa279ed5a9e086c8ce04c4af07be0fe51">TGS.Server.Instance.RepoConfigsMatch</a></div><div class="ttdeci">bool RepoConfigsMatch()</div><div class="ttdoc">Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00116">Repository.cs:116</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a47db323cec0b5a5f9248a7ba94801b73"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a47db323cec0b5a5f9248a7ba94801b73">TGS.Server.Instance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab70169b31147444e4b4c1a2feba9b70e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">TGS.Server.Instance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a750a0126077424b663f06be73efe4c77"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a750a0126077424b663f06be73efe4c77">TGS.Server.Instance.CreateSymlink</a></div><div class="ttdeci">static void CreateSymlink(string link, string target)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00092">Compiler.cs:92</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acfdb311619c660facd5659060f88781c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acfdb311619c660facd5659060f88781c">TGS.Server.Instance.silentCompile</a></div><div class="ttdeci">bool silentCompile</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00046">Compiler.cs:46</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa79ac78da881640ab95b4774701d2a2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa79ac78da881640ab95b4774701d2a2">TGS.Server.Instance.CompileImpl</a></div><div class="ttdeci">void CompileImpl()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00288">Compiler.cs:288</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a42e57a4aa98fefe7c844ada8d6f2eb9a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">TGS.Server.Instance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00133">Repository.cs:133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1365351782327c0a728b7c13844d5640"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1365351782327c0a728b7c13844d5640">TGS.Server.Instance.CleanGameFolder</a></div><div class="ttdeci">void CleanGameFolder()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00128">Compiler.cs:128</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4270720d0fdafb1bce877eda81e65c1c"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">TGS.Interface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00117">Enumerations.cs:117</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1a9dc063b6715f796fab85843732c004"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1a9dc063b6715f796fab85843732c004">TGS.Server.Instance.IsInitialized</a></div><div class="ttdeci">CompilerStatus IsInitialized()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00120">Compiler.cs:120</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae497ee38d040cef22bc35af14942ca54"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">TGS.Server.Instance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7a892be6eee558d2be0006b156153098"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7a892be6eee558d2be0006b156153098">TGS.Server.Instance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00041">Compiler.cs:41</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a363f31fbe2b0b7172d0288b694235b6c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">TGS.Server.Instance.GameDirB</a></div><div class="ttdeci">const string GameDirB</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00031">Compiler.cs:31</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acbbd8b294a54c3573371c933467f5575"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acbbd8b294a54c3573371c933467f5575">TGS.Server.Instance.Exists</a></div><div class="ttdeci">bool Exists()</div><div class="ttdoc">Check if the repository is valid, if not Setup(string, string) must be called  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00185">Repository.cs:185</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a0b0722550ec5420578e4201ad41eebab_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a0b0722550ec5420578e4201ad41eebab_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a0b0722550ec5420578e4201ad41eebab_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a0b0722550ec5420578e4201ad41eebab_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#a5b1d1510ab671f24b98ecafa79f98c00" title="Recursive directory deleter " alt="" coords="269,5,447,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af92fd5a1d84bdc9ca61284557561d5c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html">ChatSetupInfo</a>&gt; TGS.Server.Instance.InitProviderInfos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set </p>
<dl class="section return"><dt>Returns</dt><dd>A list of ChatSetupInfos loaded from the config or the defaults if none are set</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00134">134</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5eb2c7e91e5df165a4e705f606af9173">ChatLock</a>)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                var rawdata = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aff36a4bcaefa978a2063e3abe8b56dbf">ChatProviderData</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keywordflow">if</span> (rawdata == <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab4d494c522d7d11a1889003a6f6d6c59">UninitializedString</a>)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">new</span> List&lt;ChatSetupInfo&gt;() { <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_interface_1_1_i_r_c_setup_info.html">IRCSetupInfo</a>() { Nickname = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a3833c4e4629bced994a5d641f49d1e13">Name</a> }, <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_interface_1_1_discord_setup_info.html">DiscordSetupInfo</a>() };</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="keywordtype">string</span> plaintext;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    plaintext = Interface.Helpers.DecryptData(rawdata, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aecf4b0ab864932679951664a4bd7958c">ChatProviderEntropy</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    </div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    var lists = JsonConvert.DeserializeObject&lt;List&lt;List&lt;string&gt;&gt;&gt;(plaintext);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    var output = <span class="keyword">new</span> List&lt;ChatSetupInfo&gt;(lists.Count);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    var foundirc = 0;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    var founddiscord = 0;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    <span class="keywordflow">foreach</span> (var l <span class="keywordflow">in</span> lists)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        var info = <span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html">ChatSetupInfo</a>(l);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                        <span class="keywordflow">if</span> (info.Provider == <a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a>.Discord)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                            ++founddiscord;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.Provider == <a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a>.IRC)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                            ++foundirc;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        output.Add(info);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    <span class="keywordflow">if</span> (foundirc != 1 || founddiscord != 1)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    </div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    <span class="keywordflow">return</span> output;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aff36a4bcaefa978a2063e3abe8b56dbf">ChatProviderData</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab4d494c522d7d11a1889003a6f6d6c59">UninitializedString</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="comment">//if we get here we want to retry</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af92fd5a1d84bdc9ca61284557561d5c0">InitProviderInfos</a>();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_interface_1_1_discord_setup_info_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_discord_setup_info.html">TGS.Interface.DiscordSetupInfo</a></div><div class="ttdoc">Chat provider for Discord. Admin entires should be user ids in normal mode or group ids in special mo...</div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00306">ChatSetupInfo.cs:306</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_i_r_c_setup_info_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_i_r_c_setup_info.html">TGS.Interface.IRCSetupInfo</a></div><div class="ttdoc">Chat provider for IRC. Admin entries should be user nicknames in normal mode or required channel flag...</div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00216">ChatSetupInfo.cs:216</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aff36a4bcaefa978a2063e3abe8b56dbf"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aff36a4bcaefa978a2063e3abe8b56dbf">TGS.Server.IInstanceConfig.ChatProviderData</a></div><div class="ttdeci">string ChatProviderData</div><div class="ttdoc">Encrypted serialized ChatSetupInfos </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00069">InstanceConfig.cs:69</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_chat_setup_info_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html">TGS.Interface.ChatSetupInfo</a></div><div class="ttdoc">For setting up authentication no matter the chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00014">ChatSetupInfo.cs:14</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af92fd5a1d84bdc9ca61284557561d5c0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af92fd5a1d84bdc9ca61284557561d5c0">TGS.Server.Instance.InitProviderInfos</a></div><div class="ttdeci">IList&lt; ChatSetupInfo &gt; InitProviderInfos()</div><div class="ttdoc">Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00134">Chat.cs:134</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5eb2c7e91e5df165a4e705f606af9173"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5eb2c7e91e5df165a4e705f606af9173">TGS.Server.Instance.ChatLock</a></div><div class="ttdeci">object ChatLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00026">Chat.cs:26</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a3833c4e4629bced994a5d641f49d1e13"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a3833c4e4629bced994a5d641f49d1e13">TGS.Server.IInstanceConfig.Name</a></div><div class="ttdeci">string Name</div><div class="ttdoc">The name of the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00025">InstanceConfig.cs:25</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a697d691c1d8794ac9898b4fe67f983c2"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">TGS.Interface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00080">Enumerations.cs:80</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab4d494c522d7d11a1889003a6f6d6c59"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab4d494c522d7d11a1889003a6f6d6c59">TGS.Server.Instance.UninitializedString</a></div><div class="ttdeci">const string UninitializedString</div><div class="ttdoc">Used for indicating unintialized encrypted data </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00017">Chat.cs:17</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aecf4b0ab864932679951664a4bd7958c"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aecf4b0ab864932679951664a4bd7958c">TGS.Server.IInstanceConfig.ChatProviderEntropy</a></div><div class="ttdeci">string ChatProviderEntropy</div><div class="ttdoc">Entropy for ChatProviderData </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00074">InstanceConfig.cs:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40fc1ed9ca23a8c0d6a51521e91f66ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.InitRepo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the repository </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00100">100</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5c0c5108a336d1ec6e664c81e800a7e5">RepoKeyDir</a>));</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acbbd8b294a54c3573371c933467f5575">Exists</a>())</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9">UpdateBridgeDll</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>() == null)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae37cbe097d7326ff0432bcd39ffce488">DisableGarbageCollectionNoLock</a>();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="comment">//start the autoupdate timer</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#adaecb345b5b6040438f86604659051ab">autoUpdateTimer</a>.Elapsed += <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa2e43abfda9bace7682d7d583ad7398a">AutoUpdateTimer_Elapsed</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa4fa38c2c05e7bd4e3f88fc3dc22254f">SetAutoUpdateInterval</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5283565a099ab2de0f8f362f1ea34c56">AutoUpdateInterval</a>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a5283565a099ab2de0f8f362f1ea34c56"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5283565a099ab2de0f8f362f1ea34c56">TGS.Server.IInstanceConfig.AutoUpdateInterval</a></div><div class="ttdeci">ulong AutoUpdateInterval</div><div class="ttdoc">The auto update interval for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00109">InstanceConfig.cs:109</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a124a5b5441422817b08d3eaf3ec155a9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9">TGS.Server.Instance.UpdateBridgeDll</a></div><div class="ttdeci">void UpdateBridgeDll(bool overwrite)</div><div class="ttdoc">Copies BridgeDLLName from the program directory to the the Instance directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00526">DreamDaemon.cs:526</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae37cbe097d7326ff0432bcd39ffce488"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae37cbe097d7326ff0432bcd39ffce488">TGS.Server.Instance.DisableGarbageCollectionNoLock</a></div><div class="ttdeci">void DisableGarbageCollectionNoLock()</div><div class="ttdoc">Turns off the gc.auto git config setting </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00284">Repository.cs:284</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa4fa38c2c05e7bd4e3f88fc3dc22254f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa4fa38c2c05e7bd4e3f88fc3dc22254f">TGS.Server.Instance.SetAutoUpdateInterval</a></div><div class="ttdeci">void SetAutoUpdateInterval(ulong newInterval)</div><div class="ttdoc">(De)Activate and set the interval for the automatic server updater  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01360">Repository.cs:1360</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_adaecb345b5b6040438f86604659051ab"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#adaecb345b5b6040438f86604659051ab">TGS.Server.Instance.autoUpdateTimer</a></div><div class="ttdeci">System.Timers.Timer autoUpdateTimer</div><div class="ttdoc">Used for automatically updating the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00092">Repository.cs:92</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5c0c5108a336d1ec6e664c81e800a7e5"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5c0c5108a336d1ec6e664c81e800a7e5">TGS.Server.Instance.RepoKeyDir</a></div><div class="ttdeci">const string RepoKeyDir</div><div class="ttdoc">The Instance directory for the repository SSH keys </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00045">Repository.cs:45</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa2e43abfda9bace7682d7d583ad7398a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa2e43abfda9bace7682d7d583ad7398a">TGS.Server.Instance.AutoUpdateTimer_Elapsed</a></div><div class="ttdeci">void AutoUpdateTimer_Elapsed(object sender, System.Timers.ElapsedEventArgs e)</div><div class="ttdoc">Runs on the configured InstanceConfig.AutoUpdateInterval of Config and tries to Update(bool) and Comp...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01384">Repository.cs:1384</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acbbd8b294a54c3573371c933467f5575"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acbbd8b294a54c3573371c933467f5575">TGS.Server.Instance.Exists</a></div><div class="ttdeci">bool Exists()</div><div class="ttdoc">Check if the repository is valid, if not Setup(string, string) must be called  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00185">Repository.cs:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4fa17ef8a6d8e1349152c24d18a5abb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.InteropMessage </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called from /world/ExportService(command)  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_interop.html#aac0d058089119e0b40f22ec3a4196e17">TGS.Interface.Components.ITGInterop</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00262">262</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a76b67e720a6d10892adcbc460af2a62f">HandleCommand</a>(command);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">catch</span>(Exception e)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Handle command for \&quot;{0}\&quot; failed: {1}&quot;</span>, command, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.InteropCallException);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a76b67e720a6d10892adcbc460af2a62f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a76b67e720a6d10892adcbc460af2a62f">TGS.Server.Instance.HandleCommand</a></div><div class="ttdeci">void HandleCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00092">Interop.cs:92</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac8d2405cd94bde93f012d76ea20b79e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.InvertDirectory </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>gameDirectory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00279">279</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">if</span> (gameDirectory == <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">GameDirB</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a11a5205e6f76361d9c6c283c733e7f95"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">TGS.Server.Instance.GameDirA</a></div><div class="ttdeci">const string GameDirA</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00030">Compiler.cs:30</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a363f31fbe2b0b7172d0288b694235b6c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">TGS.Server.Instance.GameDirB</a></div><div class="ttdeci">const string GameDirB</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00031">Compiler.cs:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a9dc063b6715f796fab85843732c004"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a> TGS.Server.Instance.IsInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00120">120</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>))) || File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a>, Assembly.GetAssembly(typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_i_server_interface.html">IServerInterface</a>)).GetName().Name + <span class="stringliteral">&quot;.dll&quot;</span>))))    <span class="comment">//its a good tell, jim</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a>.Uninitialized;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac6267c88a28d1fdc4987103c97b401c7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">TGS.Server.Instance.BridgeDLLName</a></div><div class="ttdeci">const string BridgeDLLName</div><div class="ttdoc">The file name of the .dll that contains the ITGInterop bridge class </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00056">Interop.cs:56</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_i_server_interface_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_i_server_interface.html">TGS.Interface.IServerInterface</a></div><div class="ttdoc">Main  for communicating the ITGSService </div><div class="ttdef"><b>Definition:</b> <a href="_server_interface_8cs_source.html#l00018">ServerInterface.cs:18</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab70169b31147444e4b4c1a2feba9b70e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">TGS.Server.Instance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4270720d0fdafb1bce877eda81e65c1c"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">TGS.Interface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00117">Enumerations.cs:117</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a94bfbe235ce28e4f29001f79f16ad7e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.KillMe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00249">249</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordtype">bool</span> DoRestart;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                DoRestart = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a> == <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>.None;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keywordflow">if</span> (!DoRestart)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>.Pinged;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="comment">//Do this is a seperate thread or we&#39;ll kill this thread in the middle of rebooting</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">if</span> (DoRestart)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                ThreadPool.QueueUserWorkItem(_ =&gt; { <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1f6e8f2764269059a4f278955b4e6204">Restart</a>(); });</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                ThreadPool.QueueUserWorkItem(_ =&gt; { <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab09a0bda6eaa71b87c84c685e1e13093">Stop</a>(); });</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1f6e8f2764269059a4f278955b4e6204"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1f6e8f2764269059a4f278955b4e6204">TGS.Server.Instance.Restart</a></div><div class="ttdeci">string Restart()</div><div class="ttdoc">Immediately kills and restarts the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00266">DreamDaemon.cs:266</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab09a0bda6eaa71b87c84c685e1e13093"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab09a0bda6eaa71b87c84c685e1e13093">TGS.Server.Instance.Stop</a></div><div class="ttdeci">string Stop()</div><div class="ttdoc">Immediately kills the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00220">DreamDaemon.cs:220</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a24619e3847ca6f303773c3c667a0c644"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">TGS.Server.Instance.ShutdownRequestPhase</a></div><div class="ttdeci">ShutdownRequestPhase</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00017">DreamDaemon.cs:17</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0c164f4ee52435f463c766bb11ead7ec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">TGS.Server.Instance.AwaitingShutdown</a></div><div class="ttdeci">ShutdownRequestPhase AwaitingShutdown</div><div class="ttdoc">Indicator of progress on a RequestRestart or RequestStop operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00092">DreamDaemon.cs:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7799e81d92bdec8a357d9b3240a202ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IDictionary&lt;string, string&gt; TGS.Server.Instance.ListBackups </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists tags in the repository created by the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>on success, error message on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dictionary of tag title -&gt; commit SHA on success,  on failure</dd></dl>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a993cfdbef174083b69386ad32802f6fa">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00794">794</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                    {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                        error = <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                    error = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                    <span class="keywordflow">if</span> (error != null)</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    var res = <span class="keyword">new</span> Dictionary&lt;string, string&gt;();</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <span class="keywordflow">foreach</span> (var T <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Tags)</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                        <span class="keywordflow">if</span> (T.FriendlyName.Contains(<span class="stringliteral">&quot;TGS&quot;</span>))</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                            res.Add(T.FriendlyName, T.Target.Sha);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                }</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f9c9d3a1d79a12c8cdfabbb9f1fae4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;string&gt; TGS.Server.Instance.ListStaticDirectory </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>subDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>unauthorized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the file contents of the specified server directory Subdirectories will be prefixed with '/'  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config.html#af7320753253b3451170e2df993fa5a38">TGS.Interface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00210">210</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00052">TGS.Server.Server.BeginImpersonation()</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            Server.BeginImpersonation();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">if</span> (!Directory.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>)))</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    error = null;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                DirectoryInfo dirToEnum = <span class="keyword">new</span> DirectoryInfo(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>) + <span class="charliteral">&#39;/&#39;</span> + subDir ?? <span class="stringliteral">&quot;&quot;</span>); <span class="comment">//do not use path.combine or it will try and take the root</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                var result = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> dirToEnum.GetFiles())</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    result.Add(I.Name);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> dirToEnum.GetDirectories())</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    result.Add(<span class="charliteral">&#39;/&#39;</span> + I.Name);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                error = null;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">catch</span> (UnauthorizedAccessException e)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="comment">//no need for the full stacktrace</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                error = e.Message;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                unauthorized = <span class="keyword">true</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae497ee38d040cef22bc35af14942ca54"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">TGS.Server.Instance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a6f9c9d3a1d79a12c8cdfabbb9f1fae4a_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a6f9c9d3a1d79a12c8cdfabbb9f1fae4a_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a6f9c9d3a1d79a12c8cdfabbb9f1fae4a_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a6f9c9d3a1d79a12c8cdfabbb9f1fae4a_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_server.html#a6357fde09e65ef71222045f00094d5ac" title="Begins user impersonation to allow proper restricted file access " alt="" coords="220,13,467,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aefd0e4e22081841d4169b583d29d92f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.LiveSha </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current staged or live commit SHA </p>
<dl class="section return"><dt>Returns</dt><dd>The current staged or live commit SHA</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01410">1410</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_revision_command_8cs_source.html#l00019">TGS.Server.ChatCommands.RevisionCommand.Run()</a>.</p>
<div class="fragment"><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        {</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            var B = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches[<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647">LiveTrackingBranch</a>];</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <span class="keywordflow">return</span> B != null ? B.Tip.Sha : <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5c950acf89122f63e09ca01c495f647"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647">TGS.Server.Instance.LiveTrackingBranch</a></div><div class="ttdeci">const string LiveTrackingBranch</div><div class="ttdoc">The branch that points to the current commit that is live or staged to be live in DreamDaemon ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00061">Repository.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_aefd0e4e22081841d4169b583d29d92f0_icgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_aefd0e4e22081841d4169b583d29d92f0_icgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_aefd0e4e22081841d4169b583d29d92f0_icgraph" id="class_t_g_s_1_1_server_1_1_instance_aefd0e4e22081841d4169b583d29d92f0_icgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_revision_command.html#ac20ef19916c67643b591bb173ab626a4" title="Override to do the actions of the Command &#160;" alt="" coords="244,5,433,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8170aa201e010210c23b5f6bb75b19ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.LoadRepo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e" title="The repository object ">Repo</a> </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">155</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a> != null)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">if</span> (!Repository.IsValid(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>)))</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repository does not exist&quot;</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a> = <span class="keyword">new</span> Repository(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>));</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5445b16310369325042c5f678d330fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">TGS.Server.Instance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The Instance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">Repository.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a88e2637eca30898a76015c9014e91ca5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.LoadServerChatCommands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00068">68</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>() != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            var json = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">SendCommand</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0529b34e0af1ac55bbfa5467b32c7943">SCListCustomCommands</a>);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">if</span> (String.IsNullOrWhiteSpace(json))</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            List&lt;Command&gt; tmp = <span class="keyword">new</span> List&lt;Command&gt;();</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> JsonConvert.DeserializeObject&lt;IDictionary&lt;string, object&gt;&gt;(json))</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                    var innerDick = ((JObject)I.Value).ToObject&lt;IDictionary&lt;string, object&gt;&gt;();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                    var helpText = (string)innerDick[<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#adcab46a53b916a68958ba7c905067970">CCPHelpText</a>];</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                    var adminOnly = ((long)innerDick[<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7e8a4c40bb04d8ea1a85730515cea88a">CCPAdminOnly</a>]) == 1;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    var requiredParams = (int)((<span class="keywordtype">long</span>)innerDick[<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1b20fbb6ba614fc58abc9468625c84f7">CCPRequiredParameters</a>]);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                    tmp.Add(<span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_server_chat_command.html">ServerChatCommand</a>(I.Key, helpText, adminOnly, requiredParams));</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa08b6bc42a06ba7088caabb6d98c6cd6">ServerChatCommands</a> = tmp;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0529b34e0af1ac55bbfa5467b32c7943"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0529b34e0af1ac55bbfa5467b32c7943">TGS.Server.Instance.SCListCustomCommands</a></div><div class="ttdeci">const string SCListCustomCommands</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00034">Interop.cs:34</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a50ef3869e320d3d7c43859268da2a03a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">TGS.Server.Instance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00158">Interop.cs:158</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7e8a4c40bb04d8ea1a85730515cea88a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7e8a4c40bb04d8ea1a85730515cea88a">TGS.Server.Instance.CCPAdminOnly</a></div><div class="ttdeci">const string CCPAdminOnly</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00050">Interop.cs:50</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_chat_commands_1_1_server_chat_command_html"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_server_chat_command.html">TGS.Server.ChatCommands.ServerChatCommand</a></div><div class="ttdoc">ChatCommands generated by DreamDaemon via the API </div><div class="ttdef"><b>Definition:</b> <a href="_server_chat_command_8cs_source.html#l00009">ServerChatCommand.cs:9</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa08b6bc42a06ba7088caabb6d98c6cd6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa08b6bc42a06ba7088caabb6d98c6cd6">TGS.Server.Instance.ServerChatCommands</a></div><div class="ttdeci">List&lt; Command &gt; ServerChatCommands</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00066">Interop.cs:66</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_adcab46a53b916a68958ba7c905067970"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#adcab46a53b916a68958ba7c905067970">TGS.Server.Instance.CCPHelpText</a></div><div class="ttdeci">const string CCPHelpText</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00049">Interop.cs:49</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1b20fbb6ba614fc58abc9468625c84f7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1b20fbb6ba614fc58abc9468625c84f7">TGS.Server.Instance.CCPRequiredParameters</a></div><div class="ttdeci">const string CCPRequiredParameters</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00051">Interop.cs:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae3cfb93eda91ea124d29375bae70b37b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.LocalIsRemote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the current HEAD matches the tracked remote branch HEAD </p>
<dl class="section return"><dt>Returns</dt><dd>if the current HEAD matches the tracked remote branch HEAD,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01133">1133</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>() != null)</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2d148a0b4c82814e214f51401ca0626e">Fetch</a>() != null)</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.IsTracking &amp;&amp; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.TrackedBranch.Tip.Sha == <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.Tip.Sha;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                {</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                }</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            }</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2d148a0b4c82814e214f51401ca0626e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2d148a0b4c82814e214f51401ca0626e">TGS.Server.Instance.Fetch</a></div><div class="ttdeci">string Fetch()</div><div class="ttdoc">Fetches origin </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01113">Repository.cs:1113</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3ce13d9776a31855262d70d43076b94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Signature TGS.Server.Instance.MakeSig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a commit LibGit2Sharp.Signature based off of the configured name and e-mail </p>
<dl class="section return"><dt>Returns</dt><dd>The created LibGit2Sharp.Signature</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00848">848</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Signature(<span class="keyword">new</span> Identity(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ac927a173bbffd9de02a9d8a50cefeec7">CommitterName</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa88b19975b9e9a48cf8cc231d7758c8f">CommitterEmail</a>), DateTimeOffset.Now);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aa88b19975b9e9a48cf8cc231d7758c8f"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa88b19975b9e9a48cf8cc231d7758c8f">TGS.Server.IInstanceConfig.CommitterEmail</a></div><div class="ttdeci">string CommitterEmail</div><div class="ttdoc">Author and committer e-mail for synchronize commits </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00064">InstanceConfig.cs:64</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ac927a173bbffd9de02a9d8a50cefeec7"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ac927a173bbffd9de02a9d8a50cefeec7">TGS.Server.IInstanceConfig.CommitterName</a></div><div class="ttdeci">string CommitterName</div><div class="ttdoc">Author and committer name for synchronize commits </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00060">InstanceConfig.cs:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02145178d01224be0919b35deedcecba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.MemTrackTimer_Elapsed </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ElapsedEventArgs&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called every five seconds while DreamDaemon is running to log it's current state to the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628" title="Directory for storing DreamDaemon diagnostic files ">DiagnosticsDir</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>The event sender, an instance of System.Timers.Timer</td></tr>
    <tr><td class="paramname">e</td><td>The ElapsedEventArgs</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00454">454</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            ulong megamem;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keywordtype">float</span> cputime;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                cputime = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">pcpu</a>.NextValue();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <span class="keyword">using</span> (var pcm = <span class="keyword">new</span> PerformanceCounter(<span class="stringliteral">&quot;Process&quot;</span>, <span class="stringliteral">&quot;Working Set - Private&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.ProcessName, <span class="keyword">true</span>))</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    megamem = Convert.ToUInt64(pcm.NextValue()) / 1024;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            var PercentCpuTime = (int)Math.Round((Decimal)cputime);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">WriteCurrentDDLog</a>(String.Format(<span class="stringliteral">&quot;CPU: {1}% Memory: {0}KB&quot;</span>, megamem, PercentCpuTime.ToString(<span class="stringliteral">&quot;D3&quot;</span>)));</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af8f30af9b177beb6c309e05d0d56be33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">TGS.Server.Instance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0ac4e6797d742a7cb055ce737de36e9c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">TGS.Server.Instance.WriteCurrentDDLog</a></div><div class="ttdeci">void WriteCurrentDDLog(string message)</div><div class="ttdoc">Write a message  to the CurrentDDLog. A timestamp will be prepended to it </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00291">DreamDaemon.cs:291</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a16ce149ebe31e4dbf1bf318cc449e790"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">TGS.Server.Instance.pcpu</a></div><div class="ttdeci">PerformanceCounter pcpu</div><div class="ttdoc">CPU performance information for Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00048">DreamDaemon.cs:48</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32f473cc0c8d3f91c6fe8927fe927996"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.MergeBranch </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>committish</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>mergeMessage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Merges given <em>committish</em>  into the current branch </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">committish</td><td>The sha/branch/tag to merge</td></tr>
    <tr><td class="paramname">mergeMessage</td><td>The commit message for the merge commit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00570">570</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            var mo = <span class="keyword">new</span> MergeOptions()</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                OnCheckoutProgress = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#abf1b05ba88199291ea366ffec194d3d7">HandleCheckoutProgress</a></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            };</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">if</span> (mergeMessage != null)</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                mo.CommitOnSuccess = <span class="keyword">false</span>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                mo.FastForwardStrategy = FastForwardStrategy.NoFastForward;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            var sig = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa3ce13d9776a31855262d70d43076b94">MakeSig</a>();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            var Result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Merge(committish, sig, mo);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">currentProgress</a> = -1;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">switch</span> (Result.Status)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">case</span> MergeStatus.Conflicts:</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">ResetNoLock</a>(null);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: Merge conflicted, aborted.&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Merge conflict occurred.&quot;</span>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                <span class="keywordflow">case</span> MergeStatus.UpToDate:</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a61ce14bfd634ae093b669fb8ba61b9fd">RepoErrorUpToDate</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">if</span>(mergeMessage != null)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Commit(mergeMessage, sig, sig);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a61ce14bfd634ae093b669fb8ba61b9fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a61ce14bfd634ae093b669fb8ba61b9fd">TGS.Server.Instance.RepoErrorUpToDate</a></div><div class="ttdeci">const string RepoErrorUpToDate</div><div class="ttdoc">Error message for when a merge operation fails due to the target branch already having the source bra...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00037">Repository.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_abf1b05ba88199291ea366ffec194d3d7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#abf1b05ba88199291ea366ffec194d3d7">TGS.Server.Instance.HandleCheckoutProgress</a></div><div class="ttdeci">void HandleCheckoutProgress(string path, int completedSteps, int totalSteps)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo checkout operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00208">Repository.cs:208</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa3ce13d9776a31855262d70d43076b94"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa3ce13d9776a31855262d70d43076b94">TGS.Server.Instance.MakeSig</a></div><div class="ttdeci">Signature MakeSig()</div><div class="ttdoc">Creates a commit LibGit2Sharp.Signature based off of the configured name and e-mail ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00848">Repository.cs:848</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6107dd2858d2a2c70cb9ac7d5105d373"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">TGS.Server.Instance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00493">Repository.cs:493</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af34ec3b6bf17a85bd373018a19cf54da"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">TGS.Server.Instance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGS.Interface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00087">Repository.cs:87</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2dc1986bc65a5297fa100f84bc2bd3c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="class_t_g_s_1_1_interface_1_1_pull_request_info.html">PullRequestInfo</a>&gt; TGS.Server.Instance.MergedPullRequests </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the currently merged pull requests. Note that switching branches will delete this list and switching back won't restore it  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a238df6f480799f74b5e469359425b18e">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01020">1020</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_pull_requests_command_8cs_source.html#l00019">TGS.Server.ChatCommands.PullRequestsCommand.Run()</a>.</p>
<div class="fragment"><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                    error = <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                var result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                    error = result;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                    var PRRawData = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a20679ec5991fbf42f9fd98e38fc08018">GetCurrentPRList</a>();</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                    var output = <span class="keyword">new</span> List&lt;PullRequestInfo&gt;();</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a20679ec5991fbf42f9fd98e38fc08018">GetCurrentPRList</a>())</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="class_t_g_s_1_1_interface_1_1_pull_request_info.html">PullRequestInfo</a>(Convert.ToInt32(I.Key), I.Value[<span class="stringliteral">&quot;author&quot;</span>], I.Value[<span class="stringliteral">&quot;title&quot;</span>], I.Value[<span class="stringliteral">&quot;commit&quot;</span>]));</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    error = null;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                    <span class="keywordflow">return</span> output;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                    error = e.ToString();</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a20679ec5991fbf42f9fd98e38fc08018"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a20679ec5991fbf42f9fd98e38fc08018">TGS.Server.Instance.GetCurrentPRList</a></div><div class="ttdeci">IDictionary&lt; string, IDictionary&lt; string, string &gt; &gt; GetCurrentPRList()</div><div class="ttdoc">Deserializes the PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00873">Repository.cs:873</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_pull_request_info_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_pull_request_info.html">TGS.Interface.PullRequestInfo</a></div><div class="ttdoc">Information about a pull request </div><div class="ttdef"><b>Definition:</b> <a href="_pull_request_info_8cs_source.html#l00009">PullRequestInfo.cs:9</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a2dc1986bc65a5297fa100f84bc2bd3c2_icgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a2dc1986bc65a5297fa100f84bc2bd3c2_icgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a2dc1986bc65a5297fa100f84bc2bd3c2_icgraph" id="class_t_g_s_1_1_server_1_1_instance_a2dc1986bc65a5297fa100f84bc2bd3c2_icgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_pull_requests_command.html#a22a1b02cb786652fd7e420ff220eca2b" title="Override to do the actions of the Command &#160;" alt="" coords="241,5,431,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3aec8f4bc9ffca3c05895f097c21635d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.MergePullRequest </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PRNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>atSHA</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merges the target pull request into the current branch if the remote is a github repository  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a6f3dd5430b4a29c61234215270f3414a">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00892">892</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            {</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                var result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: Merging PR #{0}{1}...&quot;</span>, PRNumber, atSHA != null ? String.Format(<span class="stringliteral">&quot; at commit {0}&quot;</span>, atSHA): <span class="stringliteral">&quot;&quot;</span>), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">ResetNoLock</a>(null);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                {</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                    <span class="comment">//only supported with github</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                    var remoteUrl = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Remotes[<span class="stringliteral">&quot;origin&quot;</span>].Url;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    <span class="keywordflow">if</span> (!remoteUrl.Contains(<span class="stringliteral">&quot;github.com&quot;</span>))</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Only supported with Github based repositories.&quot;</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    var Refspec = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    var PRBranchName = String.Format(<span class="stringliteral">&quot;pr-{0}&quot;</span>, PRNumber);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                    var LocalBranchName = String.Format(<span class="stringliteral">&quot;pull/{0}/headrefs/heads/{1}&quot;</span>, PRNumber, PRBranchName);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    Refspec.Add(String.Format(<span class="stringliteral">&quot;pull/{0}/head:{1}&quot;</span>, PRNumber, PRBranchName));</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    var logMessage = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    var branch = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches[LocalBranchName];</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                    <span class="keywordflow">if</span> (branch != null)</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                        <span class="comment">//Need to delete the branch first in case of rebase</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches.Remove(branch);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                    Commands.Fetch(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>, <span class="stringliteral">&quot;origin&quot;</span>, Refspec, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a3a38e27cc6f790355d27a26af68b92e6">GenerateFetchOptions</a>(), logMessage);  <span class="comment">//shitty api has no failure state for this</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">currentProgress</a> = -1;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                    branch = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches[LocalBranchName];</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                    <span class="keywordflow">if</span> (branch == null)</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                    {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: PR could not be fetched. Does it exist?&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;PR #{0} could not be fetched. Does it exist?&quot;</span>, PRNumber);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                    <span class="keywordflow">if</span> (atSHA != null)</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                    {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                        <span class="comment">//find the commit</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aaddf123cd4c3ceec4b4f8734bf4da456">Commit</a> commit = null;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                        <span class="keywordtype">string</span> error = null;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                        {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                            commit = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Lookup&lt;<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aaddf123cd4c3ceec4b4f8734bf4da456">Commit</a>&gt;(atSHA);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                        }</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                        <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                        {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                            error = e.ToString();</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                        }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                        <span class="keywordflow">if</span> (commit == null)</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                        {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: Commit could not be found, aborting!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                            <span class="keywordflow">return</span> error ?? String.Format(<span class="stringliteral">&quot;Commit {0} could not be found in the repository!&quot;</span>, atSHA);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                        }</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    <span class="comment">//so we&#39;ll know if this fails</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                    var Result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a32f473cc0c8d3f91c6fe8927fe927996">MergeBranch</a>(atSHA ?? LocalBranchName, String.Format(<span class="stringliteral">&quot;[ci skip] Test merge commit for pull request #{0}{1}Server Instance: {2}&quot;</span>, PRNumber, Environment.NewLine, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a3833c4e4629bced994a5d641f49d1e13">Name</a>));</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                    <span class="keywordflow">if</span> (Result == null)</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                        {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa3c2cfeebe2079f6d35ae257d13fbe4">UpdateSubmodules</a>();</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                        }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                        <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                        {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                            Result = e.ToString();</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                        }</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                    <span class="keywordflow">if</span> (Result == null)</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(String.Format(<span class="stringliteral">&quot;Merged pull request #{0}&quot;</span>, PRNumber), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoPRMerge);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                        {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                            var CurrentPRs = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a20679ec5991fbf42f9fd98e38fc08018">GetCurrentPRList</a>();</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                            var PRNumberString = PRNumber.ToString();</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                            CurrentPRs.Remove(PRNumberString);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                            var newPR = <span class="keyword">new</span> Dictionary&lt;string, string&gt;();</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                            <span class="comment">//do some excellent remote fuckery here to get the api page</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                            var prAPI = remoteUrl;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                            prAPI = prAPI.Replace(<span class="stringliteral">&quot;/.git&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                            prAPI = prAPI.Replace(<span class="stringliteral">&quot;.git&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                            prAPI = prAPI.Replace(<span class="stringliteral">&quot;github.com&quot;</span>, <span class="stringliteral">&quot;api.github.com/repos&quot;</span>);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                            prAPI += <span class="stringliteral">&quot;/pulls/&quot;</span> + PRNumberString + <span class="stringliteral">&quot;.json&quot;</span>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                            <span class="keywordtype">string</span> json;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                            <span class="keyword">using</span> (var wc = <span class="keyword">new</span> WebClient())</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                            {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                                wc.Headers.Add(<span class="stringliteral">&quot;user-agent&quot;</span>, <span class="stringliteral">&quot;TGS.Server&quot;</span>);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                                json = wc.DownloadString(prAPI);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                            }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                            var dick = JsonConvert.DeserializeObject&lt;IDictionary&lt;string, object&gt;&gt;(json);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                            var user = ((JObject)dick[<span class="stringliteral">&quot;user&quot;</span>]).ToObject&lt;IDictionary&lt;string, object&gt;&gt;();</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                            newPR.Add(<span class="stringliteral">&quot;commit&quot;</span>, atSHA ?? branch.Tip.Sha);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                            newPR.Add(<span class="stringliteral">&quot;author&quot;</span>, (<span class="keywordtype">string</span>)user[<span class="stringliteral">&quot;login&quot;</span>]);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                            newPR.Add(<span class="stringliteral">&quot;title&quot;</span>, (<span class="keywordtype">string</span>)dick[<span class="stringliteral">&quot;title&quot;</span>]);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                            CurrentPRs.Add(PRNumberString, newPR);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afad1d549f9f3bf36a13bcab8f8c0241a">SetCurrentPRList</a>(CurrentPRs);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                        }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                        <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                        {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Failed to update PR list&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoPRListError);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PR Merged, JSON update failed: &quot;</span> + e.ToString();</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                        }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a17149c71ad3f539181c44db6b9d17370">PushTestmergeCommit</a>();</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                    }</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                    <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <span class="keywordflow">catch</span> (Exception E)</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: PR merge failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Failed to merge pull request #{0}: {1}&quot;</span>, PRNumber, E.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoPRMergeFail);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    <span class="keywordflow">return</span> E.ToString();</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afad1d549f9f3bf36a13bcab8f8c0241a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afad1d549f9f3bf36a13bcab8f8c0241a">TGS.Server.Instance.SetCurrentPRList</a></div><div class="ttdeci">void SetCurrentPRList(IDictionary&lt; string, IDictionary&lt; string, string &gt;&gt; list)</div><div class="ttdoc">Serializes pull request info into PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00885">Repository.cs:885</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a32f473cc0c8d3f91c6fe8927fe927996"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a32f473cc0c8d3f91c6fe8927fe927996">TGS.Server.Instance.MergeBranch</a></div><div class="ttdeci">string MergeBranch(string committish, string mergeMessage)</div><div class="ttdoc">Merges given committish  into the current branch </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00570">Repository.cs:570</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a3a38e27cc6f790355d27a26af68b92e6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a3a38e27cc6f790355d27a26af68b92e6">TGS.Server.Instance.GenerateFetchOptions</a></div><div class="ttdeci">FetchOptions GenerateFetchOptions()</div><div class="ttdoc">Create FetchOptions that Prune and have the appropriate credentials and progress handler ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01099">Repository.cs:1099</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6107dd2858d2a2c70cb9ac7d5105d373"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">TGS.Server.Instance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00493">Repository.cs:493</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a3833c4e4629bced994a5d641f49d1e13"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a3833c4e4629bced994a5d641f49d1e13">TGS.Server.IInstanceConfig.Name</a></div><div class="ttdeci">string Name</div><div class="ttdoc">The name of the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00025">InstanceConfig.cs:25</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aaddf123cd4c3ceec4b4f8734bf4da456"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aaddf123cd4c3ceec4b4f8734bf4da456">TGS.Server.Instance.Commit</a></div><div class="ttdeci">string Commit(RepoConfig Config)</div><div class="ttdoc">Create a commit based on a Config . Requires RepoLock and LoadRepo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01159">Repository.cs:1159</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a20679ec5991fbf42f9fd98e38fc08018"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a20679ec5991fbf42f9fd98e38fc08018">TGS.Server.Instance.GetCurrentPRList</a></div><div class="ttdeci">IDictionary&lt; string, IDictionary&lt; string, string &gt; &gt; GetCurrentPRList()</div><div class="ttdoc">Deserializes the PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00873">Repository.cs:873</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a17149c71ad3f539181c44db6b9d17370"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a17149c71ad3f539181c44db6b9d17370">TGS.Server.Instance.PushTestmergeCommit</a></div><div class="ttdeci">void PushTestmergeCommit()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00598">Repository.cs:598</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af34ec3b6bf17a85bd373018a19cf54da"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af34ec3b6bf17a85bd373018a19cf54da">TGS.Server.Instance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGS.Interface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00087">Repository.cs:87</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa3c2cfeebe2079f6d35ae257d13fbe4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa3c2cfeebe2079f6d35ae257d13fbe4">TGS.Server.Instance.UpdateSubmodules</a></div><div class="ttdeci">void UpdateSubmodules()</div><div class="ttdoc">Properly updates any git submodules in the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00712">Repository.cs:712</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a914861dfc8cc51138398add5530ce315"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.Offline </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#ad0835b8f249dfbfb2298c2c31839b376">InstanceConfig.Enabled</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a> to  </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00133">133</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ad5817438b173304f71061db218332211">Enabled</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ad5817438b173304f71061db218332211"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ad5817438b173304f71061db218332211">TGS.Server.IInstanceConfig.Enabled</a></div><div class="ttdeci">bool Enabled</div><div class="ttdoc">If the Instance is active </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00030">InstanceConfig.cs:30</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3c034d54751b0cc2c76a77232e4a15e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.OperationInProgress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the repo is currently undergoing an operation  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#ac6273a2cb476e6ae1aff1d98098892ec">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00139">139</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                return <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c3a5860e58497bfb14facc8fcdacd79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TGS.Server.Instance.PlayerCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of connected players. Requires game to use API version &gt;= 3.1.0.1 </p>
<dl class="section return"><dt>Returns</dt><dd>The number of connected players or -1 on error</dd></dl>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a18331beabd9029eff16d2e6cdf8bb93f">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00168">168</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">return</span> Convert.ToInt32(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">SendCommand</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a027fd008d970e0ab2bbcf0c6600b2f43">SCPlayerCount</a>));</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">catch</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a50ef3869e320d3d7c43859268da2a03a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">TGS.Server.Instance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00158">Interop.cs:158</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a027fd008d970e0ab2bbcf0c6600b2f43"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a027fd008d970e0ab2bbcf0c6600b2f43">TGS.Server.Instance.SCPlayerCount</a></div><div class="ttdeci">const string SCPlayerCount</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00036">Interop.cs:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acce7ab0825aec9c2dfa4d981be2c9977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ushort TGS.Server.Instance.Port </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the configured port. Not necessarily the running port if it has since changed  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a0cb1c569267883c8fa60d0337a1e3f9c">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00708">708</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a43e352f34707f8321f52c0310b88c939">Port</a>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a43e352f34707f8321f52c0310b88c939"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a43e352f34707f8321f52c0310b88c939">TGS.Server.IInstanceConfig.Port</a></div><div class="ttdeci">ushort Port</div><div class="ttdoc">The port the Instance runs on </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00040">InstanceConfig.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6fa1c226d23c0f175e5bc3fe66f531a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.PostcompileHook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the "postcompile" event </p>
<dl class="section return"><dt>Returns</dt><dd>if the event handler exists and failed to run,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00097">97</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadc860d38c61b9e3cb2a386d3e348981">HandleEvent</a>(<span class="stringliteral">&quot;postcompile&quot;</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadc860d38c61b9e3cb2a386d3e348981"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadc860d38c61b9e3cb2a386d3e348981">TGS.Server.Instance.HandleEvent</a></div><div class="ttdeci">bool HandleEvent(string eventName)</div><div class="ttdoc">Runs an event named eventName  if it exists </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00048">PreactionHandler.cs:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b4499dffe00a28b4f0f2ccf5a48637a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.PrecompileHook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the "precompile" event </p>
<dl class="section return"><dt>Returns</dt><dd>if the event handler exists and failed to run,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00088">88</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadc860d38c61b9e3cb2a386d3e348981">HandleEvent</a>(<span class="stringliteral">&quot;precompile&quot;</span>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadc860d38c61b9e3cb2a386d3e348981"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadc860d38c61b9e3cb2a386d3e348981">TGS.Server.Instance.HandleEvent</a></div><div class="ttdeci">bool HandleEvent(string eventName)</div><div class="ttdoc">Runs an event named eventName  if it exists </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00048">PreactionHandler.cs:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84d1b345d8a406dbf94e00db1454ba9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.ProjectName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the relative path of the dme the compiler will look for without the .dme part  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#a14a356a53b27c231146030bedc40a04b">TGS.Interface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00576">576</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">ProjectName</a>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a5af21f03c5d23a6c94270a56f3bc0db8"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">TGS.Server.IInstanceConfig.ProjectName</a></div><div class="ttdeci">string ProjectName</div><div class="ttdoc">The name of the .dme/.dmb the Instance uses </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00035">InstanceConfig.cs:35</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa2e889e6de36dee6c8becad099272b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html">ChatSetupInfo</a>&gt; TGS.Server.Instance.ProviderInfos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns <a class="el" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html" title="For setting up authentication no matter the chat provider ">ChatSetupInfo</a> for all <a class="el" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2" title="The type of chat provider ">ChatProvider</a>s  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat.html#a639b098948615c4539fcce2309b0bc0e">TGS.Interface.Components.ITGChat</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00122">122</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            var infosList = <span class="keyword">new</span> List&lt;ChatSetupInfo&gt;();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">foreach</span> (var chatProvider <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a>)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                infosList.Add(chatProvider.ProviderInfo());</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">return</span> infosList;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a92962bd476db8f04fa4a1a765e9f43a1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">TGS.Server.Instance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00022">Chat.cs:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a425b98c157a0fd03f603a1ee19a73ea8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Push </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Push HEAD to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a" title="Git remote for push operations ">SSHPushRemote</a>. Requires repo be locked, <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba" title="Initializes Repo ">LoadRepo</a>, <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae3cfb93eda91ea124d29375bae70b37b" title="Check if the current HEAD matches the tracked remote branch HEAD ">LocalIsRemote</a>, and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455" title="Check if the Instance is configured for SSH pushing ">SSHAuth</a> </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01189">1189</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                var options = <span class="keyword">new</span> PushOptions()</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                {</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    CredentialsProvider = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">GenerateGitCredentials</a>,</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                };</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Push(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Remotes[<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a">SSHPushRemote</a>], <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.CanonicalName, options);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Repo pushed up to commit: &quot;</span> + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.Tip.Sha, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoPush);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            }</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(<span class="stringliteral">&quot;Repo push failed: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoPushFail);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;            }</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2e4fbf4a4caf26ec2d958c4fad93395a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a">TGS.Server.Instance.SSHPushRemote</a></div><div class="ttdeci">const string SSHPushRemote</div><div class="ttdoc">Git remote for push operations </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00041">Repository.cs:41</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5d3fc0a44c753811f92e13d02de32c0f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">TGS.Server.Instance.GenerateGitCredentials</a></div><div class="ttdeci">Credentials GenerateGitCredentials(string url, string usernameFromUrl, SupportedCredentialTypes types)</div><div class="ttdoc">SSH credentials callback. Properly sets up SSH keys for an authorization operation ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01224">Repository.cs:1224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17149c71ad3f539181c44db6b9d17370"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.PushTestmergeCommit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00598">598</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae01fa7ad1e0af654ac158901ea1affa3">PushTestmergeCommits</a> &amp;&amp; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455">SSHAuth</a>())</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                <span class="keywordtype">string</span> NewB = null;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                var targetRemote = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Remotes[<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a">SSHPushRemote</a>];</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                var options = <span class="keyword">new</span> PushOptions()</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    CredentialsProvider = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">GenerateGitCredentials</a></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                };</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    <span class="comment">//now try and push the commit to the remote so they can be referenced</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    NewB = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.CreateBranch(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92be8ba81fd1326b755a9e0582a958ac">RemoteTempBranchName</a>).CanonicalName;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Push(targetRemote, NewB, options); <span class="comment">//push the branch</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches.Remove(NewB);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    var removalString = String.Format(<span class="stringliteral">&quot;:{0}&quot;</span>, NewB);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                    NewB = null;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    <span class="comment">//we need to delay the second operation a LOT otherwise we get ssh errors</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    Thread.Sleep(10000);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Push(targetRemote, removalString, options);   <span class="comment">//delete the branch</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Pushed reference commit: &quot;</span> + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.Tip.Sha, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.ReferencePush);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Failed to push reference commit: {0}. Error: {1}&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.Tip.Sha, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.ReferencePush);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    <span class="keywordflow">if</span> (NewB != null)</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                        <span class="comment">//Try to delete the branches regardless</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                        {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches.Remove(NewB);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                        }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                        <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                        {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Network.Push(targetRemote, String.Format(<span class="stringliteral">&quot;:{0}&quot;</span>, NewB), options);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                        }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                        <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    }</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                }</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a92be8ba81fd1326b755a9e0582a958ac"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a92be8ba81fd1326b755a9e0582a958ac">TGS.Server.Instance.RemoteTempBranchName</a></div><div class="ttdeci">const string RemoteTempBranchName</div><div class="ttdoc">The branch name used for publishing testmerge commits </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00025">Repository.cs:25</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7307d215fbff6e1ed02c818cddb1e455"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455">TGS.Server.Instance.SSHAuth</a></div><div class="ttdeci">bool SSHAuth()</div><div class="ttdoc">Check if the Instance is configured for SSH pushing </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01212">Repository.cs:1212</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2e4fbf4a4caf26ec2d958c4fad93395a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2e4fbf4a4caf26ec2d958c4fad93395a">TGS.Server.Instance.SSHPushRemote</a></div><div class="ttdeci">const string SSHPushRemote</div><div class="ttdoc">Git remote for push operations </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00041">Repository.cs:41</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ae01fa7ad1e0af654ac158901ea1affa3"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae01fa7ad1e0af654ac158901ea1affa3">TGS.Server.IInstanceConfig.PushTestmergeCommits</a></div><div class="ttdeci">bool PushTestmergeCommits</div><div class="ttdoc">Whether or not testmerge commits are published to a temporary remote branch </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00114">InstanceConfig.cs:114</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5d3fc0a44c753811f92e13d02de32c0f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5d3fc0a44c753811f92e13d02de32c0f">TGS.Server.Instance.GenerateGitCredentials</a></div><div class="ttdeci">Credentials GenerateGitCredentials(string url, string usernameFromUrl, SupportedCredentialTypes types)</div><div class="ttdoc">SSH credentials callback. Properly sets up SSH keys for an authorization operation ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01224">Repository.cs:1224</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa744293f90ea34372f3e489d2ca2cf7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.PushTestmergeCommits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if we push a temporary branch to the remote when we make testmerge commits  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a71e1771b567112b8f3eee73ba35928d2">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01417">1417</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        {</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae01fa7ad1e0af654ac158901ea1affa3">PushTestmergeCommits</a>;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ae01fa7ad1e0af654ac158901ea1affa3"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae01fa7ad1e0af654ac158901ea1affa3">TGS.Server.IInstanceConfig.PushTestmergeCommits</a></div><div class="ttdeci">bool PushTestmergeCommits</div><div class="ttdoc">Whether or not testmerge commits are published to a temporary remote branch </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00114">InstanceConfig.cs:114</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07f764eec98c909d04b62caf2b748238"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.ReadText </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>staticRelativePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>unauthorized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read from a static file  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config.html#a4130b15d0685c6afbc5ed1efa11209de">TGS.Interface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00018">18</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00052">TGS.Server.Server.BeginImpersonation()</a>, and <a class="el" href="_server_8cs_source.html#l00060">TGS.Server.Server.CancelImpersonation()</a>.</p>
<div class="fragment"><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            Server.BeginImpersonation();</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            <span class="keywordtype">string</span> path = null;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;            {</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                var configDir = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(repo ? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a> : <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>);</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                path = configDir + <span class="charliteral">&#39;/&#39;</span> + staticRelativePath;   <span class="comment">//do not use path.combine or it will try and take the root</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">configLock</a>)</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                    var di1 = <span class="keyword">new</span> DirectoryInfo(configDir);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                    <span class="keywordflow">if</span> (repo)</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                    {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                        <span class="comment">//ensure we aren&#39;t trying to read anything outside the static dirs</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                        var <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                        <span class="keywordflow">if</span> (Config == null)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                        {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                            error = <span class="stringliteral">&quot;Unable to load static directory configuration&quot;</span>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                            unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                        }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                        var Found = <span class="keyword">false</span>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                        <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> Config.StaticDirectoryPaths)</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                        {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                            <span class="keywordflow">if</span> (di1.FullName == <span class="keyword">new</span> DirectoryInfo(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>), I)).FullName)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                            {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                Found = <span class="keyword">true</span>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                            }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                        }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                        <span class="keywordflow">if</span> (!Found)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                        {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                            error = <span class="stringliteral">&quot;File is not in a configured static directory!&quot;</span>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                            unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                        }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                    var di2 = <span class="keyword">new</span> DirectoryInfo(<span class="keyword">new</span> FileInfo(path).Directory.FullName);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                    var good = <span class="keyword">false</span>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                    <span class="keywordflow">while</span> (di2 != null)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                        <span class="keywordflow">if</span> (di2.FullName == di1.FullName)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                        {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                            good = <span class="keyword">true</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                        }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                        <span class="keywordflow">else</span> di2 = di2.Parent;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                    <span class="keywordflow">if</span> (!good)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                    {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                        error = <span class="stringliteral">&quot;Cannot read above static directories!&quot;</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                        unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                    }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                    var output = File.ReadAllText(path);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                    Server.CancelImpersonation();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Read of &quot;</span> + path, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.StaticRead);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                    error = null;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                    unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                    <span class="keywordflow">return</span> output;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">catch</span> (UnauthorizedAccessException e)</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <span class="comment">//no need for the full stacktrace</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                error = e.Message;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                unauthorized = <span class="keyword">true</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                Server.CancelImpersonation();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Read of {0} failed! Error: {1}&quot;</span>, path, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.StaticRead);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5445b16310369325042c5f678d330fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">TGS.Server.Instance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The Instance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">Repository.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a42e57a4aa98fefe7c844ada8d6f2eb9a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">TGS.Server.Instance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00133">Repository.cs:133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae497ee38d040cef22bc35af14942ca54"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">TGS.Server.Instance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08ee3406d0c5af9270d61039012ca463"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">TGS.Server.Instance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a07f764eec98c909d04b62caf2b748238_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a07f764eec98c909d04b62caf2b748238_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a07f764eec98c909d04b62caf2b748238_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a07f764eec98c909d04b62caf2b748238_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_server.html#a6357fde09e65ef71222045f00094d5ac" title="Begins user impersonation to allow proper restricted file access " alt="" coords="253,5,500,32"/>
<area shape="rect" id="node3" href="class_t_g_s_1_1_server_1_1_server.html#af2d04d8451aaca506e393758f850df4c" title="Cancels WCF&#39;s user impersonation to allow clean access to writing log files " alt="" coords="291,57,463,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adc21c412fa14d5b973a89ee126bae009"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.Reattach </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>silent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00117">117</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">ReattachRequired</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">if</span>(!silent)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;SERVICE: Update started...&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aa9f5fc4a9216acecfa6a8f194cbc72e0"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">TGS.Server.IInstanceConfig.ReattachRequired</a></div><div class="ttdeci">bool ReattachRequired</div><div class="ttdoc">If the Instance should reattach to a running DreamDaemon System.Diagnostics.Process ...</div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00079">InstanceConfig.cs:79</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aae20c369c53d4bdc6d6c7c8528ce10e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a>&#160;</td>
          <td class="paramname"><em>providerType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reconnect a specific <em>providerType</em>  to it's chat service  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat.html#a48e1f39a6f2ef85f9d8e03a758ea9205">TGS.Interface.Components.ITGChat</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00219">219</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keywordflow">if</span> (I.ProviderInfo().Provider == providerType)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    <span class="keywordflow">return</span> I.Reconnect();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Could not find specified provider!&quot;</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a92962bd476db8f04fa4a1a765e9f43a1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">TGS.Server.Instance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00022">Chat.cs:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5e25f2ef380402092afc0928909be60a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.RecreateStaticFolder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renames the current static folder to a backup name and recreates is from the current repo using TGS3.json </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html#a66ae2eb0ae6730fc78568d551a7739ce">TGS.Interface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00157">157</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo locked!&quot;</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>))</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Watchdog locked!&quot;</span>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">configLock</a>))</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Static dir locked!&quot;</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Watchdog running!&quot;</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5956aa08c166860be43e49e2378cd383">BackupAndDeleteStaticDirectory</a>();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a29a3c86b836454d030d1ea31a7a6faf9">InitialConfigureRepository</a>();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <span class="keywordflow">finally</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                        Monitor.Exit(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">configLock</a>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    Monitor.Exit(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">catch</span>(Exception e)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">finally</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a> = false;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            return null;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a29a3c86b836454d030d1ea31a7a6faf9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a29a3c86b836454d030d1ea31a7a6faf9">TGS.Server.Instance.InitialConfigureRepository</a></div><div class="ttdeci">void InitialConfigureRepository()</div><div class="ttdoc">Initial setup for the StaticDirs and CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00337">Repository.cs:337</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5956aa08c166860be43e49e2378cd383"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5956aa08c166860be43e49e2378cd383">TGS.Server.Instance.BackupAndDeleteStaticDirectory</a></div><div class="ttdeci">void BackupAndDeleteStaticDirectory()</div><div class="ttdoc">Copies the Static directory to the first available Static_BACKUP path in the Instance then deleted th...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00292">Repository.cs:292</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08ee3406d0c5af9270d61039012ca463"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">TGS.Server.Instance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe067e70a0c0799b49fc2cf289d611f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.RelativePath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts relative paths to full <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> directory paths </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">102</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">return</span> Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a19261e44718496c92045414303b4865c">Directory</a>, path);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a19261e44718496c92045414303b4865c"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a19261e44718496c92045414303b4865c">TGS.Server.IInstanceConfig.Directory</a></div><div class="ttdeci">string Directory</div><div class="ttdoc">The Instance directory this IInstanceConfig is for </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00015">InstanceConfig.cs:15</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa279ed5a9e086c8ce04c4af07be0fe51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.RepoConfigsMatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> and <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d" title="The path to the Repository&#39;s RepoConfig json ">RepoTGS3SettingsPath</a> json files match. </p>
<dl class="section return"><dt>Returns</dt><dd>if the jsons match,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00116">116</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="comment">//this should never be called while the repo is busy</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            RepoConfig I = null;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                if (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a> &amp;&amp; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>() == null)</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    I = new RepoConfig(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d">RepoTGS3SettingsPath</a>));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            if (I == null)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                throw new Exception(&quot;Unable to load TGS3.json from repo!&quot;);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            var J = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            return I == J;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a42e57a4aa98fefe7c844ada8d6f2eb9a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">TGS.Server.Instance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00133">Repository.cs:133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadcdb4e1f858c283771dedb14baeb44d"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d">TGS.Server.Instance.RepoTGS3SettingsPath</a></div><div class="ttdeci">const string RepoTGS3SettingsPath</div><div class="ttdoc">The path to the Repository&amp;#39;s RepoConfig json </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00029">Repository.cs:29</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a28f6f35b683539aabb8a0044f6c83406"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.RequestRestart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restart the server after the currently running world reboots. Has no effect if the server isn't running  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00202">202</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">SendCommand</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5a0fb0d9226f92194581b6cdf4620313">SCHardReboot</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a50ef3869e320d3d7c43859268da2a03a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">TGS.Server.Instance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00158">Interop.cs:158</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5a0fb0d9226f92194581b6cdf4620313"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5a0fb0d9226f92194581b6cdf4620313">TGS.Server.Instance.SCHardReboot</a></div><div class="ttdeci">const string SCHardReboot</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00031">Interop.cs:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af399ffae59f2f1a1595da516e7afca1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.RequestStop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the server after the currently running world reboots. Has no effect if the server isn't running  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a1cc17b51228f48f39040ae0c047955ff">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00208">208</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online || <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a> != <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>.None)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>.Pinged;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">SendCommand</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a166c03452b09f8c70d8d8ca1b578f6">SCGracefulShutdown</a>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a50ef3869e320d3d7c43859268da2a03a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">TGS.Server.Instance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00158">Interop.cs:158</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a24619e3847ca6f303773c3c667a0c644"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">TGS.Server.Instance.ShutdownRequestPhase</a></div><div class="ttdeci">ShutdownRequestPhase</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00017">DreamDaemon.cs:17</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7a166c03452b09f8c70d8d8ca1b578f6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7a166c03452b09f8c70d8d8ca1b578f6">TGS.Server.Instance.SCGracefulShutdown</a></div><div class="ttdeci">const string SCGracefulShutdown</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00032">Interop.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0c164f4ee52435f463c766bb11ead7ec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">TGS.Server.Instance.AwaitingShutdown</a></div><div class="ttdeci">ShutdownRequestPhase AwaitingShutdown</div><div class="ttdoc">Indicator of progress on a RequestRestart or RequestStop operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00092">DreamDaemon.cs:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a76306067d70759b19a58f8b26af86c8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Reset </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>trackedBranch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs git reset &ndash;hard  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a44ad7dca69280d37aa4cd905815594e4">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00824">824</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>() ?? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">ResetNoLock</a>(trackedBranch ? (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.TrackedBranch ?? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head) : <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                <span class="keywordflow">if</span> (res == null)</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: Hard reset to {0}branch&quot;</span>, trackedBranch ? <span class="stringliteral">&quot;tracked &quot;</span> : <span class="stringliteral">&quot;&quot;</span>), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                    <span class="keywordflow">if</span> (trackedBranch)</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">DeletePRList</a>();</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(String.Format(<span class="stringliteral">&quot;Repo branch reset{0}&quot;</span>, trackedBranch ? <span class="stringliteral">&quot; to tracked branch&quot;</span> : <span class="stringliteral">&quot;&quot;</span>), trackedBranch ? <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoResetTracked : <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoReset);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Failed to reset{0}: {1}&quot;</span>, trackedBranch ? <span class="stringliteral">&quot; to tracked branch&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, res), trackedBranch ? <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoResetTrackedFail : <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoResetFail);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a46b377aeb88f2ecc682c545aaacf1b33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">TGS.Server.Instance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the Instance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00856">Repository.cs:856</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6107dd2858d2a2c70cb9ac7d5105d373"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">TGS.Server.Instance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00493">Repository.cs:493</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6107dd2858d2a2c70cb9ac7d5105d373"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.ResetNoLock </td>
          <td>(</td>
          <td class="paramtype">Branch&#160;</td>
          <td class="paramname"><em>targetBranch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent of running <code>git reset --hard</code> on the repository. Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetBranch</td><td>If not , reset to this branch instead of HEAD</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00493">493</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="keywordflow">if</span> (targetBranch != null)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Reset(ResetMode.Hard, targetBranch.Tip);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Reset(ResetMode.Hard);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1f6e8f2764269059a4f278955b4e6204"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Restart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Immediately kills and restarts the server  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a5087c9604baae38f338da978079b0ea0">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00266">266</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>() == <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09aac30b5663a766ec55ee415b954f2b">Start</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">restartLock</a>)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a>)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Restart already in progress&quot;</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DD: Hard restart triggered&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab09a0bda6eaa71b87c84c685e1e13093">Stop</a>();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09aac30b5663a766ec55ee415b954f2b">Start</a>();</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">restartLock</a>)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5863c8e752bf5bf1c25fa4aedad37378"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">TGS.Server.Instance.RestartInProgress</a></div><div class="ttdeci">bool RestartInProgress</div><div class="ttdoc">Used to indicate if an intentional restart is in progress on the watchdog. Requires restartLock to ac...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00078">DreamDaemon.cs:78</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab09a0bda6eaa71b87c84c685e1e13093"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab09a0bda6eaa71b87c84c685e1e13093">TGS.Server.Instance.Stop</a></div><div class="ttdeci">string Stop()</div><div class="ttdoc">Immediately kills the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00220">DreamDaemon.cs:220</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09aac30b5663a766ec55ee415b954f2b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09aac30b5663a766ec55ee415b954f2b">TGS.Server.Instance.Start</a></div><div class="ttdeci">string Start()</div><div class="ttdoc">Starts the server if it isn&amp;#39;t running  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00480">DreamDaemon.cs:480</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4e1de416ca840519b72c26d3018afeaa"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">TGS.Server.Instance.restartLock</a></div><div class="ttdeci">object restartLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00074">DreamDaemon.cs:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf248d713b745dadacbf24ca7d50c155"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.RunDisposals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleans up the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00047">47</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1ae646bbf90e6124e3a73029c193044e">DisposeDreamDaemon</a>();</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a16505761daaff2d3953c2d5869a1dcb8">DisposeCompiler</a>();</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acf1139d8833360b4439c97cfba7fe117">DisposeByond</a>();</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7ca212db696b8c01419fd60902b98378">DisposeRepo</a>();</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2862110636bab21070659ae80a9db6cc">DisposeChat</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a62bb5558624424ef649cfd1d16a37e24">DisposeAdministration</a>();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">Save</a>();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1ae646bbf90e6124e3a73029c193044e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1ae646bbf90e6124e3a73029c193044e">TGS.Server.Instance.DisposeDreamDaemon</a></div><div class="ttdeci">void DisposeDreamDaemon()</div><div class="ttdoc">Either let go of Proc for reattachment or terminate it, depending on InstanceConfig.ReattachRequired of Config </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00160">DreamDaemon.cs:160</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7ca212db696b8c01419fd60902b98378"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7ca212db696b8c01419fd60902b98378">TGS.Server.Instance.DisposeRepo</a></div><div class="ttdeci">void DisposeRepo()</div><div class="ttdoc">Cleans up Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00175">Repository.cs:175</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a8456c8ae4b83292059709e1d4dcbcce0"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">TGS.Server.IInstanceConfig.Save</a></div><div class="ttdeci">void Save()</div><div class="ttdoc">Saves the IInstanceConfig to it&amp;#39;s Instance Directory </div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a16505761daaff2d3953c2d5869a1dcb8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a16505761daaff2d3953c2d5869a1dcb8">TGS.Server.Instance.DisposeCompiler</a></div><div class="ttdeci">void DisposeCompiler()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00080">Compiler.cs:80</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acf1139d8833360b4439c97cfba7fe117"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acf1139d8833360b4439c97cfba7fe117">TGS.Server.Instance.DisposeByond</a></div><div class="ttdeci">void DisposeByond()</div><div class="ttdoc">Called when the Instance is shutdown </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00097">Byond.cs:97</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a62bb5558624424ef649cfd1d16a37e24"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a62bb5558624424ef649cfd1d16a37e24">TGS.Server.Instance.DisposeAdministration</a></div><div class="ttdeci">void DisposeAdministration()</div><div class="ttdoc">Cleans up the ITGAdministration component </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00108">Administration.cs:108</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2862110636bab21070659ae80a9db6cc"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2862110636bab21070659ae80a9db6cc">TGS.Server.Instance.DisposeChat</a></div><div class="ttdeci">void DisposeChat()</div><div class="ttdoc">Properly shuts down all ChatProviders </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00104">Chat.cs:104</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2f290406bac5177798e6af9c5d2487a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a> TGS.Server.Instance.SecurityLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the configured (not necessarily running) security level  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a6c97a78e611972d88a38217668c657d4">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00638">638</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">Security</a>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a329d8bb2a8d1d4d92600d4198095a5b9"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">TGS.Server.IInstanceConfig.Security</a></div><div class="ttdeci">DreamDaemonSecurity Security</div><div class="ttdoc">The DreamDaemonSecurity level for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00045">InstanceConfig.cs:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae6b1cbc3f1bb026d2f57f7af6e0b6024"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.SecurityWord </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>starting</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translate the configured DreamDaemonSecurity level into a byond command line param </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">starting</td><td>If  bases it's result on <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1f36b3bc5a88149c875173d089b0ea27" title="Current DreamDaemonSecurity level of DreamDaemon ">StartingSecurity</a>, uses <a class="el" href="class_t_g_s_1_1_server_1_1_instance_config.html#a3c91f8658d3aabe65c43c778b1eed439">InstanceConfig.Security</a> of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b" title="The configuration settings for the instance ">Config</a> otherwise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>"safe", "trusted", or "ultrasafe" depending on the DreamDaemonSecurity it checks</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00506">506</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            var level = starting ? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1f36b3bc5a88149c875173d089b0ea27">StartingSecurity</a> : <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">Security</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">switch</span> (level)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a>.Safe:</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;safe&quot;</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a>.Trusted:</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;trusted&quot;</span>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a>.Ultrasafe:</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;ultrasafe&quot;</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(String.Format(<span class="stringliteral">&quot;Bad DreamDaemon security level: {0}&quot;</span>, level));</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1f36b3bc5a88149c875173d089b0ea27"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1f36b3bc5a88149c875173d089b0ea27">TGS.Server.Instance.StartingSecurity</a></div><div class="ttdeci">DreamDaemonSecurity StartingSecurity</div><div class="ttdoc">Current DreamDaemonSecurity level of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00087">DreamDaemon.cs:87</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a97d3a0f74c35081df4416cd97291bc1d"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">TGS.Interface.DreamDaemonSecurity</a></div><div class="ttdeci">DreamDaemonSecurity</div><div class="ttdoc">DreamDaemon&amp;#39;s security level </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00159">Enumerations.cs:159</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a329d8bb2a8d1d4d92600d4198095a5b9"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">TGS.Server.IInstanceConfig.Security</a></div><div class="ttdeci">DreamDaemonSecurity Security</div><div class="ttdoc">The DreamDaemonSecurity level for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00045">InstanceConfig.cs:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50ef3869e320d3d7c43859268da2a03a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.SendCommand </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00158">158</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_server_chat_command_8cs_source.html#l00038">TGS.Server.ChatCommands.ServerChatCommand.Run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: Server Offline!&quot;</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6262dc7ff76dd0905edc9ef526f6ef6d">SendTopic</a>(String.Format(<span class="stringliteral">&quot;serviceCommsKey={0};command={1}&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a>, cmd), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6262dc7ff76dd0905edc9ef526f6ef6d"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6262dc7ff76dd0905edc9ef526f6ef6d">TGS.Server.Instance.SendTopic</a></div><div class="ttdeci">string SendTopic(string topicdata, ushort port)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00189">Interop.cs:189</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1cf44712e4c4bc40aeafe001be3e8685"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">TGS.Server.Instance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00022">Interop.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7bf652d7d02976801c7a4781e65da93f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">TGS.Server.Instance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a50ef3869e320d3d7c43859268da2a03a_icgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a50ef3869e320d3d7c43859268da2a03a_icgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a50ef3869e320d3d7c43859268da2a03a_icgraph" id="class_t_g_s_1_1_server_1_1_instance_a50ef3869e320d3d7c43859268da2a03a_icgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_server_chat_command.html#a1985fe3e55ac813dcb91db19e8b28900" title="Override to do the actions of the Command &#160;" alt="" coords="228,5,417,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a6845e432d1c660cd56eb2e26b176b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SendMessage </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>&#160;</td>
          <td class="paramname"><em>mt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Broadcast a message to appropriate channels based on the message type </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to send</td></tr>
    <tr><td class="paramname">mt</td><td>The message type</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">232</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5eb2c7e91e5df165a4e705f606af9173">ChatLock</a>)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">foreach</span> (var <a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a> <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a>)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        ChatProvider.SendMessage(msg, mt);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Chat broadcast failed (Provider: {3}) (Flags: {0}) (Message: {1}): {2}&quot;</span>, mt, msg, e.ToString(), ChatProvider.ProviderInfo().Provider), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.ChatBroadcastFail);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5eb2c7e91e5df165a4e705f606af9173"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5eb2c7e91e5df165a4e705f606af9173">TGS.Server.Instance.ChatLock</a></div><div class="ttdeci">object ChatLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00026">Chat.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a92962bd476db8f04fa4a1a765e9f43a1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">TGS.Server.Instance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00022">Chat.cs:22</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a697d691c1d8794ac9898b4fe67f983c2"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">TGS.Interface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00080">Enumerations.cs:80</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6262dc7ff76dd0905edc9ef526f6ef6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.SendTopic </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>topicdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00189">189</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="comment">//santize the escape characters in accordance with http://www.byond.com/docs/ref/info.html#/proc/params2list</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">topicLock</a>) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0682d849b31d91c475f93ae3960de0a6">CheckAPIVersionConstraints</a>())</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Incompatible API!&quot;</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                StringBuilder stringPacket = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                stringPacket.Append((<span class="keywordtype">char</span>)<span class="stringliteral">&#39;\x00&#39;</span>, 8);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                stringPacket.Append(<span class="charliteral">&#39;?&#39;</span> + topicdata);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                stringPacket.Append((<span class="keywordtype">char</span>)<span class="stringliteral">&#39;\x00&#39;</span>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                <span class="keywordtype">string</span> fullString = stringPacket.ToString();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                var packet = Encoding.ASCII.GetBytes(fullString);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                packet[1] = 0x83;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                var FinalLength = packet.Length - 4;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keywordflow">if</span> (FinalLength &gt; UInt16.MaxValue)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: Topic too long&quot;</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                var lengthBytes = BitConverter.GetBytes((ushort)FinalLength);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                packet[2] = lengthBytes[1]; <span class="comment">//fucking endianess</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                packet[3] = lengthBytes[0];</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                var returnedString = <span class="stringliteral">&quot;NULL&quot;</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                var returnedData = <span class="keyword">new</span> byte[UInt16.MaxValue];</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keyword">using</span> (var topicSender = <span class="keyword">new</span> Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp) { SendTimeout = 5000, ReceiveTimeout = 5000 })</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        topicSender.Connect(IPAddress.Loopback, port);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        topicSender.Send(packet);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                            topicSender.Receive(returnedData);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                            var raw_string = Encoding.ASCII.GetString(returnedData).TrimEnd(<span class="keyword">new</span> <span class="keywordtype">char</span>[] { (char)0 }).Trim();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                            <span class="keywordflow">if</span> (raw_string.Length &gt; 6)</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                returnedString = raw_string.Substring(5, raw_string.Length - 5).Trim();</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        <span class="keywordflow">catch</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                            returnedString = <span class="stringliteral">&quot;Topic recieve error!&quot;</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        <span class="keywordflow">finally</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                            topicSender.Shutdown(SocketShutdown.Both);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    <span class="keywordflow">catch</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Topic delivery failed!&quot;</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    </div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">return</span> returnedString;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a935cbfa1c54a330b8afd2ff1a2709cca"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">TGS.Server.Instance.topicLock</a></div><div class="ttdeci">object topicLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00020">Interop.cs:20</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0682d849b31d91c475f93ae3960de0a6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0682d849b31d91c475f93ae3960de0a6">TGS.Server.Instance.CheckAPIVersionConstraints</a></div><div class="ttdeci">bool CheckAPIVersionConstraints()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00181">Interop.cs:181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e90c4b818594f97eea58aba15d4ac90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.ServerDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the directory of the server on the host machine  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance.html#aa278e18d17d6faccf0ede645a4ae49cf">TGS.Interface.Components.ITGInstance</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00125">125</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a19261e44718496c92045414303b4865c">Directory</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a19261e44718496c92045414303b4865c"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a19261e44718496c92045414303b4865c">TGS.Server.IInstanceConfig.Directory</a></div><div class="ttdeci">string Directory</div><div class="ttdoc">The Instance directory this IInstanceConfig is for </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00015">InstanceConfig.cs:15</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a633f3bd996a517f8430f850d70001c90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.SetAuthorizedGroup </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>groupName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches the windows machine for the group named <em>groupName</em> , sets it as the authorized group if it's found  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_administration.html#abd8e941ba95e64949690e24adbf85ebb">TGS.Interface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00062">62</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">if</span> (groupName == null)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TheDroidsWereLookingFor</a> = null;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aaea363c5691a7b10964e7f390b3a8799">AuthorizedUserGroupSID</a> = null;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">Save</a>();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;ADMIN&quot;</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0f7563f9db47ae1cfb2716377bd9a624">FindTheDroidsWereLookingFor</a>(groupName);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aaea363c5691a7b10964e7f390b3a8799"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aaea363c5691a7b10964e7f390b3a8799">TGS.Server.IInstanceConfig.AuthorizedUserGroupSID</a></div><div class="ttdeci">string AuthorizedUserGroupSID</div><div class="ttdoc">The user group allowed to use the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00104">InstanceConfig.cs:104</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a122dbae4ff3d9cae4370490c8c3f6627"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a122dbae4ff3d9cae4370490c8c3f6627">TGS.Server.Instance.TheDroidsWereLookingFor</a></div><div class="ttdeci">SecurityIdentifier TheDroidsWereLookingFor</div><div class="ttdoc">The SecurityIdentifier of the Windows group authorized to access the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00017">Administration.cs:17</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a8456c8ae4b83292059709e1d4dcbcce0"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a8456c8ae4b83292059709e1d4dcbcce0">TGS.Server.IInstanceConfig.Save</a></div><div class="ttdeci">void Save()</div><div class="ttdoc">Saves the IInstanceConfig to it&amp;#39;s Instance Directory </div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0f7563f9db47ae1cfb2716377bd9a624"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0f7563f9db47ae1cfb2716377bd9a624">TGS.Server.Instance.FindTheDroidsWereLookingFor</a></div><div class="ttdeci">string FindTheDroidsWereLookingFor(string search=null, bool useDomain=false)</div><div class="ttdoc">Set TheDroidsWereLookingFor based off either an search ed name or a string SecurityIdentifier from th...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00080">Administration.cs:80</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a103dd502ffe0ff1d52c606d68de6260a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetAutostart </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the autostart config  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a3d11d1af717be22021e54e5d4f183c41">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00667">667</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a045bd73be1503f1a09f35a9aec231e32">Autostart</a> = on;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a045bd73be1503f1a09f35a9aec231e32"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a045bd73be1503f1a09f35a9aec231e32">TGS.Server.IInstanceConfig.Autostart</a></div><div class="ttdeci">bool Autostart</div><div class="ttdoc">Whether or not the Instance should immediately start DreamDaemon when activated </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00050">InstanceConfig.cs:50</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa4fa38c2c05e7bd4e3f88fc3dc22254f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetAutoUpdateInterval </td>
          <td>(</td>
          <td class="paramtype">ulong&#160;</td>
          <td class="paramname"><em>newInterval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(De)Activate and set the interval for the automatic server updater  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a2d340b585895869686a90e6346a8fc97">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01360">1360</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#adaecb345b5b6040438f86604659051ab">autoUpdateTimer</a>)</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#adaecb345b5b6040438f86604659051ab">autoUpdateTimer</a>.Stop();</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                <span class="keywordflow">if</span> (newInterval &gt; 0) {</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#adaecb345b5b6040438f86604659051ab">autoUpdateTimer</a>.Interval = newInterval * 60 * 1000; <span class="comment">//convert from minutes to ms</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#adaecb345b5b6040438f86604659051ab">autoUpdateTimer</a>.Start();</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                }</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5283565a099ab2de0f8f362f1ea34c56">AutoUpdateInterval</a> = newInterval;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a5283565a099ab2de0f8f362f1ea34c56"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5283565a099ab2de0f8f362f1ea34c56">TGS.Server.IInstanceConfig.AutoUpdateInterval</a></div><div class="ttdeci">ulong AutoUpdateInterval</div><div class="ttdoc">The auto update interval for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00109">InstanceConfig.cs:109</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_adaecb345b5b6040438f86604659051ab"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#adaecb345b5b6040438f86604659051ab">TGS.Server.Instance.autoUpdateTimer</a></div><div class="ttdeci">System.Timers.Timer autoUpdateTimer</div><div class="ttdoc">Used for automatically updating the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00092">Repository.cs:92</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1bfb2ec6315f04af88bb97297b650b39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetCommitterEmail </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newEmail</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the email of the configured git committer  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#ac3d7e580a675bff0ee5bddd36f37128e">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01071">1071</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa88b19975b9e9a48cf8cc231d7758c8f">CommitterEmail</a> = newEmail;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aa88b19975b9e9a48cf8cc231d7758c8f"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa88b19975b9e9a48cf8cc231d7758c8f">TGS.Server.IInstanceConfig.CommitterEmail</a></div><div class="ttdeci">string CommitterEmail</div><div class="ttdoc">Author and committer e-mail for synchronize commits </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00064">InstanceConfig.cs:64</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afedbb93ad10a91d4c88c2b2d6c1c97c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetCommitterName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the name of the configured git committer  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a195ef9a1d85485bb3c56744a974e2ad2">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01059">1059</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ac927a173bbffd9de02a9d8a50cefeec7">CommitterName</a> = newName;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ac927a173bbffd9de02a9d8a50cefeec7"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ac927a173bbffd9de02a9d8a50cefeec7">TGS.Server.IInstanceConfig.CommitterName</a></div><div class="ttdeci">string CommitterName</div><div class="ttdoc">Author and committer name for synchronize commits </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00060">InstanceConfig.cs:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afad1d549f9f3bf36a13bcab8f8c0241a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetCurrentPRList </td>
          <td>(</td>
          <td class="paramtype">IDictionary&lt; string, IDictionary&lt; string, string &gt;&gt;&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serializes pull request info into <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">list</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00885">885</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            var rawdata = JsonConvert.SerializeObject(list, Formatting.Indented);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            File.WriteAllText(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">PRJobFile</a>), rawdata);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afabbb968df135f20d7dc6b9684bb3205"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afabbb968df135f20d7dc6b9684bb3205">TGS.Server.Instance.PRJobFile</a></div><div class="ttdeci">const string PRJobFile</div><div class="ttdoc">File name for monitoring which github pull requests are currently test merged </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00057">Repository.cs:57</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6cac5447eccf0b05ea790475df167a5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetPort </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>new_port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the port to host DD on. Requires reboot to apply. Calls <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>.  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a403afe61674400a53f09bb42fe576b13">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00239">239</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a43e352f34707f8321f52c0310b88c939">Port</a> = new_port;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">RequestRestart</a>();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a43e352f34707f8321f52c0310b88c939"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a43e352f34707f8321f52c0310b88c939">TGS.Server.IInstanceConfig.Port</a></div><div class="ttdeci">ushort Port</div><div class="ttdoc">The port the Instance runs on </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00040">InstanceConfig.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a28f6f35b683539aabb8a0044f6c83406"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">TGS.Server.Instance.RequestRestart</a></div><div class="ttdeci">void RequestRestart()</div><div class="ttdoc">Restart the server after the currently running world reboots. Has no effect if the server isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00202">DreamDaemon.cs:202</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac8eb3b4061e0852344e64c755898ac8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetProjectName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>projectName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the relative path of the dme the compiler will look for without the .dme part  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_compiler.html#a61f93e4c719fc8068052679c3d334510">TGS.Interface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00585">585</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">ProjectName</a> = projectName;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a5af21f03c5d23a6c94270a56f3bc0db8"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">TGS.Server.IInstanceConfig.ProjectName</a></div><div class="ttdeci">string ProjectName</div><div class="ttdoc">The name of the .dme/.dmb the Instance uses </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00035">InstanceConfig.cs:35</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b657fb564360ff614d9801b9c77af6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.SetProviderInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html">ChatSetupInfo</a>&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a chat provider <em>info</em>   </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_chat.html#a00930401b6efa8d897d070be2cf9ece4">TGS.Interface.Components.ITGChat</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00176">176</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_chat_setup_info_8cs_source.html#l00149">TGS.Interface.ChatSetupInfo.AdminChannels</a>, <a class="el" href="_chat_setup_info_8cs_source.html#l00133">TGS.Interface.ChatSetupInfo.AdminList</a>, <a class="el" href="_chat_setup_info_8cs_source.html#l00161">TGS.Interface.ChatSetupInfo.DevChannels</a>, <a class="el" href="_chat_setup_info_8cs_source.html#l00185">TGS.Interface.ChatSetupInfo.GameChannels</a>, <a class="el" href="_chat_setup_info_8cs_source.html#l00206">TGS.Interface.ChatSetupInfo.Provider</a>, and <a class="el" href="_chat_setup_info_8cs_source.html#l00173">TGS.Interface.ChatSetupInfo.WatchdogChannels</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            info.<a class="code" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#ace510c77103bff0d709cc753e05cb2af">AdminList</a>.RemoveAll(x =&gt; String.IsNullOrWhiteSpace(x));</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            info.<a class="code" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a7773ef4bf249fd77b610af017a8b19ec">AdminChannels</a>.RemoveAll(x =&gt; String.IsNullOrWhiteSpace(x));</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            info.<a class="code" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a900c9816cf16a3fc5d2f50ab7c05ec86">GameChannels</a>.RemoveAll(x =&gt; String.IsNullOrWhiteSpace(x));</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            info.<a class="code" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a9138785460803a411ab936d5b723a3fc">DevChannels</a>.RemoveAll(x =&gt; String.IsNullOrWhiteSpace(x));</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            info.<a class="code" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a0a4225cbe012a5fe9be7974925089b49">WatchdogChannels</a>.RemoveAll(x =&gt; String.IsNullOrWhiteSpace(x));</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5eb2c7e91e5df165a4e705f606af9173">ChatLock</a>)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="keywordflow">foreach</span> (var <a class="code" href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">ChatProvider</a> <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">ChatProviders</a>)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                        <span class="keywordflow">if</span> (info.<a class="code" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a76983b47e811711a14aa573bbdcce99e">Provider</a> == ChatProvider.ProviderInfo().Provider)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                            <span class="keywordflow">return</span> ChatProvider.SetProviderInfo(info);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: Invalid provider: &quot;</span> + info.<a class="code" href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a76983b47e811711a14aa573bbdcce99e">Provider</a>.ToString();</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_interface_1_1_chat_setup_info_html_a9138785460803a411ab936d5b723a3fc"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a9138785460803a411ab936d5b723a3fc">TGS.Interface.ChatSetupInfo.DevChannels</a></div><div class="ttdeci">List&lt; string &gt; DevChannels</div><div class="ttdoc">The channels to which repo and compile messages are sent </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00161">ChatSetupInfo.cs:161</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5eb2c7e91e5df165a4e705f606af9173"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5eb2c7e91e5df165a4e705f606af9173">TGS.Server.Instance.ChatLock</a></div><div class="ttdeci">object ChatLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00026">Chat.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_chat_setup_info_html_a7773ef4bf249fd77b610af017a8b19ec"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a7773ef4bf249fd77b610af017a8b19ec">TGS.Interface.ChatSetupInfo.AdminChannels</a></div><div class="ttdeci">List&lt; string &gt; AdminChannels</div><div class="ttdoc">The channels from which admin commands/messages can be sent/received </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00149">ChatSetupInfo.cs:149</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a92962bd476db8f04fa4a1a765e9f43a1"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a92962bd476db8f04fa4a1a765e9f43a1">TGS.Server.Instance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00022">Chat.cs:22</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a697d691c1d8794ac9898b4fe67f983c2"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a697d691c1d8794ac9898b4fe67f983c2">TGS.Interface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00080">Enumerations.cs:80</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_chat_setup_info_html_a0a4225cbe012a5fe9be7974925089b49"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a0a4225cbe012a5fe9be7974925089b49">TGS.Interface.ChatSetupInfo.WatchdogChannels</a></div><div class="ttdeci">List&lt; string &gt; WatchdogChannels</div><div class="ttdoc">The channels to which watchdog messages are sent </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00173">ChatSetupInfo.cs:173</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_chat_setup_info_html_a76983b47e811711a14aa573bbdcce99e"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a76983b47e811711a14aa573bbdcce99e">TGS.Interface.ChatSetupInfo.Provider</a></div><div class="ttdeci">ChatProvider Provider</div><div class="ttdoc">The type of provider </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00206">ChatSetupInfo.cs:206</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_chat_setup_info_html_ace510c77103bff0d709cc753e05cb2af"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#ace510c77103bff0d709cc753e05cb2af">TGS.Interface.ChatSetupInfo.AdminList</a></div><div class="ttdeci">List&lt; string &gt; AdminList</div><div class="ttdoc">The list of admin entries </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00133">ChatSetupInfo.cs:133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_chat_setup_info_html_a900c9816cf16a3fc5d2f50ab7c05ec86"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_chat_setup_info.html#a900c9816cf16a3fc5d2f50ab7c05ec86">TGS.Interface.ChatSetupInfo.GameChannels</a></div><div class="ttdeci">List&lt; string &gt; GameChannels</div><div class="ttdoc">The channels to which game messages are sent </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00185">ChatSetupInfo.cs:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af6e9f04936092063dacb3d6caa23dfb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetPushTestmergeCommits </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>newValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set if we push a temporary branch to the remote when we make testmerge commits  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a07ea3328d8594c9db9df4922488c07d1">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01423">1423</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        {</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae01fa7ad1e0af654ac158901ea1affa3">PushTestmergeCommits</a> = newValue;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ae01fa7ad1e0af654ac158901ea1affa3"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae01fa7ad1e0af654ac158901ea1affa3">TGS.Server.IInstanceConfig.PushTestmergeCommits</a></div><div class="ttdeci">bool PushTestmergeCommits</div><div class="ttdoc">Whether or not testmerge commits are published to a temporary remote branch </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00114">InstanceConfig.cs:114</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5bf9b431d13fee84dba894eff559bd21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.SetSecurityLevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the security level of the server. Requires server reboot to apply. Calls <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>. Note that anything higher than Trusted will disable interop from DD  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a70872f9dc9b89cecf4835dd3d96a5c1f">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00647">647</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keywordtype">bool</span> needReboot;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                needReboot = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">Security</a> != level;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">Security</a> = level;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">if</span> (needReboot)</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">RequestRestart</a>();</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>() != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a28f6f35b683539aabb8a0044f6c83406"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">TGS.Server.Instance.RequestRestart</a></div><div class="ttdeci">void RequestRestart()</div><div class="ttdoc">Restart the server after the currently running world reboots. Has no effect if the server isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00202">DreamDaemon.cs:202</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a329d8bb2a8d1d4d92600d4198095a5b9"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">TGS.Server.IInstanceConfig.Security</a></div><div class="ttdeci">DreamDaemonSecurity Security</div><div class="ttdoc">The DreamDaemonSecurity level for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00045">InstanceConfig.cs:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac4b0aee9af3f27ca17b0066daf07287d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Setup </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>RepoURL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>BranchName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes whatever may be left over and clones the repo at <em>remote</em>  and checks out <em>branch</em> . Will move config and data dirs to a backup location if they exist. Runs asyncronously  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a324c36d13811df776d3deb8adb37514d">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00380">380</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">CompilerLock</a>)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a23f1964bdd8fbef73bb0051869e6a05f">CompilerIdleNoLock</a>())</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Compiler is running!&quot;</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>() != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;DreamDaemon is running!&quot;</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">if</span> (RepoURL.Contains(<span class="stringliteral">&quot;ssh://&quot;</span>) &amp;&amp; !<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455">SSHAuth</a>())</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;SSH url specified but either {0} or {1} does not exist in the server directory!&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a536bd20d4c5e1a84a48c0ef13928495c">PrivateKeyPath</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aaadb267170db9b85e56b13136a93da15">PublicKeyPath</a>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#affa0200662dbc73df3917828e28a46e3">Cloning</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keyword">new</span> Thread(<span class="keyword">new</span> ParameterizedThreadStart(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a3443b6d7f6b2481e21e8c7a63c429221">Clone</a>))</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    IsBackground = <span class="keyword">true</span> <span class="comment">//make sure we don&#39;t hold up shutdown</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                }.Start(RepoURL + <span class="charliteral">&#39; &#39;</span> + BranchName);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad68ae54c26ab5b890469216b9ea68106"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad68ae54c26ab5b890469216b9ea68106">TGS.Server.Instance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">Compiler.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_affa0200662dbc73df3917828e28a46e3"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#affa0200662dbc73df3917828e28a46e3">TGS.Server.Instance.Cloning</a></div><div class="ttdeci">bool Cloning</div><div class="ttdoc">Whether or not a git operation is in progress. See RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7307d215fbff6e1ed02c818cddb1e455"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455">TGS.Server.Instance.SSHAuth</a></div><div class="ttdeci">bool SSHAuth()</div><div class="ttdoc">Check if the Instance is configured for SSH pushing </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01212">Repository.cs:1212</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a536bd20d4c5e1a84a48c0ef13928495c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a536bd20d4c5e1a84a48c0ef13928495c">TGS.Server.Instance.PrivateKeyPath</a></div><div class="ttdeci">const string PrivateKeyPath</div><div class="ttdoc">The path to the private ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00049">Repository.cs:49</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a3443b6d7f6b2481e21e8c7a63c429221"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a3443b6d7f6b2481e21e8c7a63c429221">TGS.Server.Instance.Clone</a></div><div class="ttdeci">void Clone(object twostrings)</div><div class="ttdoc">Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00217">Repository.cs:217</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aaadb267170db9b85e56b13136a93da15"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aaadb267170db9b85e56b13136a93da15">TGS.Server.Instance.PublicKeyPath</a></div><div class="ttdeci">const string PublicKeyPath</div><div class="ttdoc">The path to the public ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00053">Repository.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a23f1964bdd8fbef73bb0051869e6a05f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a23f1964bdd8fbef73bb0051869e6a05f">TGS.Server.Instance.CompilerIdleNoLock</a></div><div class="ttdeci">bool CompilerIdleNoLock()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00099">Compiler.cs:99</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ebe4076139e92478d2de6713c1ff424"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.SetWebclient </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the webclient config. Calls <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a7eb993e0970d0f4b22e88a4483b9ab18">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00738">738</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                var diff = on != <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a7b111d4fdb7927e581db959496ae415a">Webclient</a>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <span class="keywordflow">if</span> (diff)</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a7b111d4fdb7927e581db959496ae415a">Webclient</a> = on;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">RequestRestart</a>();</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a28f6f35b683539aabb8a0044f6c83406"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">TGS.Server.Instance.RequestRestart</a></div><div class="ttdeci">void RequestRestart()</div><div class="ttdoc">Restart the server after the currently running world reboots. Has no effect if the server isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00202">DreamDaemon.cs:202</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a7b111d4fdb7927e581db959496ae415a"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a7b111d4fdb7927e581db959496ae415a">TGS.Server.IInstanceConfig.Webclient</a></div><div class="ttdeci">bool Webclient</div><div class="ttdoc">Whether or not DreamDaemon allows connections from webclients </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00055">InstanceConfig.cs:55</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add2fb04b7c86d81968d0b2d9e6f28d18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.ShutdownInProgress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a server stop has been requested  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#af4902d7bd779af684e548c33e80810ea">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00714">714</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a> != <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>.None;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a24619e3847ca6f303773c3c667a0c644"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">TGS.Server.Instance.ShutdownRequestPhase</a></div><div class="ttdeci">ShutdownRequestPhase</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00017">DreamDaemon.cs:17</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0c164f4ee52435f463c766bb11ead7ec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">TGS.Server.Instance.AwaitingShutdown</a></div><div class="ttdeci">ShutdownRequestPhase AwaitingShutdown</div><div class="ttdoc">Indicator of progress on a RequestRestart or RequestStop operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00092">DreamDaemon.cs:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7307d215fbff6e1ed02c818cddb1e455"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.SSHAuth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> is configured for SSH pushing </p>
<dl class="section return"><dt>Returns</dt><dd>if the see cref="Instance"/&gt; is configured for SSH pushing,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01212">1212</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            <span class="keywordflow">return</span> File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a536bd20d4c5e1a84a48c0ef13928495c">PrivateKeyPath</a>)) &amp;&amp; File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aaadb267170db9b85e56b13136a93da15">PublicKeyPath</a>));</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a536bd20d4c5e1a84a48c0ef13928495c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a536bd20d4c5e1a84a48c0ef13928495c">TGS.Server.Instance.PrivateKeyPath</a></div><div class="ttdeci">const string PrivateKeyPath</div><div class="ttdoc">The path to the private ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00049">Repository.cs:49</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aaadb267170db9b85e56b13136a93da15"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aaadb267170db9b85e56b13136a93da15">TGS.Server.Instance.PublicKeyPath</a></div><div class="ttdeci">const string PublicKeyPath</div><div class="ttdoc">The path to the public ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00053">Repository.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a09aac30b5663a766ec55ee415b954f2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the server if it isn't running  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#aacfd75d32ce9b0fe693daf2ff0143347">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00480">480</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab412ffc953f7e52aa48bf26a0fa5eaa4">CurrentStatus</a>() == <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Staged)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="comment">//IMPORTANT: SLEEP FOR A MOMENT OR WONDOWS WON&#39;T RELEASE THE FUCKING BYOND DLL HANDLES!!!! REEEEEEE</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                Thread.Sleep(3000);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac318b9e316c87b79912f3e6551f1ec3e">ApplyStagedUpdate</a>();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Server already running&quot;</span>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a604a8e753988470876536ec1b39f94e2">CanStart</a>();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a> = 0;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.HardRebooting;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4bfb8765130a4bdb2058979f5f41a8f4">StartImpl</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a604a8e753988470876536ec1b39f94e2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a604a8e753988470876536ec1b39f94e2">TGS.Server.Instance.CanStart</a></div><div class="ttdeci">string CanStart()</div><div class="ttdoc">Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces  ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00469">DreamDaemon.cs:469</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4bfb8765130a4bdb2058979f5f41a8f4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4bfb8765130a4bdb2058979f5f41a8f4">TGS.Server.Instance.StartImpl</a></div><div class="ttdeci">string StartImpl(bool watchdog)</div><div class="ttdoc">Clears the current GameAPIVersion, calls UpdateBridgeDll(bool) with a  parameter, and attempts to sta...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00588">DreamDaemon.cs:588</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab412ffc953f7e52aa48bf26a0fa5eaa4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab412ffc953f7e52aa48bf26a0fa5eaa4">TGS.Server.Instance.CurrentStatus</a></div><div class="ttdeci">ByondStatus CurrentStatus()</div><div class="ttdoc">Gets the current status of any BYOND updates  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00129">Byond.cs:129</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac318b9e316c87b79912f3e6551f1ec3e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac318b9e316c87b79912f3e6551f1ec3e">TGS.Server.Instance.ApplyStagedUpdate</a></div><div class="ttdeci">bool ApplyStagedUpdate()</div><div class="ttdoc">Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00314">Byond.cs:314</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4b94c11ccb4064514452be149335bcb0"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">TGS.Interface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00032">Enumerations.cs:32</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7bf652d7d02976801c7a4781e65da93f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">TGS.Server.Instance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4bfb8765130a4bdb2058979f5f41a8f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.StartImpl </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>watchdog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the current <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a>, calls <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9" title="Copies BridgeDLLName from the program directory to the the Instance directory ">UpdateBridgeDll(bool)</a> with a  parameter, and attempts to start the DreamDaemon <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33" title="The DreamDaemon process ">Proc</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watchdog</td><td>If , sets <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc" title="The thread that monitors the status of DreamDaemon ">DDWatchdog</a> to a new Thread pointing to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a997fa4bfb2ab7d7034d33c5ae8268894" title="Threaded loop that keeps DreamDaemon from unintentionally stopping ">Watchdog</a> and starts it</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00588">588</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a604a8e753988470876536ec1b39f94e2">CanStart</a>();</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    </div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    var DMB = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a> + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">ProjectName</a> + <span class="stringliteral">&quot;.dmb&quot;</span>);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a79fe7f8f358836c364eb1721bac471fe">GenCommsKey</a>();</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1f36b3bc5a88149c875173d089b0ea27">StartingSecurity</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">Security</a>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.StartInfo.Arguments = String.Format(<span class="stringliteral">&quot;{0} -port {1} {5}-close -verbose -params \&quot;server_service={3}&amp;server_service_version={4}&amp;{6}={7}\&quot; -{2} -public&quot;</span>, DMB, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a43e352f34707f8321f52c0310b88c939">Port</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae6b1cbc3f1bb026d2f57f7af6e0b6024">SecurityWord</a>(), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">Version</a>(), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a7b111d4fdb7927e581db959496ae415a">Webclient</a> ? <span class="stringliteral">&quot;-webclient &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab2352e546e76af17815f6df592c29648">SPInstanceName</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a3833c4e4629bced994a5d641f49d1e13">Name</a>);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9">UpdateBridgeDll</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">topicLock</a>)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a> = null;  <span class="comment">//needs updating</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Start();</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.PriorityClass = ProcessPriorityClass.AboveNormal;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.WaitForInputIdle(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2124d6039dfc0e03091319fc937440f5">DDHangStartTime</a> * 1000))</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Kill();</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.WaitForExit();</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Close();</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a> = 0;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Server start is taking more than {0}s! Aborting!&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2124d6039dfc0e03091319fc937440f5">DDHangStartTime</a>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a43e352f34707f8321f52c0310b88c939">Port</a>;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    <span class="keywordflow">if</span> (!watchdog)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">DDWatchdog</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a997fa4bfb2ab7d7034d33c5ae8268894">Watchdog</a>));</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">DDWatchdog</a>.Start();</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a79fe7f8f358836c364eb1721bac471fe"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a79fe7f8f358836c364eb1721bac471fe">TGS.Server.Instance.GenCommsKey</a></div><div class="ttdeci">void GenCommsKey()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00247">Interop.cs:247</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1f36b3bc5a88149c875173d089b0ea27"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1f36b3bc5a88149c875173d089b0ea27">TGS.Server.Instance.StartingSecurity</a></div><div class="ttdeci">DreamDaemonSecurity StartingSecurity</div><div class="ttdoc">Current DreamDaemonSecurity level of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00087">DreamDaemon.cs:87</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae6b1cbc3f1bb026d2f57f7af6e0b6024"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae6b1cbc3f1bb026d2f57f7af6e0b6024">TGS.Server.Instance.SecurityWord</a></div><div class="ttdeci">string SecurityWord(bool starting=false)</div><div class="ttdoc">Translate the configured DreamDaemonSecurity level into a byond command line param ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00506">DreamDaemon.cs:506</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85b6d2d0e931f3961b0c1a75577d13dc"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">TGS.Server.Instance.DDWatchdog</a></div><div class="ttdeci">Thread DDWatchdog</div><div class="ttdoc">The thread that monitors the status of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00057">DreamDaemon.cs:57</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a604a8e753988470876536ec1b39f94e2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a604a8e753988470876536ec1b39f94e2">TGS.Server.Instance.CanStart</a></div><div class="ttdeci">string CanStart()</div><div class="ttdoc">Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces  ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00469">DreamDaemon.cs:469</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a5af21f03c5d23a6c94270a56f3bc0db8"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a5af21f03c5d23a6c94270a56f3bc0db8">TGS.Server.IInstanceConfig.ProjectName</a></div><div class="ttdeci">string ProjectName</div><div class="ttdoc">The name of the .dme/.dmb the Instance uses </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00035">InstanceConfig.cs:35</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a06fedfc5265b7b47b9d38b518d1bcdfd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">TGS.Server.Instance.Version</a></div><div class="ttdeci">string Version()</div><div class="ttdoc">Retrieve&amp;#39;s the service&amp;#39;s version  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00108">Instance.cs:108</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab2352e546e76af17815f6df592c29648"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab2352e546e76af17815f6df592c29648">TGS.Server.Instance.SPInstanceName</a></div><div class="ttdeci">const string SPInstanceName</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00028">Interop.cs:28</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a124a5b5441422817b08d3eaf3ec155a9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a124a5b5441422817b08d3eaf3ec155a9">TGS.Server.Instance.UpdateBridgeDll</a></div><div class="ttdeci">void UpdateBridgeDll(bool overwrite)</div><div class="ttdoc">Copies BridgeDLLName from the program directory to the the Instance directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00526">DreamDaemon.cs:526</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af8f30af9b177beb6c309e05d0d56be33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">TGS.Server.Instance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a935cbfa1c54a330b8afd2ff1a2709cca"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a935cbfa1c54a330b8afd2ff1a2709cca">TGS.Server.Instance.topicLock</a></div><div class="ttdeci">object topicLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00020">Interop.cs:20</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab70169b31147444e4b4c1a2feba9b70e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">TGS.Server.Instance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a3833c4e4629bced994a5d641f49d1e13"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a3833c4e4629bced994a5d641f49d1e13">TGS.Server.IInstanceConfig.Name</a></div><div class="ttdeci">string Name</div><div class="ttdoc">The name of the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00025">InstanceConfig.cs:25</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2124d6039dfc0e03091319fc937440f5"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2124d6039dfc0e03091319fc937440f5">TGS.Server.Instance.DDHangStartTime</a></div><div class="ttdeci">const int DDHangStartTime</div><div class="ttdoc">Time until DD is considered DOA on startup </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00035">DreamDaemon.cs:35</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1cf44712e4c4bc40aeafe001be3e8685"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">TGS.Server.Instance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00022">Interop.cs:22</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a43e352f34707f8321f52c0310b88c939"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a43e352f34707f8321f52c0310b88c939">TGS.Server.IInstanceConfig.Port</a></div><div class="ttdeci">ushort Port</div><div class="ttdoc">The port the Instance runs on </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00040">InstanceConfig.cs:40</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a997fa4bfb2ab7d7034d33c5ae8268894"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a997fa4bfb2ab7d7034d33c5ae8268894">TGS.Server.Instance.Watchdog</a></div><div class="ttdeci">void Watchdog()</div><div class="ttdoc">Threaded loop that keeps DreamDaemon from unintentionally stopping </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00304">DreamDaemon.cs:304</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a7b111d4fdb7927e581db959496ae415a"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a7b111d4fdb7927e581db959496ae415a">TGS.Server.IInstanceConfig.Webclient</a></div><div class="ttdeci">bool Webclient</div><div class="ttdoc">Whether or not DreamDaemon allows connections from webclients </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00055">InstanceConfig.cs:55</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadbc57076386211c5940d4283ff28cd0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">TGS.Server.Instance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00026">Interop.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7bf652d7d02976801c7a4781e65da93f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">TGS.Server.Instance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a329d8bb2a8d1d4d92600d4198095a5b9"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a329d8bb2a8d1d4d92600d4198095a5b9">TGS.Server.IInstanceConfig.Security</a></div><div class="ttdeci">DreamDaemonSecurity Security</div><div class="ttdoc">The DreamDaemonSecurity level for the Instance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00045">InstanceConfig.cs:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5e9546bdbc10562ae3f144ab7247acb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.StatusString </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeMetaInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a human readable string of the current server status  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a91f5f63efdc35082e527c05191c254bd">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00673">673</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">string</span> visSecStr = <span class="stringliteral">&quot; (Sec: {0})&quot;</span>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordtype">string</span> res;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            var ds = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>();</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordflow">switch</span> (ds)</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline:</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    res = <span class="stringliteral">&quot;OFFLINE&quot;</span>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.HardRebooting:</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                    res = <span class="stringliteral">&quot;REBOOTING&quot;</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online:</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    res = <span class="stringliteral">&quot;ONLINE&quot;</span>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    <span class="keywordflow">if</span> (includeMetaInfo)</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                    {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        <span class="keywordtype">string</span> secandvis;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                            secandvis = String.Format(visSecStr, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae6b1cbc3f1bb026d2f57f7af6e0b6024">SecurityWord</a>(<span class="keyword">true</span>));</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        res += secandvis;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                    }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    res = <span class="stringliteral">&quot;NULL AND ERRORS&quot;</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            <span class="keywordflow">if</span> (includeMetaInfo &amp;&amp; ds != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                res += String.Format(visSecStr, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae6b1cbc3f1bb026d2f57f7af6e0b6024">SecurityWord</a>());</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae6b1cbc3f1bb026d2f57f7af6e0b6024"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae6b1cbc3f1bb026d2f57f7af6e0b6024">TGS.Server.Instance.SecurityWord</a></div><div class="ttdeci">string SecurityWord(bool starting=false)</div><div class="ttdoc">Translate the configured DreamDaemonSecurity level into a byond command line param ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00506">DreamDaemon.cs:506</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab09a0bda6eaa71b87c84c685e1e13093"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Immediately kills the server  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a1ee4b2bcbe570c8f5b2e1c4a64afe1e4">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00220">220</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            Thread t;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                t = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">DDWatchdog</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">DDWatchdog</a> = null;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">if</span> (t != null &amp;&amp; t.IsAlive)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                t.Abort();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                t.Join();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Server not running&quot;</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85b6d2d0e931f3961b0c1a75577d13dc"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85b6d2d0e931f3961b0c1a75577d13dc">TGS.Server.Instance.DDWatchdog</a></div><div class="ttdeci">Thread DDWatchdog</div><div class="ttdoc">The thread that monitors the status of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00057">DreamDaemon.cs:57</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8be905dbecf8c22a190e20ab990eded3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.SynchronizePush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exist for this function to succeed  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a40f5f8b961f0df14683cb0502c40090b">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01077">1077</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                var <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">GetCachedRepoConfig</a>();</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                <span class="keywordflow">if</span> (Config == null)</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error reading changelog configuration&quot;</span>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                <span class="keywordflow">if</span> (!Config.ChangelogSupport || !<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455">SSHAuth</a>())</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae3cfb93eda91ea124d29375bae70b37b">LocalIsRemote</a>() ? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aaddf123cd4c3ceec4b4f8734bf4da456">Commit</a>(Config) ?? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a425b98c157a0fd03f603a1ee19a73ea8">Push</a>() : <span class="stringliteral">&quot;Can&#39;t push changelog: HEAD does not match tracked remote branch&quot;</span>;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae3cfb93eda91ea124d29375bae70b37b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae3cfb93eda91ea124d29375bae70b37b">TGS.Server.Instance.LocalIsRemote</a></div><div class="ttdeci">bool LocalIsRemote()</div><div class="ttdoc">Check if the current HEAD matches the tracked remote branch HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01133">Repository.cs:1133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7307d215fbff6e1ed02c818cddb1e455"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7307d215fbff6e1ed02c818cddb1e455">TGS.Server.Instance.SSHAuth</a></div><div class="ttdeci">bool SSHAuth()</div><div class="ttdoc">Check if the Instance is configured for SSH pushing </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01212">Repository.cs:1212</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a425b98c157a0fd03f603a1ee19a73ea8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a425b98c157a0fd03f603a1ee19a73ea8">TGS.Server.Instance.Push</a></div><div class="ttdeci">string Push()</div><div class="ttdoc">Push HEAD to SSHPushRemote. Requires repo be locked, LoadRepo, LocalIsRemote, and SSHAuth ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01189">Repository.cs:1189</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aaddf123cd4c3ceec4b4f8734bf4da456"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aaddf123cd4c3ceec4b4f8734bf4da456">TGS.Server.Instance.Commit</a></div><div class="ttdeci">string Commit(RepoConfig Config)</div><div class="ttdoc">Create a commit based on a Config . Requires RepoLock and LoadRepo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01159">Repository.cs:1159</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a42e57a4aa98fefe7c844ada8d6f2eb9a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a42e57a4aa98fefe7c844ada8d6f2eb9a">TGS.Server.Instance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00133">Repository.cs:133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1f307cfcce4bfa27ff8d7f16947c7498"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Update </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetches the origin and merges it into the current branch  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#aff0db148f71712606c4e4a226807b1ba">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00646">646</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a607fe93fc7de00f94ff70963de9b5348">UpdateImpl</a>(reset, <span class="keyword">true</span>);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a607fe93fc7de00f94ff70963de9b5348"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a607fe93fc7de00f94ff70963de9b5348">TGS.Server.Instance.UpdateImpl</a></div><div class="ttdeci">string UpdateImpl(bool reset, bool successOnUpToDate)</div><div class="ttdoc">Fetches the origin and merges it into the current branch </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00657">Repository.cs:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a124a5b5441422817b08d3eaf3ec155a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.UpdateBridgeDll </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwrite</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7" title="The file name of the .dll that contains the ITGInterop bridge class ">BridgeDLLName</a> from the program directory to the the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> directory </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">overwrite</td><td>If , overwrites the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>'s current interface .dll if it exists</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00526">526</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            var rbdlln = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            var FileExists = File.Exists(rbdlln);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">if</span> (FileExists &amp;&amp; !overwrite)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="comment">//Copy the interface dll to the static dir</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            var InterfacePath = Assembly.GetAssembly(typeof(<a class="code" href="interface_t_g_s_1_1_interface_1_1_i_server_interface.html">IServerInterface</a>)).Location;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="comment">//bridge is installed next to the interface</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            var BridgePath = Path.Combine(Path.GetDirectoryName(InterfacePath), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="preprocessor">#if DEBUG</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="comment">//We could be debugging from the project directory</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">if</span> (!File.Exists(BridgePath))</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="comment">//A little hackish debug mode doctoring never hurt anyone</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                BridgePath = Path.Combine(Path.GetDirectoryName(Path.GetDirectoryName(Path.GetDirectoryName(Path.GetDirectoryName(InterfacePath)))), <span class="stringliteral">&quot;TGS.Interface.Bridge/bin/x86/Debug&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <span class="comment">//Use reflection to ensure these are the droids we&#39;re looking for</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                Assembly.ReflectionOnlyLoadFrom(BridgePath).GetType(String.Format(<span class="stringliteral">&quot;{0}.{1}.{2}.{3}&quot;</span>, nameof(<a class="code" href="namespace_t_g_s.html">TGS</a>), nameof(Interface), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a51da4f509e8fbd0f85ef097c9a58e8aa">DreamDaemonBridgeNamespace</a>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac855a51c22d3290a2e6d77b397c916e3">DreamDaemonBridgeType</a>), <span class="keyword">true</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(String.Format(<span class="stringliteral">&quot;Unable to locate {0}! Error: {1}&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">BridgeDLLName</a>, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.BridgeDLLUpdateFail);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                <span class="keywordflow">if</span> (FileExists)</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                    var Old = File.ReadAllBytes(rbdlln);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    var New = File.ReadAllBytes(BridgePath);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    <span class="keywordflow">if</span> (Old.SequenceEqual(New))</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                        <span class="keywordflow">return</span>; <span class="comment">//no need</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                File.Copy(BridgePath, rbdlln, overwrite);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="keywordflow">catch</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <span class="comment">//ok the things being stupid and hasn&#39;t released the dll yet, try ONCE more</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    Thread.Sleep(1000);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                    File.Copy(BridgePath, rbdlln, overwrite);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    <span class="comment">//intentionally using the fi</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Failed to update bridge DLL! Error: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.BridgeDLLUpdateFail);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Updated interface DLL&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.BridgeDLLUpdated);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac6267c88a28d1fdc4987103c97b401c7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac6267c88a28d1fdc4987103c97b401c7">TGS.Server.Instance.BridgeDLLName</a></div><div class="ttdeci">const string BridgeDLLName</div><div class="ttdoc">The file name of the .dll that contains the ITGInterop bridge class </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00056">Interop.cs:56</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_interface_1_1_i_server_interface_html"><div class="ttname"><a href="interface_t_g_s_1_1_interface_1_1_i_server_interface.html">TGS.Interface.IServerInterface</a></div><div class="ttdoc">Main  for communicating the ITGSService </div><div class="ttdef"><b>Definition:</b> <a href="_server_interface_8cs_source.html#l00018">ServerInterface.cs:18</a></div></div>
<div class="ttc" id="namespace_t_g_s_html"><div class="ttname"><a href="namespace_t_g_s.html">TGS</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a51da4f509e8fbd0f85ef097c9a58e8aa"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a51da4f509e8fbd0f85ef097c9a58e8aa">TGS.Server.Instance.DreamDaemonBridgeNamespace</a></div><div class="ttdeci">const string DreamDaemonBridgeNamespace</div><div class="ttdoc">The namespace that contains the ITGInterop bridge class. Used for reflection </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00060">Interop.cs:60</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac855a51c22d3290a2e6d77b397c916e3"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac855a51c22d3290a2e6d77b397c916e3">TGS.Server.Instance.DreamDaemonBridgeType</a></div><div class="ttdeci">const string DreamDaemonBridgeType</div><div class="ttdoc">The ITGInterop bridge class. Used for reflection </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00064">Interop.cs:64</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a607fe93fc7de00f94ff70963de9b5348"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.UpdateImpl </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>successOnUpToDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the origin and merges it into the current branch </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reset</td><td>If , the operation will perform a hard reset instead of a merge</td></tr>
    <tr><td class="paramname">successOnUpToDate</td><td>If , a return value of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a61ce14bfd634ae093b669fb8ba61b9fd" title="Error message for when a merge operation fails due to the target branch already having the source bra...">RepoErrorUpToDate</a> will be changed to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00657">657</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">RepoLock</a>)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">RepoBusy</a>)</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                var result = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>();</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head == null || !<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.IsTracking)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot update while not on a tracked branch&quot;</span>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2d148a0b4c82814e214f51401ca0626e">Fetch</a>();</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    var originBranch = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.TrackedBranch;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    <span class="keywordflow">if</span> (!successOnUpToDate &amp;&amp; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.Tip.Sha == originBranch.Tip.Sha)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a61ce14bfd634ae093b669fb8ba61b9fd">RepoErrorUpToDate</a>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: Updating origin branch...{0}&quot;</span>, reset ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;(Merge)&quot;</span>), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    <span class="keywordflow">if</span> (reset)</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                        var error = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">ResetNoLock</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Head.TrackedBranch);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa3c2cfeebe2079f6d35ae257d13fbe4">UpdateSubmodules</a>();</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                        <span class="keywordflow">if</span> (error != null)</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                            <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(error);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">DeletePRList</a>();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Repo hard updated to &quot;</span> + originBranch.Tip.Sha, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoHardUpdate);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        <span class="keywordflow">return</span> error;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                    }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                    res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a32f473cc0c8d3f91c6fe8927fe927996">MergeBranch</a>(originBranch.FriendlyName, <span class="stringliteral">&quot;Merge origin into current testmerge&quot;</span>);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae3cfb93eda91ea124d29375bae70b37b">LocalIsRemote</a>())   <span class="comment">//might be fast forward</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a17149c71ad3f539181c44db6b9d17370">PushTestmergeCommit</a>();</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(res);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa3c2cfeebe2079f6d35ae257d13fbe4">UpdateSubmodules</a>();</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Repo merge updated to &quot;</span> + originBranch.Tip.Sha, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoMergeUpdate);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                <span class="keywordflow">catch</span> (Exception E)</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;REPO: Update failed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Repo{0} update failed&quot;</span>, reset ? <span class="stringliteral">&quot; hard&quot;</span> : <span class="stringliteral">&quot;&quot;</span>), reset ? <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoHardUpdateFail : <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.RepoMergeUpdateFail);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    <span class="keywordflow">return</span> E.ToString();</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a61ce14bfd634ae093b669fb8ba61b9fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a61ce14bfd634ae093b669fb8ba61b9fd">TGS.Server.Instance.RepoErrorUpToDate</a></div><div class="ttdeci">const string RepoErrorUpToDate</div><div class="ttdoc">Error message for when a merge operation fails due to the target branch already having the source bra...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00037">Repository.cs:37</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae3cfb93eda91ea124d29375bae70b37b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae3cfb93eda91ea124d29375bae70b37b">TGS.Server.Instance.LocalIsRemote</a></div><div class="ttdeci">bool LocalIsRemote()</div><div class="ttdoc">Check if the current HEAD matches the tracked remote branch HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01133">Repository.cs:1133</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a32f473cc0c8d3f91c6fe8927fe927996"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a32f473cc0c8d3f91c6fe8927fe927996">TGS.Server.Instance.MergeBranch</a></div><div class="ttdeci">string MergeBranch(string committish, string mergeMessage)</div><div class="ttdoc">Merges given committish  into the current branch </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00570">Repository.cs:570</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a46b377aeb88f2ecc682c545aaacf1b33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a46b377aeb88f2ecc682c545aaacf1b33">TGS.Server.Instance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the Instance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00856">Repository.cs:856</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a6107dd2858d2a2c70cb9ac7d5105d373"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a6107dd2858d2a2c70cb9ac7d5105d373">TGS.Server.Instance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00493">Repository.cs:493</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1e7fb86e4909538c2cfb04e228717c4b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b">TGS.Server.Instance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">Repository.cs:74</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a17149c71ad3f539181c44db6b9d17370"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a17149c71ad3f539181c44db6b9d17370">TGS.Server.Instance.PushTestmergeCommit</a></div><div class="ttdeci">void PushTestmergeCommit()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00598">Repository.cs:598</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa3c2cfeebe2079f6d35ae257d13fbe4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa3c2cfeebe2079f6d35ae257d13fbe4">TGS.Server.Instance.UpdateSubmodules</a></div><div class="ttdeci">void UpdateSubmodules()</div><div class="ttdoc">Properly updates any git submodules in the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00712">Repository.cs:712</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2d148a0b4c82814e214f51401ca0626e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2d148a0b4c82814e214f51401ca0626e">TGS.Server.Instance.Fetch</a></div><div class="ttdeci">string Fetch()</div><div class="ttdoc">Fetches origin </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01113">Repository.cs:1113</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af61d84cdc4e6ebdfab069f9705c4254b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b">TGS.Server.Instance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">Repository.cs:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac0300d04759251f1a83dd9f37c165c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.UpdateLiveSha </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newSha</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647" title="The branch that points to the current commit that is live or staged to be live in DreamDaemon ...">LiveTrackingBranch</a> with the staged <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a6bf343168b3fcc0efef459a12b9fabdf" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ...">Compile(bool)</a>'s SHA </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newSha</td><td>The commit SHA that was staged</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l01396">1396</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">LoadRepo</a>() != null)</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            var B = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches[<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647">LiveTrackingBranch</a>];</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            <span class="keywordflow">if</span> (B != null)</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Branches.Remove(B);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.CreateBranch(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647">LiveTrackingBranch</a>, newSha);      </div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5c950acf89122f63e09ca01c495f647"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5c950acf89122f63e09ca01c495f647">TGS.Server.Instance.LiveTrackingBranch</a></div><div class="ttdeci">const string LiveTrackingBranch</div><div class="ttdoc">The branch that points to the current commit that is live or staged to be live in DreamDaemon ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00061">Repository.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a8170aa201e010210c23b5f6bb75b19ba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a8170aa201e010210c23b5f6bb75b19ba">TGS.Server.Instance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00155">Repository.cs:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa3c2cfeebe2079f6d35ae257d13fbe4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.UpdateSubmodules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Properly updates any git submodules in the repository </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00712">712</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00035">TGS.Server.Helpers.DeleteDirectory()</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            var suo = <span class="keyword">new</span> SubmoduleUpdateOptions</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                Init = <span class="keyword">true</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            };</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Submodules)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Submodules.Update(I.Name, suo);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                    {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                        <span class="comment">//workaround for https://github.com/libgit2/libgit2/issues/3820</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                        <span class="comment">//kill off the modules/ folder in .git and try again</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                        {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                            <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.DeleteDirectory(String.Format(<span class="stringliteral">&quot;{0}/.git/modules/{1}&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a>, I.Path));</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                        }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                        <span class="keywordflow">catch</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                        {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                            <span class="keywordflow">throw</span> e;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                        }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">Repo</a>.Submodules.Update(I.Name, suo);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                        var msg = String.Format(<span class="stringliteral">&quot;I had to reclone submodule {0}. If this is happening a lot find a better hack or fix https://github.com/libgit2/libgit2/issues/3820!&quot;</span>, I.Name);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: {0}&quot;</span>, msg), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(msg, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.Submodule);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                    }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                    <span class="keywordflow">catch</span> (Exception ex)</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                    {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(String.Format(<span class="stringliteral">&quot;Failed to update submodule {0}! Error: {1}&quot;</span>, I.Name, ex.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.Submodule);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac5445b16310369325042c5f678d330fd"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">TGS.Server.Instance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The Instance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">Repository.cs:21</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae59778f28034fa3b6dd2abec09536f6e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae59778f28034fa3b6dd2abec09536f6e">TGS.Server.Instance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">Repository.cs:83</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_afa3c2cfeebe2079f6d35ae257d13fbe4_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_afa3c2cfeebe2079f6d35ae257d13fbe4_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_afa3c2cfeebe2079f6d35ae257d13fbe4_cgraph" id="class_t_g_s_1_1_server_1_1_instance_afa3c2cfeebe2079f6d35ae257d13fbe4_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#a5b1d1510ab671f24b98ecafa79f98c00" title="Recursive directory deleter " alt="" coords="240,5,417,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f4b564db63526863dacc273a6715801"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.UpdateTGS3Json </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b" title="Path to the Instance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> with the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d" title="The path to the Repository&#39;s RepoConfig json ">RepoTGS3SettingsPath</a> </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_repository.html#a41664de7b246f2ab04a23751bf1e1455">TGS.Interface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00318">318</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d">RepoTGS3SettingsPath</a>)))</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    File.Copy(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d">RepoTGS3SettingsPath</a>), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b">CachedTGS3SettingsPath</a>), <span class="keyword">true</span>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b">CachedTGS3SettingsPath</a>)))</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    File.Delete(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b">CachedTGS3SettingsPath</a>));</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">catch</span>(Exception e)</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ab02a3f6b4183f965d6e7f1f3b69c771b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ab02a3f6b4183f965d6e7f1f3b69c771b">TGS.Server.Instance.CachedTGS3SettingsPath</a></div><div class="ttdeci">const string CachedTGS3SettingsPath</div><div class="ttdoc">Path to the Instance&amp;#39;s RepoConfig json </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00033">Repository.cs:33</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadcdb4e1f858c283771dedb14baeb44d"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadcdb4e1f858c283771dedb14baeb44d">TGS.Server.Instance.RepoTGS3SettingsPath</a></div><div class="ttdeci">const string RepoTGS3SettingsPath</div><div class="ttdoc">The path to the Repository&amp;#39;s RepoConfig json </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00029">Repository.cs:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a985e225708d6d6fbcc4f59ef443d63cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.UpdateToVersion </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>updates the used byond version to that of version <em>major</em> .<em>minor</em> . The change won't take place until DD reboots. Calls <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#afe7e200808bc44955ee6c3e841dbd61e" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">ITGDreamDaemon.RequestRestart</a> if blocked by a running DD instance. Runs asyncronously, use <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html#aff24d2169e2f4ba5767fe1499c405a53" title="Gets the current status of any BYOND updates ">CurrentStatus</a> to check progress  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_byond.html#a780953f7708ed83e45528fd4344b9d8a">TGS.Interface.Components.ITGByond</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00292">292</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#accd844ee6162c4270fec7671e706439c">BusyCheck</a>())</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Starting;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">RevisionStaging</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ParameterizedThreadStart(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a833b631d726a8040002d3c83db7fdb8e">UpdateToVersionImpl</a>))</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                        IsBackground = <span class="keyword">true</span> <span class="comment">//don&#39;t slow me down</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    };</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">RevisionStaging</a>.Start(String.Format(<span class="stringliteral">&quot;{0}.{1}&quot;</span>, major, minor));</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>; </div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        }</div><div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4b94c11ccb4064514452be149335bcb0"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">TGS.Interface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00032">Enumerations.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a05106e6dc12c2e62d28555ea51f7ce7b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">TGS.Server.Instance.RevisionStaging</a></div><div class="ttdeci">Thread RevisionStaging</div><div class="ttdoc">Thread used for staging BYOND revisions </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00072">Byond.cs:72</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08fd219037def4230946a2487815ef44"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">TGS.Server.Instance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa48afaed61100daacb9a97366281837"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">TGS.Server.Instance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a833b631d726a8040002d3c83db7fdb8e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a833b631d726a8040002d3c83db7fdb8e">TGS.Server.Instance.UpdateToVersionImpl</a></div><div class="ttdeci">void UpdateToVersionImpl(object param)</div><div class="ttdoc">Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the Instance isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00200">Byond.cs:200</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_accd844ee6162c4270fec7671e706439c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#accd844ee6162c4270fec7671e706439c">TGS.Server.Instance.BusyCheck</a></div><div class="ttdeci">bool BusyCheck()</div><div class="ttdoc">Checks if the updater is considered busy </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00111">Byond.cs:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a833b631d726a8040002d3c83db7fdb8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.UpdateToVersionImpl </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Downloads and unzips a BYOND revision. Calls <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac318b9e316c87b79912f3e6551f1ec3e" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure...">ApplyStagedUpdate</a> afterwards if the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> isn't running, otherwise, calls <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>. Sets <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7" title="The last error the BYOND updater encountered ">lastError</a> on failure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>Stringified BYOND revision</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00200">200</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>) { </div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Starting)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Downloading;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a159ebf40e20cc296bbb2bc2a0986a8ac">CleanByondStaging</a>();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                var vi = ((string)param).Split(<span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                var major = Convert.ToInt32(vi[0]);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                var minor = Convert.ToInt32(vi[1]);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                var rrdp = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2ed6a913422799be709b9bc96079843a">RevisionDownloadPath</a>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="keyword">using</span> (var client = <span class="keyword">new</span> WebClient())</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(String.Format(<span class="stringliteral">&quot;BYOND: Updating to version {0}.{1}...&quot;</span>, major, minor), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <span class="comment">//DOWNLOADING</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        client.DownloadFile(String.Format(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a25a9c5f417f672ee9b01b41f1bd9f114">ByondRevisionsURL</a>, major, minor), rrdp);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    <span class="keywordflow">catch</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;BYOND: Update download failed. Does the specified version exist?&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a> = String.Format(<span class="stringliteral">&quot;Download of BYOND version {0}.{1} failed! Does it exist?&quot;</span>, major, minor);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Failed to update BYOND to version {0}.{1}!&quot;</span>, major, minor), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.BYONDUpdateFail);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Idle;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Staging;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="comment">//STAGING</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                </div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                ZipFile.ExtractToDirectory(rrdp, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">StagingDirectory</a>));</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    File.WriteAllText(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aa9e071ffa09425b32638f7700f0e6998">StagingDirectoryInner</a> + <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ad58e7e902f1ae8301a067051c5b8479c">VersionFile</a>), String.Format(<span class="stringliteral">&quot;{0}.{1}&quot;</span>, major, minor));</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <span class="comment">//IMPORTANT: SET THE BYOND CONFIG TO NOT PROMPT FOR TRUSTED MODE REEE</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    Directory.CreateDirectory(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#acd58b7f32bd652601bf7adc38e5b5d1a">ByondConfigDir</a>));</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    File.WriteAllText(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2345519c680d34ee237e471cda72a7cc">ByondDDConfig</a>), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a16c7cb446fedd4bce134f62f21c572c2">ByondNoPromptTrustedMode</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                File.Delete(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2ed6a913422799be709b9bc96079843a">RevisionDownloadPath</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Staged;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">DaemonStatus</a>())</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline:</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ac318b9e316c87b79912f3e6551f1ec3e">ApplyStagedUpdate</a>())</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a> = null;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a> = <span class="stringliteral">&quot;Failed to apply update!&quot;</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">RequestRestart</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a> = <span class="stringliteral">&quot;Update staged. Awaiting server restart...&quot;</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(String.Format(<span class="stringliteral">&quot;BYOND: Staging complete. Awaiting server restart...&quot;</span>, major, minor), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(String.Format(<span class="stringliteral">&quot;BYOND update {0}.{1} staged&quot;</span>, major, minor), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.BYONDUpdateStaged);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Revision staging errror: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.BYONDUpdateFail);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">ByondLock</a>)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">updateStat</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a>.Idle;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">lastError</a> = e.ToString();</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">RevisionStaging</a> = null;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aa9e071ffa09425b32638f7700f0e6998"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aa9e071ffa09425b32638f7700f0e6998">TGS.Server.Instance.StagingDirectoryInner</a></div><div class="ttdeci">const string StagingDirectoryInner</div><div class="ttdoc">Path to the actual BYOND installation within the StagingDirectory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00026">Byond.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a25a9c5f417f672ee9b01b41f1bd9f114"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a25a9c5f417f672ee9b01b41f1bd9f114">TGS.Server.Instance.ByondRevisionsURL</a></div><div class="ttdeci">const string ByondRevisionsURL</div><div class="ttdoc">The URL format string for getting BYOND version {0}.{1} zipfile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00038">Byond.cs:38</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_acd58b7f32bd652601bf7adc38e5b5d1a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#acd58b7f32bd652601bf7adc38e5b5d1a">TGS.Server.Instance.ByondConfigDir</a></div><div class="ttdeci">const string ByondConfigDir</div><div class="ttdoc">The instance directory to modify the BYOND cfg before installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00046">Byond.cs:46</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a71a44e3a5d5b41aa8cdfca8d1007f916"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">TGS.Server.Instance.StagingDirectory</a></div><div class="ttdeci">const string StagingDirectory</div><div class="ttdoc">The instance directory to use when updating the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00022">Byond.cs:22</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2ed6a913422799be709b9bc96079843a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2ed6a913422799be709b9bc96079843a">TGS.Server.Instance.RevisionDownloadPath</a></div><div class="ttdeci">const string RevisionDownloadPath</div><div class="ttdoc">The path in the instance directory to store the downloaded BYOND revision </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00030">Byond.cs:30</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ac318b9e316c87b79912f3e6551f1ec3e"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ac318b9e316c87b79912f3e6551f1ec3e">TGS.Server.Instance.ApplyStagedUpdate</a></div><div class="ttdeci">bool ApplyStagedUpdate()</div><div class="ttdoc">Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00314">Byond.cs:314</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a16c7cb446fedd4bce134f62f21c572c2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a16c7cb446fedd4bce134f62f21c572c2">TGS.Server.Instance.ByondNoPromptTrustedMode</a></div><div class="ttdeci">const string ByondNoPromptTrustedMode</div><div class="ttdoc">Setting to add to ByondDDConfig to suppress an invisible user prompt for running a trusted mode ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00054">Byond.cs:54</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a4b94c11ccb4064514452be149335bcb0"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">TGS.Interface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00032">Enumerations.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2345519c680d34ee237e471cda72a7cc"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2345519c680d34ee237e471cda72a7cc">TGS.Server.Instance.ByondDDConfig</a></div><div class="ttdeci">const string ByondDDConfig</div><div class="ttdoc">BYOND&amp;#39;s DreamDaemon config file in the cfg modification directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00050">Byond.cs:50</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4d29ee9f52d6da07ac10577bc6db078c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4d29ee9f52d6da07ac10577bc6db078c">TGS.Server.Instance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00193">DreamDaemon.cs:193</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ad58e7e902f1ae8301a067051c5b8479c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ad58e7e902f1ae8301a067051c5b8479c">TGS.Server.Instance.VersionFile</a></div><div class="ttdeci">const string VersionFile</div><div class="ttdoc">The location of the BYOND version data of an installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00034">Byond.cs:34</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a05106e6dc12c2e62d28555ea51f7ce7b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a05106e6dc12c2e62d28555ea51f7ce7b">TGS.Server.Instance.RevisionStaging</a></div><div class="ttdeci">Thread RevisionStaging</div><div class="ttdoc">Thread used for staging BYOND revisions </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00072">Byond.cs:72</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08fd219037def4230946a2487815ef44"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08fd219037def4230946a2487815ef44">TGS.Server.Instance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a28f6f35b683539aabb8a0044f6c83406"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406">TGS.Server.Instance.RequestRestart</a></div><div class="ttdeci">void RequestRestart()</div><div class="ttdoc">Restart the server after the currently running world reboots. Has no effect if the server isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00202">DreamDaemon.cs:202</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a59a9f31f1b34f1c903b9f1af34e707e7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a59a9f31f1b34f1c903b9f1af34e707e7">TGS.Server.Instance.lastError</a></div><div class="ttdeci">string lastError</div><div class="ttdoc">The last error the BYOND updater encountered </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00068">Byond.cs:68</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afa48afaed61100daacb9a97366281837"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afa48afaed61100daacb9a97366281837">TGS.Server.Instance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a159ebf40e20cc296bbb2bc2a0986a8ac"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a159ebf40e20cc296bbb2bc2a0986a8ac">TGS.Server.Instance.CleanByondStaging</a></div><div class="ttdeci">void CleanByondStaging()</div><div class="ttdoc">Cleans the BYOND staging directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00085">Byond.cs:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5c80cb3d150ddfeaed1fc172c08d975c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.VerifyConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does nothing on the server end, but if the call completes, you can be sure you are connected. WCF won't throw until you try until you actually use the API  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_connectivity.html#aede51b0002a7ddf1d2576c87691079e0">TGS.Interface.Components.ITGConnectivity</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00114">114</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06fedfc5265b7b47b9d38b518d1bcdfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.Version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve's the service's version  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_instance.html#a5e19345093de091ac1da9d6515eb8a8a">TGS.Interface.Components.ITGInstance</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00108">108</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00032">TGS.Server.Server.VersionString</a>.</p>

<p>Referenced by <a class="el" href="_version_command_8cs_source.html#l00019">TGS.Server.ChatCommands.VersionCommand.Run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">return</span> Server.VersionString;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a06fedfc5265b7b47b9d38b518d1bcdfd_icgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a06fedfc5265b7b47b9d38b518d1bcdfd_icgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a06fedfc5265b7b47b9d38b518d1bcdfd_icgraph" id="class_t_g_s_1_1_server_1_1_instance_a06fedfc5265b7b47b9d38b518d1bcdfd_icgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_chat_commands_1_1_version_command.html#af384008ae4362a741a45052679485093" title="Override to do the actions of the Command &#160;" alt="" coords="243,5,432,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a997fa4bfb2ab7d7034d33c5ae8268894"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.Watchdog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Threaded loop that keeps DreamDaemon from unintentionally stopping </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00304">304</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">restartLock</a>)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a>)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DD: Server started, watchdog active...&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Watchdog started&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DDWatchdogStarted);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a781f077de8c59157761c92e7984b5f66">ReattachInsteadOfRestart</a>)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Watchdog restarted&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DDWatchdogRestarted);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a781f077de8c59157761c92e7984b5f66">ReattachInsteadOfRestart</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                var retries = 0;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                var MemTrackTimer = <span class="keyword">new</span> <a class="code" href="namespace_system.html">System</a>.Timers.Timer</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    AutoReset = <span class="keyword">true</span>,</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    Interval = 5000 <span class="comment">//every 5 seconds</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                };</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                MemTrackTimer.Elapsed += <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a02145178d01224be0919b35deedcecba">MemTrackTimer_Elapsed</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    var starttime = DateTime.Now;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a> == <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>.Requested)</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">SendCommand</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7a166c03452b09f8c70d8d8ca1b578f6">SCGracefulShutdown</a>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    <span class="comment">//all good to go, let&#39;s start monitoring</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    var Now = DateTime.Now;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">CurrentDDLog</a> = DateTime.UtcNow.ToString(<span class="stringliteral">&quot;yyyy-MM-ddTHH-mm-ssZ&quot;</span>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">WriteCurrentDDLog</a>(<span class="stringliteral">&quot;Starting monitoring...&quot;</span>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">pcpu</a> = <span class="keyword">new</span> PerformanceCounter(<span class="stringliteral">&quot;Process&quot;</span>, <span class="stringliteral">&quot;% Processor Time&quot;</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.ProcessName, <span class="keyword">true</span>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    MemTrackTimer.Start();</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.WaitForExit();</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    <span class="keywordflow">finally</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>) <span class="comment">//synchronize</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                            MemTrackTimer.Stop();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">pcpu</a>.Dispose();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">WriteCurrentDDLog</a>(<span class="stringliteral">&quot;Crash detected!&quot;</span>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.HardRebooting;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a> = 0;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Close();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a> == <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>.Pinged)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        var BadStart = (DateTime.Now - starttime).TotalSeconds &lt; <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af176f1f39f4e8ff398687c5cab4eaf4a">DDBadStartTime</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        <span class="keywordflow">if</span> (BadStart)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                            ++retries;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                            var sleep_time = (int)Math.Min(Math.Pow(2, retries), 3600); <span class="comment">//max of one hour</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(String.Format(<span class="stringliteral">&quot;DD: Watchdog server startup failed! Retrying in {0} seconds...&quot;</span>, sleep_time), <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                            Thread.Sleep(sleep_time * 1000);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                        {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                            retries = 0;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                            var msg = <span class="stringliteral">&quot;DD: DreamDaemon crashed! Watchdog rebooting DD...&quot;</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(msg, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(msg, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DDWatchdogRebootingServer);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                        }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                    }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4bfb8765130a4bdb2058979f5f41a8f4">StartImpl</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Hard restart failed: &quot;</span> + res);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="comment">//No Mr bond, I expect you to die</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">ReattachRequired</a>)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Kill();</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.WaitForExit();</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae1629c70ddb61fe6e00f77e2a9fb6a76">ReattachProcessID</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Id;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a1cbc17332d0eefb340bd2387a9755e5b">ReattachPort</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a48d32ac820ce9ef4730ad341c44d836b">ReattachAPIVersion</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a> != null ? <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">GameAPIVersion</a>.ToString() : null;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#af5f0f82a970d050e0f03ab2d091164cd">ReattachCommsKey</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">serviceCommsKey</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                        lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">restartLock</a>)</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">Proc</a>.Close();</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                { }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DD: Watchdog thread crashed!&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">WriteError</a>(<span class="stringliteral">&quot;Watch dog thread crashed: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DDWatchdogCrash);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">finally</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> = <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Offline;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">currentPort</a> = 0;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">AwaitingShutdown</a> = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a>.None;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">restartLock</a>)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">RestartInProgress</a>)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                        {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">ReattachRequired</a>)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">SendMessage</a>(<span class="stringliteral">&quot;DD: Server stopped, watchdog exiting...&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Watch dog exited&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DDWatchdogExit);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                            <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Watch dog restarting...&quot;</span>, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.DDWatchdogRestart);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a02145178d01224be0919b35deedcecba"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a02145178d01224be0919b35deedcecba">TGS.Server.Instance.MemTrackTimer_Elapsed</a></div><div class="ttdeci">void MemTrackTimer_Elapsed(object sender, ElapsedEventArgs e)</div><div class="ttdoc">Called every five seconds while DreamDaemon is running to log it&amp;#39;s current state to the DiagnosticsDi...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00454">DreamDaemon.cs:454</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a50ef3869e320d3d7c43859268da2a03a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">TGS.Server.Instance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00158">Interop.cs:158</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4bfb8765130a4bdb2058979f5f41a8f4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4bfb8765130a4bdb2058979f5f41a8f4">TGS.Server.Instance.StartImpl</a></div><div class="ttdeci">string StartImpl(bool watchdog)</div><div class="ttdoc">Clears the current GameAPIVersion, calls UpdateBridgeDll(bool) with a  parameter, and attempts to sta...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00588">DreamDaemon.cs:588</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af8f30af9b177beb6c309e05d0d56be33"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33">TGS.Server.Instance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a85d0b54fc049736f16cdf42f24d34058"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a85d0b54fc049736f16cdf42f24d34058">TGS.Server.Instance.WriteError</a></div><div class="ttdeci">void WriteError(string message, EventID id)</div><div class="ttdoc">Writes an error to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">Instance.cs:73</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_aa9f5fc4a9216acecfa6a8f194cbc72e0"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#aa9f5fc4a9216acecfa6a8f194cbc72e0">TGS.Server.IInstanceConfig.ReattachRequired</a></div><div class="ttdeci">bool ReattachRequired</div><div class="ttdoc">If the Instance should reattach to a running DreamDaemon System.Diagnostics.Process ...</div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00079">InstanceConfig.cs:79</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a5863c8e752bf5bf1c25fa4aedad37378"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a5863c8e752bf5bf1c25fa4aedad37378">TGS.Server.Instance.RestartInProgress</a></div><div class="ttdeci">bool RestartInProgress</div><div class="ttdoc">Used to indicate if an intentional restart is in progress on the watchdog. Requires restartLock to ac...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00078">DreamDaemon.cs:78</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0ac4e6797d742a7cb055ce737de36e9c"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0ac4e6797d742a7cb055ce737de36e9c">TGS.Server.Instance.WriteCurrentDDLog</a></div><div class="ttdeci">void WriteCurrentDDLog(string message)</div><div class="ttdoc">Write a message  to the CurrentDDLog. A timestamp will be prepended to it </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00291">DreamDaemon.cs:291</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_ae1629c70ddb61fe6e00f77e2a9fb6a76"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#ae1629c70ddb61fe6e00f77e2a9fb6a76">TGS.Server.IInstanceConfig.ReattachProcessID</a></div><div class="ttdeci">int ReattachProcessID</div><div class="ttdoc">The System.Diagnostics.Process.Id of the runnning DreamDaemon System.Diagnostics.Process ...</div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00084">InstanceConfig.cs:84</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_af5f0f82a970d050e0f03ab2d091164cd"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#af5f0f82a970d050e0f03ab2d091164cd">TGS.Server.IInstanceConfig.ReattachCommsKey</a></div><div class="ttdeci">string ReattachCommsKey</div><div class="ttdoc">The serviceCommsKey the runnning DreamDaemon System.Diagnostics.Process was launched on ...</div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00094">InstanceConfig.cs:94</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a16ce149ebe31e4dbf1bf318cc449e790"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a16ce149ebe31e4dbf1bf318cc449e790">TGS.Server.Instance.pcpu</a></div><div class="ttdeci">PerformanceCounter pcpu</div><div class="ttdoc">CPU performance information for Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00048">DreamDaemon.cs:48</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a068d9bbb0c0d5fe0507e662af2041865"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">TGS.Server.Instance.CurrentDDLog</a></div><div class="ttdeci">string CurrentDDLog</div><div class="ttdoc">Current logfile in use in ResourceDiagnosticsDir </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00065">DreamDaemon.cs:65</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a24619e3847ca6f303773c3c667a0c644"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">TGS.Server.Instance.ShutdownRequestPhase</a></div><div class="ttdeci">ShutdownRequestPhase</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00017">DreamDaemon.cs:17</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7a166c03452b09f8c70d8d8ca1b578f6"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7a166c03452b09f8c70d8d8ca1b578f6">TGS.Server.Instance.SCGracefulShutdown</a></div><div class="ttdeci">const string SCGracefulShutdown</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00032">Interop.cs:32</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4a6845e432d1c660cd56eb2e26b176b2"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4a6845e432d1c660cd56eb2e26b176b2">TGS.Server.Instance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00232">Chat.cs:232</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a1cf44712e4c4bc40aeafe001be3e8685"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a1cf44712e4c4bc40aeafe001be3e8685">TGS.Server.Instance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00022">Interop.cs:22</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a48d32ac820ce9ef4730ad341c44d836b"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a48d32ac820ce9ef4730ad341c44d836b">TGS.Server.IInstanceConfig.ReattachAPIVersion</a></div><div class="ttdeci">string ReattachAPIVersion</div><div class="ttdoc">The API version of the runnning DreamDaemon System.Diagnostics.Process </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00099">InstanceConfig.cs:99</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_ac244e362b52b9feac67ac6c2ca27f522"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#ac244e362b52b9feac67ac6c2ca27f522">TGS.Server.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a4e1de416ca840519b72c26d3018afeaa"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa">TGS.Server.Instance.restartLock</a></div><div class="ttdeci">object restartLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00074">DreamDaemon.cs:74</a></div></div>
<div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a1cbc17332d0eefb340bd2387a9755e5b"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a1cbc17332d0eefb340bd2387a9755e5b">TGS.Server.IInstanceConfig.ReattachPort</a></div><div class="ttdeci">ushort ReattachPort</div><div class="ttdoc">The port the runnning DreamDaemon System.Diagnostics.Process was launched on </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00089">InstanceConfig.cs:89</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aadbc57076386211c5940d4283ff28cd0"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aadbc57076386211c5940d4283ff28cd0">TGS.Server.Instance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00026">Interop.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a781f077de8c59157761c92e7984b5f66"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a781f077de8c59157761c92e7984b5f66">TGS.Server.Instance.ReattachInsteadOfRestart</a></div><div class="ttdeci">bool ReattachInsteadOfRestart</div><div class="ttdoc">Used to indicate if an service restart is in progress on the watchdog. Requires restartLock to access...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00082">DreamDaemon.cs:82</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a7bf652d7d02976801c7a4781e65da93f"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a7bf652d7d02976801c7a4781e65da93f">TGS.Server.Instance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af176f1f39f4e8ff398687c5cab4eaf4a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af176f1f39f4e8ff398687c5cab4eaf4a">TGS.Server.Instance.DDBadStartTime</a></div><div class="ttdeci">const int DDBadStartTime</div><div class="ttdoc">If DreamDaemon crashes before this time it is considered a bad startup </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00039">DreamDaemon.cs:39</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a0c164f4ee52435f463c766bb11ead7ec"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a0c164f4ee52435f463c766bb11ead7ec">TGS.Server.Instance.AwaitingShutdown</a></div><div class="ttdeci">ShutdownRequestPhase AwaitingShutdown</div><div class="ttdoc">Indicator of progress on a RequestRestart or RequestStop operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00092">DreamDaemon.cs:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a46520eda70e7653a8000132617e7451d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.Webclient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the BYOND webclient is currently enabled for the server  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a903ac7a0c63e0e522b7ab5ab8ac65d99">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00732">732</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">Config</a>.<a class="code" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a7b111d4fdb7927e581db959496ae415a">Webclient</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        }</div><div class="ttc" id="interface_t_g_s_1_1_server_1_1_i_instance_config_html_a7b111d4fdb7927e581db959496ae415a"><div class="ttname"><a href="interface_t_g_s_1_1_server_1_1_i_instance_config.html#a7b111d4fdb7927e581db959496ae415a">TGS.Server.IInstanceConfig.Webclient</a></div><div class="ttdeci">bool Webclient</div><div class="ttdoc">Whether or not DreamDaemon allows connections from webclients </div><div class="ttdef"><b>Definition:</b> <a href="_instance_config_8cs_source.html#l00055">InstanceConfig.cs:55</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a2806f79ad9e9b76b0d78b0c12aae702b"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a2806f79ad9e9b76b0d78b0c12aae702b">TGS.Server.Instance.Config</a></div><div class="ttdeci">readonly IInstanceConfig Config</div><div class="ttdoc">The configuration settings for the instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">Instance.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa60ed802c6a49558a32eaf8c590c84f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.WorldAnnounce </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message to everyone on the server  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a3b38ef9747505540d67e69c89c2a1f63">TGS.Interface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00723">723</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_s_8_server_2_helpers_8cs_source.html#l00168">TGS.Server.Helpers.SanitizeTopicString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            var res = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">SendCommand</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aec7ff08a627279457e1587fdbe413a55">SCWorldAnnounce</a> + <span class="stringliteral">&quot;;message=&quot;</span> + <a class="code" href="class_t_g_s_1_1_interface_1_1_helpers.html">Helpers</a>.SanitizeTopicString(message));</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="keywordflow">if</span> (res == <span class="stringliteral">&quot;SUCCESS&quot;</span>)</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a50ef3869e320d3d7c43859268da2a03a"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a50ef3869e320d3d7c43859268da2a03a">TGS.Server.Instance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00158">Interop.cs:158</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aec7ff08a627279457e1587fdbe413a55"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aec7ff08a627279457e1587fdbe413a55">TGS.Server.Instance.SCWorldAnnounce</a></div><div class="ttdeci">const string SCWorldAnnounce</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00033">Interop.cs:33</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_s_1_1_interface_1_1_helpers.html">TGS.Interface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_interface_2_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_aa60ed802c6a49558a32eaf8c590c84f2_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_aa60ed802c6a49558a32eaf8c590c84f2_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_aa60ed802c6a49558a32eaf8c590c84f2_cgraph" id="class_t_g_s_1_1_server_1_1_instance_aa60ed802c6a49558a32eaf8c590c84f2_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_helpers.html#ae0106b61248cd5ae831acd405701dc9b" title="Properly escapes characters for a BYOND Topic() packet. See http://www.byond.com/docs/ref/info.html#/proc/list2params " alt="" coords="232,5,419,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a09d2c1cff6528a0588dc873cc0b070ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.WriteAccess </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>authSuccess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes an access event to the Windows event log </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>The (un)authenticated Windows user's name</td></tr>
    <tr><td class="paramname">authSuccess</td><td>if <em>username</em>  authenticated sucessfully,  otherwise</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00093">93</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00037">TGS.Server.Server.Logger</a>, and <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html#aeb2d4a0a1a776677e5ab6e0e502d3afd">TGS.Server.ILogger.WriteAccess()</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            Server.Logger.WriteAccess(String.Format(<span class="stringliteral">&quot;Access from: {0}&quot;</span>, username), authSuccess, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">LoggingID</a>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aed67602a10e95dbf4cd053fb65871ed8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">TGS.Server.Instance.LoggingID</a></div><div class="ttdeci">readonly byte LoggingID</div><div class="ttdoc">Used to assign the instance to event IDs </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00023">Instance.cs:23</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a09d2c1cff6528a0588dc873cc0b070ae_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a09d2c1cff6528a0588dc873cc0b070ae_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a09d2c1cff6528a0588dc873cc0b070ae_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a09d2c1cff6528a0588dc873cc0b070ae_cgraph">
<area shape="rect" id="node2" href="interface_t_g_s_1_1_server_1_1_i_logger.html#aeb2d4a0a1a776677e5ab6e0e502d3afd" title="Writes an access event to the log " alt="" coords="229,5,399,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ac4e6797d742a7cb055ce737de36e9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.WriteCurrentDDLog </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a <em>message</em>  to the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865" title="Current logfile in use in ResourceDiagnosticsDir ">CurrentDDLog</a>. A timestamp will be prepended to it </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to log</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00291">291</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">watchdogLock</a>)</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">currentStatus</a> != <a class="code" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a>.Online || <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">CurrentDDLog</a> == null)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                File.AppendAllText(Path.Combine(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891">ResourceDiagnosticsDir</a>), <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">CurrentDDLog</a>), String.Format(<span class="stringliteral">&quot;[{0}]: {1}\n&quot;</span>, DateTime.Now.ToLongTimeString(), message));</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a26228c8ac1afc018e956a7e7ab7c9891"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891">TGS.Server.Instance.ResourceDiagnosticsDir</a></div><div class="ttdeci">const string ResourceDiagnosticsDir</div><div class="ttdoc">Directory for storing DreamDaemon ResourceUsage files </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00031">DreamDaemon.cs:31</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_interface_html_a769cbe24216f6ab7cb0cdf2b39177175"><div class="ttname"><a href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">TGS.Interface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00140">Enumerations.cs:140</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a068d9bbb0c0d5fe0507e662af2041865"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a068d9bbb0c0d5fe0507e662af2041865">TGS.Server.Instance.CurrentDDLog</a></div><div class="ttdeci">string CurrentDDLog</div><div class="ttdoc">Current logfile in use in ResourceDiagnosticsDir </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00065">DreamDaemon.cs:65</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af229871e1f4694c13d25a062502c2318"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af229871e1f4694c13d25a062502c2318">TGS.Server.Instance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_af874c36b24f0624f234d04902345eda7"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#af874c36b24f0624f234d04902345eda7">TGS.Server.Instance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85d0b54fc049736f16cdf42f24d34058"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.WriteError </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes an error to the Windows event log </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The log message</td></tr>
    <tr><td class="paramname">id</td><td>The <a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311" title="Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults ">EventID</a> of the message</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00073">73</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00037">TGS.Server.Server.Logger</a>, and <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d">TGS.Server.ILogger.WriteError()</a>.</p>

<p>Referenced by <a class="el" href="_server_8cs_source.html#l00291">TGS.Server.Server.SetupInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            Server.Logger.WriteError(message, <span class="keywordtype">id</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">LoggingID</a>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aed67602a10e95dbf4cd053fb65871ed8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">TGS.Server.Instance.LoggingID</a></div><div class="ttdeci">readonly byte LoggingID</div><div class="ttdoc">Used to assign the instance to event IDs </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00023">Instance.cs:23</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a85d0b54fc049736f16cdf42f24d34058_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a85d0b54fc049736f16cdf42f24d34058_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a85d0b54fc049736f16cdf42f24d34058_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a85d0b54fc049736f16cdf42f24d34058_cgraph">
<area shape="rect" id="node2" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a320c5301783a61ec8c6178e3bc15d97d" title="Writes an error to the log " alt="" coords="229,5,399,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a85d0b54fc049736f16cdf42f24d34058_icgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a85d0b54fc049736f16cdf42f24d34058_icgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a85d0b54fc049736f16cdf42f24d34058_icgraph" id="class_t_g_s_1_1_server_1_1_instance_a85d0b54fc049736f16cdf42f24d34058_icgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_server.html#affd0676a7a18d7aaeb0561d166406cbe" title="Creates and starts a ServiceHost for a Instance at config &#160;" alt="" coords="229,13,444,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a96b7ed16c1e2bd19f9ccd4bed36085e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.WriteInfo </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes information to the Windows event log </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The log message</td></tr>
    <tr><td class="paramname">id</td><td>The <a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311" title="Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults ">EventID</a> of the message</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">63</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00037">TGS.Server.Server.Logger</a>, and <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a82dc045489599aad6fc83358c77c5d59">TGS.Server.ILogger.WriteInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            Server.Logger.WriteInfo(message, <span class="keywordtype">id</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">LoggingID</a>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aed67602a10e95dbf4cd053fb65871ed8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">TGS.Server.Instance.LoggingID</a></div><div class="ttdeci">readonly byte LoggingID</div><div class="ttdoc">Used to assign the instance to event IDs </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00023">Instance.cs:23</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a96b7ed16c1e2bd19f9ccd4bed36085e4_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a96b7ed16c1e2bd19f9ccd4bed36085e4_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a96b7ed16c1e2bd19f9ccd4bed36085e4_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a96b7ed16c1e2bd19f9ccd4bed36085e4_cgraph">
<area shape="rect" id="node2" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a82dc045489599aad6fc83358c77c5d59" title="Writes information to the log " alt="" coords="249,5,439,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab3654af3cdaf2d738ad590e8ea009782"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.WriteText </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>staticRelativePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>unauthorized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write to a static file  </p>

<p>Implements <a class="el" href="interface_t_g_s_1_1_interface_1_1_components_1_1_i_t_g_config.html#a08a4799e1fecd67e9584b47e369f5ec2">TGS.Interface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00103">103</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00052">TGS.Server.Server.BeginImpersonation()</a>, and <a class="el" href="_server_8cs_source.html#l00060">TGS.Server.Server.CancelImpersonation()</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            Server.BeginImpersonation();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            var path = <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>) + <span class="charliteral">&#39;/&#39;</span> + staticRelativePath;   <span class="comment">//do not use path.combine or it will try and take the root</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                lock (<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">configLock</a>)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    var di1 = <span class="keyword">new</span> DirectoryInfo(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">RelativePath</a>(<a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">StaticDirs</a>));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    var destdir = <span class="keyword">new</span> FileInfo(path).Directory.FullName;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    var di2 = <span class="keyword">new</span> DirectoryInfo(destdir);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    var good = <span class="keyword">false</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keywordflow">while</span> (di2 != null)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                        <span class="keywordflow">if</span> (di2.FullName == di1.FullName)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                            good = <span class="keyword">true</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                        }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        <span class="keywordflow">else</span> di2 = di2.Parent;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    <span class="keywordflow">if</span> (!good)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                        unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot write above static directories!&quot;</span>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    Directory.CreateDirectory(destdir);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    File.WriteAllText(path, data);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    Server.CancelImpersonation();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">WriteInfo</a>(<span class="stringliteral">&quot;Write to &quot;</span> + path, <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.StaticWrite);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">catch</span> (UnauthorizedAccessException e)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="comment">//no need for the full stacktrace</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                unauthorized = <span class="keyword">true</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="keywordflow">return</span> e.Message;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                Server.CancelImpersonation();</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">WriteWarning</a>(String.Format(<span class="stringliteral">&quot;Write of {0} failed! Error: {1}&quot;</span>, path, e.ToString()), <a class="code" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>.StaticRead);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a96b7ed16c1e2bd19f9ccd4bed36085e4"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a96b7ed16c1e2bd19f9ccd4bed36085e4">TGS.Server.Instance.WriteInfo</a></div><div class="ttdeci">void WriteInfo(string message, EventID id)</div><div class="ttdoc">Writes information to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00063">Instance.cs:63</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a09f621172ed237a1dfc35de87b3095bb"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a09f621172ed237a1dfc35de87b3095bb">TGS.Server.Instance.WriteWarning</a></div><div class="ttdeci">void WriteWarning(string message, EventID id)</div><div class="ttdoc">Writes a warning to the Windows event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">Instance.cs:83</a></div></div>
<div class="ttc" id="namespace_t_g_s_1_1_server_html_a4682739b9567dc9e4e5c327c253ce311"><div class="ttname"><a href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">TGS.Server.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_afe067e70a0c0799b49fc2cf289d611f9"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#afe067e70a0c0799b49fc2cf289d611f9">TGS.Server.Instance.RelativePath</a></div><div class="ttdeci">string RelativePath(string path)</div><div class="ttdoc">Converts relative paths to full Instance directory paths </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00102">Instance.cs:102</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_ae497ee38d040cef22bc35af14942ca54"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#ae497ee38d040cef22bc35af14942ca54">TGS.Server.Instance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
<div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_a08ee3406d0c5af9270d61039012ca463"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#a08ee3406d0c5af9270d61039012ca463">TGS.Server.Instance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_ab3654af3cdaf2d738ad590e8ea009782_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_ab3654af3cdaf2d738ad590e8ea009782_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_ab3654af3cdaf2d738ad590e8ea009782_cgraph" id="class_t_g_s_1_1_server_1_1_instance_ab3654af3cdaf2d738ad590e8ea009782_cgraph">
<area shape="rect" id="node2" href="class_t_g_s_1_1_server_1_1_server.html#a6357fde09e65ef71222045f00094d5ac" title="Begins user impersonation to allow proper restricted file access " alt="" coords="255,5,501,32"/>
<area shape="rect" id="node3" href="class_t_g_s_1_1_server_1_1_server.html#af2d04d8451aaca506e393758f850df4c" title="Cancels WCF&#39;s user impersonation to allow clean access to writing log files " alt="" coords="292,57,464,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a09f621172ed237a1dfc35de87b3095bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGS.Server.Instance.WriteWarning </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311">EventID</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes a warning to the Windows event log </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The log message</td></tr>
    <tr><td class="paramname">id</td><td>The <a class="el" href="namespace_t_g_s_1_1_server.html#a4682739b9567dc9e4e5c327c253ce311" title="Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the Instance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults ">EventID</a> of the message</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00083">83</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>

<p>References <a class="el" href="_server_8cs_source.html#l00037">TGS.Server.Server.Logger</a>, and <a class="el" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a9430e22233d40a9faeaf2da97740ff78">TGS.Server.ILogger.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            Server.Logger.WriteWarning(message, <span class="keywordtype">id</span>, <a class="code" href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">LoggingID</a>);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div><div class="ttc" id="class_t_g_s_1_1_server_1_1_instance_html_aed67602a10e95dbf4cd053fb65871ed8"><div class="ttname"><a href="class_t_g_s_1_1_server_1_1_instance.html#aed67602a10e95dbf4cd053fb65871ed8">TGS.Server.Instance.LoggingID</a></div><div class="ttdeci">readonly byte LoggingID</div><div class="ttdoc">Used to assign the instance to event IDs </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00023">Instance.cs:23</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_s_1_1_server_1_1_instance_a09f621172ed237a1dfc35de87b3095bb_cgraph.png" border="0" usemap="#class_t_g_s_1_1_server_1_1_instance_a09f621172ed237a1dfc35de87b3095bb_cgraph" alt=""/></div>
<map name="class_t_g_s_1_1_server_1_1_instance_a09f621172ed237a1dfc35de87b3095bb_cgraph" id="class_t_g_s_1_1_server_1_1_instance_a09f621172ed237a1dfc35de87b3095bb_cgraph">
<area shape="rect" id="node2" href="interface_t_g_s_1_1_server_1_1_i_logger.html#a9430e22233d40a9faeaf2da97740ff78" title="Writes a warning to the log " alt="" coords="229,5,399,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a1d2612772994bc1fd21832808f33fa81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.ADirTest = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a11a5205e6f76361d9c6c283c733e7f95">GameDirA</a> + <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae70ee1f4b0575d3c75a1a14e9029863c">LiveFile</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00035">35</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aa7b4d6c5e07fec11ef97d10df717a57f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TGS.Server.Instance.AllowedMajorAPIVersion = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00025">25</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a14346fc7f0f7b0a4bc5046ffe877ccb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.authLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00021">21</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

</div>
</div>
<a class="anchor" id="adaecb345b5b6040438f86604659051ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">System.Timers.Timer TGS.Server.Instance.autoUpdateTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> <a class="code" href="namespace_system.html">System</a>.Timers.Timer()</div><div class="line">        {</div><div class="line">            AutoReset = <span class="keyword">true</span></div><div class="line">        }</div></div><!-- fragment -->
<p>Used for automatically updating the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00092">92</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a0c164f4ee52435f463c766bb11ead7ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a24619e3847ca6f303773c3c667a0c644">ShutdownRequestPhase</a> TGS.Server.Instance.AwaitingShutdown</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicator of progress on a <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a28f6f35b683539aabb8a0044f6c83406" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a> or <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af399ffae59f2f1a1595da516e7afca1a" title="Stop the server after the currently running world reboots. Has no effect if the server isn&#39;t running ...">RequestStop</a> operation </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00092">92</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a04a55046a02e4429bb209033ea330646"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.BDirTest = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a363f31fbe2b0b7172d0288b694235b6c">GameDirB</a> + <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae70ee1f4b0575d3c75a1a14e9029863c">LiveFile</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00036">36</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ac6267c88a28d1fdc4987103c97b401c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.BridgeDLLName = &quot;TGDreamDaemonBridge.dll&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The file name of the .dll that contains the ITGInterop bridge class </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00056">56</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="acd58b7f32bd652601bf7adc38e5b5d1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.ByondConfigDir = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">StagingDirectory</a> + &quot;/BYOND/cfg&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The instance directory to modify the BYOND cfg before installation </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00046">46</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2345519c680d34ee237e471cda72a7cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.ByondDDConfig = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#acd58b7f32bd652601bf7adc38e5b5d1a">ByondConfigDir</a> + &quot;/daemon.txt&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>BYOND's DreamDaemon config file in the cfg modification directory </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00050">50</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9efa4ea461f8ca8f1c1f10b59dc4bc66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.ByondDirectory = &quot;BYOND&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The instance directory to store the BYOND installation </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00018">18</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af60fa8ab17b53ba69e6969c87a121703"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.ByondLatestURL = &quot;https://secure.byond.com/download/build/LATEST/&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The URL for getting the latest BYOND version zipfile </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00042">42</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="afa48afaed61100daacb9a97366281837"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.ByondLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00064">64</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a16c7cb446fedd4bce134f62f21c572c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.ByondNoPromptTrustedMode = &quot;trusted-check 0&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setting to add to <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a2345519c680d34ee237e471cda72a7cc" title="BYOND&#39;s DreamDaemon config file in the cfg modification directory ">ByondDDConfig</a> to suppress an invisible user prompt for running a trusted mode .dmb </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00054">54</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a25a9c5f417f672ee9b01b41f1bd9f114"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.ByondRevisionsURL = &quot;https://secure.byond.com/download/build/{0}/{0}.{1}_byond.zip&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The URL format string for getting BYOND version {0}.{1} zipfile </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00038">38</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ab02a3f6b4183f965d6e7f1f3b69c771b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.CachedTGS3SettingsPath = &quot;TGS3.json&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Path to the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a>'s <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html" title="Repository specific information for a Instance ">RepoConfig</a> json </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00033">33</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ace69a3f44b64f4899a7244dde6c281a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.canCancelCompilation = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00045">45</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a7e8a4c40bb04d8ea1a85730515cea88a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.CCPAdminOnly = &quot;admin_only&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00050">50</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="adcab46a53b916a68958ba7c905067970"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.CCPHelpText = &quot;help_text&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00049">49</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a1b20fbb6ba614fc58abc9468625c84f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.CCPRequiredParameters = &quot;required_parameters&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00051">51</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a5eb2c7e91e5df165a4e705f606af9173"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.ChatLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00026">26</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a92962bd476db8f04fa4a1a765e9f43a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="interface_t_g_s_1_1_server_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a>&gt; TGS.Server.Instance.ChatProviders</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of IChatProviders for the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00022">22</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

</div>
</div>
<a class="anchor" id="affa0200662dbc73df3917828e28a46e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.Cloning = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether or not a git operation is in progress. See <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af61d84cdc4e6ebdfab069f9705c4254b" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00078">78</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a7918693e49a91ef4376b1a2b13285239"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.CommitMessage = &quot;Automatic changelog compile, [ci skip]&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commit message for <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html#a705cad9d519808587ace7579ec25a5e3" title="Paths to commit and push to the remote repository ">RepoConfig.PathsToStage</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00065">65</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9f3221023ca082a6adb52ee387ba664d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TGS.Server.Instance.CommsKeyLen = 64</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00021">21</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a415b7170ca623f2a79fa6bc7f8a9d4df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.compilationCancellationRequestation = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00044">44</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a47db323cec0b5a5f9248a7ba94801b73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4270720d0fdafb1bce877eda81e65c1c">CompilerStatus</a> TGS.Server.Instance.compilerCurrentStatus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00040">40</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad68ae54c26ab5b890469216b9ea68106"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.CompilerLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00039">39</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a98c3251eba0e6d6e2a2624afe82ef399"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Thread TGS.Server.Instance.CompilerThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00043">43</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2806f79ad9e9b76b0d78b0c12aae702b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_t_g_s_1_1_server_1_1_i_instance_config.html">IInstanceConfig</a> TGS.Server.Instance.Config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The configuration settings for the instance </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00027">27</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a08ee3406d0c5af9270d61039012ca463"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.configLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html#l00015">15</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html">Config.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a068d9bbb0c0d5fe0507e662af2041865"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.CurrentDDLog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current logfile in use in <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a26228c8ac1afc018e956a7e7ab7c9891" title="Directory for storing DreamDaemon ResourceUsage files ">ResourceDiagnosticsDir</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00065">65</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a7bf652d7d02976801c7a4781e65da93f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ushort TGS.Server.Instance.currentPort = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current port DreamDaemon is running on </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00069">69</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af34ec3b6bf17a85bd373018a19cf54da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TGS.Server.Instance.currentProgress = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for reporting operation progress to the <a class="el" href="namespace_t_g_s_1_1_interface.html">TGS.Interface</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00087">87</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af874c36b24f0624f234d04902345eda7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a769cbe24216f6ab7cb0cdf2b39177175">DreamDaemonStatus</a> TGS.Server.Instance.currentStatus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The DreamDaemonStatus of <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33" title="The DreamDaemon process ">Proc</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00061">61</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af176f1f39f4e8ff398687c5cab4eaf4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TGS.Server.Instance.DDBadStartTime = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If DreamDaemon crashes before this time it is considered a bad startup </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00039">39</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2124d6039dfc0e03091319fc937440f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TGS.Server.Instance.DDHangStartTime = 60</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time until DD is considered DOA on startup </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00035">35</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a85b6d2d0e931f3961b0c1a75577d13dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Thread TGS.Server.Instance.DDWatchdog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The thread that monitors the status of DreamDaemon </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00057">57</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aaf6f1302e487564be3dba0a01c087628"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.DiagnosticsDir = &quot;Diagnostics&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Directory for storing DreamDaemon diagnostic files </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00027">27</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9dc58a02b23898602de4c28c8f482989"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.disposedValue = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To detect redundant <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a7984437076eaf2223f136c6f029428d1" title="Implements the IDisposable pattern ">Dispose()</a> calls </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00144">144</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a51da4f509e8fbd0f85ef097c9a58e8aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.DreamDaemonBridgeNamespace = &quot;Bridge&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The namespace that contains the ITGInterop bridge class. Used for reflection </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00060">60</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ac855a51c22d3290a2e6d77b397c916e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.DreamDaemonBridgeType = &quot;DreamDaemonBridge&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The ITGInterop bridge class. Used for reflection </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00064">64</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ab11cde4315f36ebad3ce66512c57deb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.EventFolder = &quot;EventHandlers/&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The instance directory for Preaction handlers </p>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00013">13</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aadbc57076386211c5940d4283ff28cd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a06fedfc5265b7b47b9d38b518d1bcdfd">Version</a> TGS.Server.Instance.GameAPIVersion</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00026">26</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad2e5d772eaace27ad4d3d5fe5361282c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.GameDir = &quot;Game&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00029">29</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a11a5205e6f76361d9c6c283c733e7f95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.GameDirA = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">GameDir</a> + &quot;/A&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00030">30</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a363f31fbe2b0b7172d0288b694235b6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.GameDirB = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">GameDir</a> + &quot;/B&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00031">31</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ab70169b31147444e4b4c1a2feba9b70e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.GameDirLive = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ad2e5d772eaace27ad4d3d5fe5361282c">GameDir</a> + &quot;/Live&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00032">32</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a7a892be6eee558d2be0006b156153098"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.lastCompilerError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00041">41</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a59a9f31f1b34f1c903b9f1af34e707e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.lastError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The last error the BYOND updater encountered </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00068">68</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af14a38d1febdad352e36b931dae6b722"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.LastSeenUser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The WindowsIdentity.Name of the last WindowsIdentity to attempt to access the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00025">25</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a353cd56720d611c08c54d3ca058227ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.LiveDirTest = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ab70169b31147444e4b4c1a2feba9b70e">GameDirLive</a> + <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ae70ee1f4b0575d3c75a1a14e9029863c">LiveFile</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00037">37</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ae70ee1f4b0575d3c75a1a14e9029863c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.LiveFile = &quot;/TestLive.lk&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00034">34</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ac5c950acf89122f63e09ca01c495f647"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.LiveTrackingBranch = &quot;___TGSLiveCommitTrackingBranch&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The branch that points to the current commit that is live or staged to be live in DreamDaemon </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00061">61</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aed67602a10e95dbf4cd053fb65871ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly byte TGS.Server.Instance.LoggingID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to assign the instance to event IDs </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html#l00023">23</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a16ce149ebe31e4dbf1bf318cc449e790"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PerformanceCounter TGS.Server.Instance.pcpu</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CPU performance information for <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#af8f30af9b177beb6c309e05d0d56be33" title="The DreamDaemon process ">Proc</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00048">48</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a536bd20d4c5e1a84a48c0ef13928495c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.PrivateKeyPath = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5c0c5108a336d1ec6e664c81e800a7e5">RepoKeyDir</a> + &quot;private_key.txt&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path to the private ssh-rsa key file </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00049">49</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="afabbb968df135f20d7dc6b9684bb3205"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.PRJobFile = &quot;prtestjob.json&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File name for monitoring which github pull requests are currently test merged </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00057">57</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af8f30af9b177beb6c309e05d0d56be33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Process TGS.Server.Instance.Proc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The DreamDaemon process </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00044">44</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aaadb267170db9b85e56b13136a93da15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.PublicKeyPath = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a5c0c5108a336d1ec6e664c81e800a7e5">RepoKeyDir</a> + &quot;public_key.txt&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path to the public ssh-rsa key file </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00053">53</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a781f077de8c59157761c92e7984b5f66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.ReattachInsteadOfRestart = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to indicate if an service restart is in progress on the watchdog. Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa" title="Used for multithreading safety ">restartLock</a> to access </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00082">82</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a92be8ba81fd1326b755a9e0582a958ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.RemoteTempBranchName = &quot;___TGS3TempBranch&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The branch name used for publishing testmerge commits </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00025">25</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ae59778f28034fa3b6dd2abec09536f6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Repository TGS.Server.Instance.Repo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The repository object </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00083">83</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a1e7fb86e4909538c2cfb04e228717c4b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.RepoBusy = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety. You may not use the repo if this is not locked or <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b" title="Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...">RepoBusy</a>. Either old the lock while you do work or set <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b" title="Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...">RepoBusy</a> to  then release it, do your work, reaquire it, and set <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b" title="Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...">RepoBusy</a> back to  </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00074">74</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a61ce14bfd634ae093b669fb8ba61b9fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.RepoErrorUpToDate = &quot;Already up to date!&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Error message for when a merge operation fails due to the target branch already having the source branch's commits </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00037">37</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a5c0c5108a336d1ec6e664c81e800a7e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.RepoKeyDir = &quot;RepoKey/&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> directory for the repository SSH keys </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00045">45</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af61d84cdc4e6ebdfab069f9705c4254b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.RepoLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used in conjunction with <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a1e7fb86e4909538c2cfb04e228717c4b" title="Used for multithreading safety. You may not use the repo if this is not locked or RepoBusy...">RepoBusy</a> for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00070">70</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ac5445b16310369325042c5f678d330fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.RepoPath = &quot;Repository&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> directory for the repository </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00021">21</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aadcdb4e1f858c283771dedb14baeb44d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.RepoTGS3SettingsPath = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#ac5445b16310369325042c5f678d330fd">RepoPath</a> + &quot;/TGS3.json&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path to the Repository's <a class="el" href="class_t_g_s_1_1_server_1_1_repo_config.html" title="Repository specific information for a Instance ">RepoConfig</a> json </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00029">29</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a26228c8ac1afc018e956a7e7ab7c9891"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.ResourceDiagnosticsDir = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#aaf6f1302e487564be3dba0a01c087628">DiagnosticsDir</a> + &quot;/Resources&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Directory for storing DreamDaemon ResourceUsage files </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00031">31</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a5863c8e752bf5bf1c25fa4aedad37378"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.RestartInProgress = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to indicate if an intentional restart is in progress on the watchdog. Requires <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a4e1de416ca840519b72c26d3018afeaa" title="Used for multithreading safety ">restartLock</a> to access </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00078">78</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a4e1de416ca840519b72c26d3018afeaa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.restartLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00074">74</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2ed6a913422799be709b9bc96079843a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.RevisionDownloadPath = &quot;BYONDRevision.zip&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path in the instance directory to store the downloaded BYOND revision </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00030">30</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a05106e6dc12c2e62d28555ea51f7ce7b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Thread TGS.Server.Instance.RevisionStaging</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thread used for staging BYOND revisions </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00072">72</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad9b09a2561149aa853596e6f0ad71a2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SCAPICompat = &quot;api_compat&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00035">35</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a7a166c03452b09f8c70d8d8ca1b578f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SCGracefulShutdown = &quot;graceful_shutdown&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00032">32</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a5a0fb0d9226f92194581b6cdf4620313"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SCHardReboot = &quot;hard_reboot&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00031">31</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a0529b34e0af1ac55bbfa5467b32c7943"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SCListCustomCommands = &quot;list_custom_commands&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00034">34</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a027fd008d970e0ab2bbcf0c6600b2f43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SCPlayerCount = &quot;client_count&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00036">36</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aec7ff08a627279457e1587fdbe413a55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SCWorldAnnounce = &quot;world_announce&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00033">33</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aa08b6bc42a06ba7088caabb6d98c6cd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="class_t_g_s_1_1_interface_1_1_command.html">Command</a>&gt; TGS.Server.Instance.ServerChatCommands</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00066">66</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a1cf44712e4c4bc40aeafe001be3e8685"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGS.Server.Instance.serviceCommsKey</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00022">22</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ac8d5475c760eb7f25421c7562717b589"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly SecurityIdentifier TGS.Server.Instance.ServiceSID = WindowsIdentity.GetCurrent().User</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SecurityIdentifier of the account the <a class="el" href="class_t_g_s_1_1_server_1_1_server.html" title="The windows service the application runs as ">Server</a> is running as </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00030">30</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

</div>
</div>
<a class="anchor" id="acfdb311619c660facd5659060f88781c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.silentCompile = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00046">46</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ab2352e546e76af17815f6df592c29648"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SPInstanceName = &quot;server_instance&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00028">28</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a1573187e7d948ee500474b9a58f86ec7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SRAPIVersion = &quot;api_ver&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00047">47</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a308536fcdae3d6137c06ef240fed600b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SRetSuccess = &quot;SUCCESS&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>String returned when a command completes successfully with no output </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00041">41</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a62c596891b48f1f82fe5a52f21830972"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SRIRCAdminChannelMessage = &quot;send2irc&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00045">45</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2290e48ea565b2ac1e78eb73da732afe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SRIRCBroadcast = &quot;irc&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00044">44</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aba675a0e6a86b635cb2036aea2678fbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SRKillProcess = &quot;killme&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00043">43</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9985e98395e0edf86bf718872d6d3331"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SRWorldReboot = &quot;worldreboot&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00046">46</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2e4fbf4a4caf26ec2d958c4fad93395a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.SSHPushRemote = &quot;ssh_push_target&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Git remote for push operations </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html#l00041">41</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a71a44e3a5d5b41aa8cdfca8d1007f916"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.StagingDirectory = &quot;BYOND_staged&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The instance directory to use when updating the BYOND installation </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00022">22</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aa9e071ffa09425b32638f7700f0e6998"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.StagingDirectoryInner = <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916">StagingDirectory</a> + &quot;/byond&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Path to the actual BYOND installation within the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html#a71a44e3a5d5b41aa8cdfca8d1007f916" title="The instance directory to use when updating the BYOND installation ">StagingDirectory</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00026">26</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a1f36b3bc5a88149c875173d089b0ea27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a97d3a0f74c35081df4416cd97291bc1d">DreamDaemonSecurity</a> TGS.Server.Instance.StartingSecurity</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current DreamDaemonSecurity level of DreamDaemon </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00087">87</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a47682c60949bfcaf10578c0d98166617"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.StaticBackupDir = &quot;Static_BACKUP&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00027">27</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ae497ee38d040cef22bc35af14942ca54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.StaticDirs = &quot;Static&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00026">26</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a122dbae4ff3d9cae4370490c8c3f6627"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SecurityIdentifier TGS.Server.Instance.TheDroidsWereLookingFor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SecurityIdentifier of the Windows group authorized to access the <a class="el" href="class_t_g_s_1_1_server_1_1_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">Instance</a> </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html#l00017">17</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a935cbfa1c54a330b8afd2ff1a2709cca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.topicLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html#l00020">20</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ab4d494c522d7d11a1889003a6f6d6c59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.UninitializedString = &quot;NEEDS INITIALIZING&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used for indicating unintialized encrypted data </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html#l00017">17</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aad79bfbe23fdb601f12bacaf3dfa6f84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGS.Server.Instance.UpdateStaged = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html#l00048">48</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a08fd219037def4230946a2487815ef44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_s_1_1_interface.html#a4b94c11ccb4064514452be149335bcb0">ByondStatus</a> TGS.Server.Instance.updateStat = ByondStatus.Idle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The status of the BYOND updater </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00059">59</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad58e7e902f1ae8301a067051c5b8479c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGS.Server.Instance.VersionFile = &quot;/byond_version.dat&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The location of the BYOND version data of an installation </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html#l00034">34</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af229871e1f4694c13d25a062502c2318"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGS.Server.Instance.watchdogLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html#l00053">53</a> of file <a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_administration_8cs_source.html">Administration.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_byond_8cs_source.html">Byond.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_chat_8cs_source.html">Chat.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_compiler_8cs_source.html">Compiler.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_config_8cs_source.html">Config.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_instance_8cs_source.html">Instance.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_interop_8cs_source.html">Interop.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a></li>
<li>TGS.Server/Instance/<a class="el" href="_t_g_s_8_server_2_instance_2_repository_8cs_source.html">Repository.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
